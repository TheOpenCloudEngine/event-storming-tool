(function(e){function t(t){for(var a,l,r=t[0],s=t[1],c=t[2],d=0,m=[];d<r.length;d++)l=r[d],i[l]&&m.push(i[l][0]),i[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={app:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0161":function(e,t){},"0233":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"ellipse-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.EllipseShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"43e79b7e",null);t["default"]=c.exports},"034f":function(e,t,n){"use strict";var a=n("1356"),i=n.n(a);i.a},"06f5":function(e,t){throw new Error("Module parse failed: The keyword 'public' is reserved (3:0)\nYou may need an appropriate loader to handle this file type.\n| forEach: BoundedContext\n| ---\n> public class Application{\n|     public static void main(String[]){\n|         System.out.println(\"BounedContext: {{name}}\");")},"0af2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-controller",props:{cloneable:{default:function(){return!1},type:Boolean},image:String},computed:{opengraphRole:function(){return"sub-controller"}},data:function(){return{id:this.uuid(),element:null,cloneComponent:null}},watch:{$props:{handler:function(){this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeSubContollers(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addSubContollers(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},addCloneElement:function(e){this.cloneComponent=e},removeControllerElement:function(){this.cloneComponent=null},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"d7999078",null);t["default"]=s.exports},"0c1e":function(module,__webpack_exports__,__webpack_require__){"use strict";var firebase__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8aa5"),firebase__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(firebase__WEBPACK_IMPORTED_MODULE_0__),changeCase=__webpack_require__("64ae"),pluralize=__webpack_require__("761a");__webpack_exports__["a"]={name:"modeling-element-base",props:{value:Object},created:function(){var e=this;e.messageRef=firebase__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref(`/${e.$route.params.author}/${e.$route.params.projectName}`),"org.uengine.modeling.model.BoundedContext"==e.value._type&&(e.namePanel=e.value.name)},data:function(){return{_id:null,rotateMove:!1,tmpWidth:0,tmpHeight:0,messageRef:{},isException:"NO",isUndoRedo:!1,checkValue:!1,selected:!1,openPanel:!1,namePanel:"",editUserImg:[]}},computed:{type(){return""},code(){return""},style:{get:function(){var e;if(this.value&&(e=this.value.elementView?this.value.elementView.style:this.value.relationView.style),e){var t=JSON.parse(e);return $.isEmptyObject(t)?this.defaultStyle:t}return this.defaultStyle},set:function(e){this.value&&(this.value.elementView?this.value.elementView.style=JSON.stringify(e):this.value.relationView.style=JSON.stringify(e))}},moveElement(){return _.cloneDeep(this.value.elementView)},valueChangeElement(){return _.cloneDeep(this.value)}},watch:{},mounted:function(){var e=this;$(document).keydown(t=>{if(46==t.keyCode||8==t.keyCode){e.getComponent("modeling-designer");if(e.selected&&!e.openPanel){var n={state:"delete",element:e.value};"org.uengine.modeling.model.Relation"==e.value._type?(console.log(e.value.relationView.id),e.$EventBus.$emit(`${e.value.relationView.id}`,n)):void 0==e.value.boundedContext?(console.log("bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)):void 0==e.value.boundedContext.id?(console.log("out bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)):(console.log("inner bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)),console.log("============== Storage Location Search Test 1-1 (Back Delete) ============= ")}}}),"org.uengine.modeling.model.Relation"!=e.value._type?e.$EventBus.$on(`${e.value.elementView.id}`,function(t){"delete"==t.state&&e.deleteActivity(t)}):"org.uengine.modeling.model.Relation"==e.value._type&&e.$EventBus.$on(`${e.value.relationView.id}`,function(t){"delete"==t.state&&e.deleteActivity(t)})},beforeDestroy(){this.value.elementView?this.$EventBus.$off(`${this.value.elementView.id}`):this.$EventBus.$off(`${this.value.relationView.id}`)},methods:{setNameCase:function(e){var t=this;"org.uengine.modeling.model.View"!=t.value._type&&"org.uengine.modeling.model.Event"!=t.value._type&&"org.uengine.modeling.model.Command"!=t.value._type&&"org.uengine.modeling.model.Policy"!=t.value._type&&"org.uengine.modeling.model.Aggregate"!=t.value._type||(t.value.name=e,t.value.namePascalCase=changeCase.pascalCase(e),t.value.nameCamelCase=changeCase.camelCase(e),t.value.namePlural=changeCase.camelCase(pluralize(e)))},mergeDeep(e,t){if(!t.length)return e;const n=t.shift();if(isObject(e)&&isObject(n))for(const a in n)isObject(n[a])?(e[a]||Object.assign(e,{[a]:{}}),mergeDeep(e[a],n[a])):Object.assign(e,{[a]:n[a]});return this.mergeDeep(e,t)},deleteActivity(obj){var me=this,designer=this.getComponent("modeling-designer"),opengraph=this.getComponent("opengraph"),type=this.value._type.split(".");if(type=type[type.length-1],eval("this.delete"+type+"()"),obj.element.isUndoRedo){if("org.uengine.modeling.model.Relation"!=me.value._type){var totalLength=designer.value.definition.length;designer.value.definition.some(function(e,t){if(!e&&me.value.elementView.id===e.elementView.id)return designer.value.definition[t]=null,designer.value.definition[t]=designer.value.definition[totalLength-1],void(designer.value.definition[totalLength-1]=null)})}}else me.selected=!1,me.value._type},difference:_.debounce(function(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},100),onLabelChanged:function(e,t){},onRotateShape:function(e,t){this.value.elementView.angle=t},connected:function(){},selectedActivity:function(){this.value&&(this.selected=!0)},deSelectedActivity:function(){this.value&&(this.selected&&(this.selected=!1),this.openPanel&&(this.openPanel=!1))},showProperty:function(){var e=this.getComponent("modeling-designer");this.value.editing?e.snackbar=!0:this.openPanel=!0},onAddToGroup:function(e,t,n){t.forEach(function(t){var n=!1;e.$parent.value.groups.some(function(e){if(e==t.$parent.value.elementView.id)return n=!0}),0==n&&("org.uengine.modeling.model.BoundedContext"==e.$parent.value._type&&"org.uengine.modeling.model.Aggregate"==t.$parent.value._type?(e.$parent.value.aggregates.push(t.$parent.value),e.$parent.value.groups.push(t.$parent.value.elementView.id)):"org.uengine.modeling.model.BoundedContext"==e.$parent.value._type&&"org.uengine.modeling.model.Policy"==t.$parent.value._type?(e.$parent.value.policies.push(t.$parent.value),e.$parent.value.groups.push(t.$parent.value.elementView.id)):"org.uengine.modeling.model.BoundedContext"==e.$parent.value._type&&"org.uengine.modeling.model.View"==t.$parent.value._type?(e.$parent.value.viewes.push(t.$parent.value),e.$parent.value.groups.push(t.$parent.value.elementView.id)):"org.uengine.modeling.model.BoundedContext"==e.$parent.value._type&&"org.uengine.modeling.model.Event"==t.$parent.value._type&&e.$parent.value.groups.push(t.$parent.value.elementView.id))})},onAddedToGroup:function(e,t,n){var a=this.getComponent("modeling-designer");if(e.tagName)console.log("Out BoundedContext"),a.value.definition.forEach(function(e){null!=e&&"org.uengine.modeling.model.BoundedContext"==e._type&&e.name==t.$parent.value.boundedContext.name&&("org.uengine.modeling.model.Aggregate"==t.$parent.value._type?e.aggregates.some(function(n,a){n.elementView.id==t.$parent.value.elementView.id&&(e.aggregates=[...e.aggregates.slice(0,a),...e.aggregates.slice(a+1)])}):"org.uengine.modeling.model.Policy"==t.$parent.value._type?e.policies.some(function(n,a){n.elementView.id==t.$parent.value.elementView.id&&(e.policies=[...e.policies.slice(0,a),...e.policies.slice(a+1)])}):"org.uengine.modeling.model.View"==t.$parent.value._type&&e.viewes.some(function(n,a){n.elementView.id==t.$parent.value.elementView.id&&(e.viewes=[...e.viewes.slice(0,a),...e.viewes.slice(a+1)])}),e.groups.some(function(n,a){n==t.$parent.value.elementView.id&&(e.groups=[...e.groups.slice(0,a),...e.groups.slice(a+1)])}))});else if("org.uengine.modeling.model.BoundedContext"==e.$parent.value._type){var i={id:e.$parent.value.elementView.id,name:e.$parent.value.name};t.$parent.value.boundedContext={},t.$parent.value.boundedContext=i}},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},refresh(){var e=this;e.value.elementView.x=e.value.elementView.x+1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight,e.rotateMove=!0,e.value.elementView.x=e.value.elementView.x-1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight})})},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},onRemoveShape:function(e){var t=this;console.log(e);var n={state:"delete",element:e};"org.uengine.modeling.model.Relation"==t.value._type?t.$EventBus.$emit(`${t.value.relationView.id}`,n):t.$EventBus.$emit(`${t.value.elementView.id}`,n),console.log("============== Storage Location Search Test 1-2 (Delete Btn) ============= ")}}}},"0f68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.canvas?e._t("default"):e._e(),n("div",{staticClass:"canvas-wrapper"},[n("div",{staticClass:"canvas-container",attrs:{id:e.id}})]),n("v-card",{staticStyle:{position:"relative",height:"200px"}},[n("v-card-text",{staticStyle:{position:"absolute"},attrs:{id:e.sliderId}})],1)],2)},i=[],o={name:"opengraph",props:{slider:{default:function(){return!1},type:Boolean},width:{default:function(){return 4e3},type:Number},height:{default:function(){return 4e3},type:Number},scale:{default:function(){return 1},type:Number},scaleMin:{default:function(){return.1},type:Number},scaleMax:{default:function(){return 10},type:Number},backgroundColor:{default:function(){return"#f9f9f9"},type:String},backgroundImage:String,imageBase:{default:function(){return location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/"},type:String},poolDropEvent:{default:function(){return!1},type:Boolean},automaticGuidance:{default:function(){return!0},type:Boolean},spotOnSelect:{default:function(){return!1},type:Boolean},autoSliderUpdate:{default:function(){return!0},type:Boolean},autoHistory:{default:function(){return!1},type:Boolean},wheelScalable:{default:function(){return!1},type:Boolean},dragPageMovable:{default:function(){return!1},type:Boolean},focusCanvasOnSelect:{default:function(){return!1},type:Boolean},checkBridgeEdge:{default:function(){return!1},type:Boolean},stickGuide:{default:function(){return!0},type:Boolean},navigator:{default:function(){return!1},type:Boolean},selectable:{default:function(){return!0},type:Boolean},dragSelectable:{default:function(){return!0},type:Boolean},movable:{default:function(){return!0},type:Boolean},resizable:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!0},type:Boolean},selfCloneable:{default:function(){return!1},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},groupDropable:{default:function(){return!0},type:Boolean},dragGridable:{default:function(){return!0},type:Boolean},enableHotkey:{default:function(){return!0},type:Boolean},enableHotkeyCtrlZ:{default:function(){return!0},type:Boolean},enableHotkeyDelete:{default:function(){return!0},type:Boolean},enableHotkeyCtrlA:{default:function(){return!0},type:Boolean},enableHotkeyCtrlC:{default:function(){return!0},type:Boolean},enableHotkeyCtrlV:{default:function(){return!0},type:Boolean},enableHotkeyCtrlD:{default:function(){return!0},type:Boolean},enableHotkeyCtrlG:{default:function(){return!0},type:Boolean},enableHotkeyCtrlU:{default:function(){return!0},type:Boolean},enableHotkeyArrow:{default:function(){return!0},type:Boolean},enableHotkeyShiftArrow:{default:function(){return!0},type:Boolean},enableContextmenu:{default:function(){return!0},type:Boolean},enableRootContextmenu:{default:function(){return!0},type:Boolean},defaultStyleShape:{default:function(){return{cursor:"default"}},type:Object},defaultStyleGeometry:{default:function(){return{stroke:"black","fill-r":".5","fill-cx":".5","fill-cy":".5",fill:"white","fill-opacity":0,"label-position":"center"}},type:Object},defaultStyleText:{default:function(){return{stroke:"none","text-anchor":"middle"}},type:Object},defaultStyleHtml:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleImage:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleSvg:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1.5,"stroke-opacity":1,"edge-type":"plain","arrow-start":"none","arrow-end":"block","stroke-dasharray":"","label-position":"center","stroke-linejoin":"round",cursor:"pointer"}},type:Object},defaultStyleGroup:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"white","fill-opacity":0,"stroke-dasharray":"- ","shape-rendering":"crispEdges",cursor:"move"}},type:Object},defaultStyleGuideUl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nwse-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideRc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLwc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleVirtualEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1,"stroke-opacity":1,"stroke-dasharray":"- ","stroke-linejoin":"round","arrow-start":"none","arrow-end":"none"}},type:Object},defaultStyleRubberBand:{default:function(){return{stroke:"#0000FF",opacity:.2,fill:"#0077FF"}},type:Object},defaultStyleDropOverBbox:{default:function(){return{stroke:"#0077FF",fill:"none",opacity:.3,"shape-rendering":"crispEdges"}},type:Object},defaultStyleLabel:{default:function(){return{"font-size":12,"font-color":"black",fill:"none"}},type:Object},defaultStyleConnectGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"none","stroke-dasharray":"- ","shape-rendering":"crispEdges"}},type:Object},defaultStyleConnectGuideSpotCircle:{default:function(){return{r:7,stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.5,cursor:"pointer"}},type:Object},defaultStyleConnectGuideSpotRect:{default:function(){return{stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.2,cursor:"ns-resize",w:20,h:10}},type:Object},defaultStyleConnectableHighlight:{default:function(){return{}},type:Object}},data:function(){let e=this.uuid(),t=e+"-slider";return{props:JSON.parse(JSON.stringify(this.$props)),id:e,sliderId:t,canvas:null,elements:{},container:null,timerMap:{renderingTime:{}}}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)"object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(n=!0):e[a]!=t[a]&&(n=!0);n&&this.canvas&&this.setCanvasConfiguration(this.canvas)},deep:!0}},computed:{opengraphRole:function(){return"canvas"}},mounted:function(){this.render(),this.bindEvents();var e=this;window.Vue.OGBus.$on("renderingTime",function(t,n){e.timerMap.renderingTime[t]||(e.timerMap.renderingTime[t]=0),e.timerMap.renderingTime[t]+=n})},methods:{setCanvasConfiguration:function(e){var t=this;e._CONTAINER=$(this.$el).find(".canvas-wrapper")[0],this.container=e._CONTAINER,e._CONFIG.CANVAS_BACKGROUND=this.backgroundColor,e._CONFIG.IMAGE_BASE=this.imageBase,e._CONFIG.SCALE_MIN=this.scaleMin,e._CONFIG.SCALE_MAX=this.scaleMax,$(e.getRootElement()).css({"background-color":t.backgroundColor}),t.backgroundImage&&$(e.getRootElement()).css({"background-image":t.backgroundImage}),e.setCanvasSize([t.width,t.height]),e._CONFIG.POOL_DROP_EVENT=this.poolDropEvent,e._CONFIG.AUTOMATIC_GUIDANCE=this.automaticGuidance,e._CONFIG.SPOT_ON_SELECT=this.spotOnSelect,e._CONFIG.AUTO_SLIDER_UPDATE=this.autoSliderUpdate,e._CONFIG.AUTO_HISTORY=this.autoHistory,e._CONFIG.WHEEL_SCALABLE=this.wheelScalable,e._CONFIG.DRAG_PAGE_MOVABLE=this.dragPageMovable,e._CONFIG.FOCUS_CANVAS_ONSELECT=this.focusCanvasOnSelect,e._CONFIG.CHECK_BRIDGE_EDGE=this.checkBridgeEdge,e._CONFIG.STICK_GUIDE=this.stickGuide,e._CONFIG.SELECTABLE=this.selectable,e._CONFIG.DRAG_SELECTABLE=this.dragSelectable,e._CONFIG.MOVABLE=this.movable,e._CONFIG.RESIZABLE=this.resizable,e._CONFIG.CONNECTABLE=this.connectable,e._CONFIG.SELF_CONNECTABLE=this.selfConnectable,e._CONFIG.CONNECT_CLONEABLE=this.selfCloneable,e._CONFIG.CONNECT_STYLE_CHANGE=this.connectStyleChange,e._CONFIG.LABEL_EDITABLE=this.labelEditable,e._CONFIG.GROUP_DROPABLE=this.groupDropable,e._CONFIG.DRAG_GRIDABLE=this.dragGridable,e._CONFIG.ENABLE_CONTEXTMENU=this.enableContextmenu,e._CONFIG.ENABLE_ROOT_CONTEXTMENU=this.enableRootContextmenu,e._CONFIG.ENABLE_HOTKEY=this.enableHotkey,e._CONFIG.ENABLE_HOTKEY_CTRL_Z=this.enableHotkeyCtrlZ,e._CONFIG.ENABLE_HOTKEY_DELETE=this.enableHotkeyDelete,e._CONFIG.ENABLE_HOTKEY_CTRL_A=this.enableHotkeyCtrlA,e._CONFIG.ENABLE_HOTKEY_CTRL_C=this.enableHotkeyCtrlC,e._CONFIG.ENABLE_HOTKEY_CTRL_V=this.enableHotkeyCtrlV,e._CONFIG.ENABLE_HOTKEY_CTRL_D=this.enableHotkeyCtrlD,e._CONFIG.ENABLE_HOTKEY_CTRL_G=this.enableHotkeyCtrlG,e._CONFIG.ENABLE_HOTKEY_CTRL_U=this.enableHotkeyCtrlU,e._CONFIG.ENABLE_HOTKEY_ARROW=this.enableHotkeyArrow,e._CONFIG.ENABLE_HOTKEY_SHIFT_ARROW=this.enableHotkeyShiftArrow,e._CONFIG.DEFAULT_STYLE.SHAPE=this.defaultStyleShape,e._CONFIG.DEFAULT_STYLE.GEOM=this.defaultStyleGeometry,e._CONFIG.DEFAULT_STYLE.TEXT=this.defaultStyleText,e._CONFIG.DEFAULT_STYLE.HTML=this.defaultStyleHtml,e._CONFIG.DEFAULT_STYLE.IMAGE=this.defaultStyleImage,e._CONFIG.DEFAULT_STYLE.SVG=this.defaultStyleSvg,e._CONFIG.DEFAULT_STYLE.EDGE=this.defaultStyleEdge,e._CONFIG.DEFAULT_STYLE.GROUP=this.defaultStyleGroup,e._CONFIG.DEFAULT_STYLE.GUIDE_BBOX=this.defaultStyleGuideBbox,e._CONFIG.DEFAULT_STYLE.GUIDE_UL=this.defaultStyleGuideUl,e._CONFIG.DEFAULT_STYLE.GUIDE_UR=this.defaultStyleGuideUr,e._CONFIG.DEFAULT_STYLE.GUIDE_LL=this.defaultStyleGuideLl,e._CONFIG.DEFAULT_STYLE.GUIDE_LR=this.defaultStyleGuideLr,e._CONFIG.DEFAULT_STYLE.GUIDE_LC=this.defaultStyleGuideLc,e._CONFIG.DEFAULT_STYLE.GUIDE_UC=this.defaultStyleGuideUc,e._CONFIG.DEFAULT_STYLE.GUIDE_RC=this.defaultStyleGuideRc,e._CONFIG.DEFAULT_STYLE.GUIDE_LWC=this.defaultStyleGuideLwc,e._CONFIG.DEFAULT_STYLE.GUIDE_VIRTUAL_EDGE=this.defaultStyleVirtualEdge,e._CONFIG.DEFAULT_STYLE.RUBBER_BAND=this.defaultStyleRubberBand,e._CONFIG.DEFAULT_STYLE.DROP_OVER_BBOX=this.defaultStyleDropOverBbox,e._CONFIG.DEFAULT_STYLE.LABEL=this.defaultStyleLabel,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_BBOX=this.defaultStyleConnectGuideBbox,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_CIRCLE=this.defaultStyleConnectGuideSpotCircle,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_RECT=JSON.parse(JSON.stringify(this.defaultStyleConnectGuideSpotRect)),e._CONFIG.DEFAULT_STYLE.CONNECTABLE_HIGHLIGHT=this.defaultStyleConnectableHighlight,this.slider?e._CONFIG.SLIDER||(e.addSlider({slider:$("#"+this.sliderId),left:20,width:200,height:300,appendTo:"body",position:{my:"bottom",at:"bottom",of:e._CONTAINER}}),$("#"+this.sliderId).css("position","absolute")):e.removeSlider()},getElementById:function(e){return this.elements[e]},render:function(){OG.renderer.RaphaelRenderer.prototype.getContainer=function(){return this._PAPER.canvas.parentNode.parentNode};var e=new OG.Canvas(this.id,[this.width,this.height],this.backgroundColor,this.backgroundImage?"url("+this.backgroundImage+")":null);this.setCanvasConfiguration(e),e.initConfig({}),this.canvas=e,this.$emit("canvasReady",this)},bindEvents:function(){var e=this;e.canvas&&(e.canvas.onDrawShape(function(t,n){e.$emit("drawShape",e.getElementById(n.id)||n)}),e.canvas.onAddHistory(function(t){for(var n in e.$ModelingBus.$emit("MoveEvent"),e.elements)e.elements[n].emitElement();e.$emit("userAction"),e.$nextTick(function(){e.canvas.setCanvasSize([4e3,4e3])})}),e.canvas.onDivideLane(function(t,n){e.$emit("divideLane",e.getElementById(n.id)||n)}),e.canvas.onDrawLabel(function(t,n,a){e.$emit("drawLabel",e.getElementById(n.id)||n,a)}),e.canvas.onLabelChanged(function(t,n,a,i){e.$emit("labelChanged",e.getElementById(n.id)||n,a,i)}),e.canvas.onBeforeLabelChange(function(t,n,a,i){e.$emit("beforeLabelChange",e.getElementById(n.id)||n,a,i)}),e.canvas.onRedrawShape(function(t,n){e.$emit("redrawShape",e.getElementById(n.id)||n)}),e.canvas.onRemoveShape(function(t,n){e.$emit("removeShape",e.getElementById(n.id)||n)}),e.canvas.onRotateShape(function(t,n,a){e.$emit("Rotate",e.getElementById(n.id)||n,a)}),e.canvas.onMoveShape(function(t,n,a){e.$emit("moveShape",e.getElementById(n.id)||n,a)}),e.canvas.onResizeShape(function(t,n,a){e.$emit("resizeShape",e.getElementById(n.id)||n,a)}),e.canvas.onBeforeConnectShape(function(t,n,a,i){var o;return e.$emit("beforeConnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i,function(e){o=e}),o}),e.canvas.onBeforeRemoveShape(function(t,n){var a;return e.$emit("beforeRemoveShape",e.getElementById(n.id)||n,function(e){a=e}),a}),e.canvas.onConnectShape(function(t,n,a,i){e.$emit("connectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onDisconnectShape(function(t,n,a,i){e.$emit("disconnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onGroup(function(t,n){e.$emit("group",e.getElementById(n.id)||n)}),e.canvas.onUnGroup(function(t,n){for(var a=[],i=0;i<n.lenght;i++)a.push(e.getElementById(n[i].id)||n[i]);e.$emit("unGroup",a)}),e.canvas.onCollapsed(function(t,n){e.$emit("collapsed",e.getElementById(n.id)||n)}),e.canvas.onExpanded(function(t,n){e.$emit("expanded",e.getElementById(n.id)||n)}),e.canvas.onDuplicated(function(t,n,a,i){e.$emit("clone",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}))},addElement:function(e,t){this.elements[t]=e},removeElement:function(e){var t,n=this;if(this.$emit("beforeDestroyElement",n.getElementById(e),function(e){t=e}),"boolean"!=typeof t||t){delete this.elements[e];var a=this.canvas.getElementById(e);a&&($(a).removeAttr("_toedge"),$(a).removeAttr("_fromedge"),this.canvas.removeShape(a,!0))}else;},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},printTimer:function(e,t){this.timerMap={renderingTime:{}}}}},l=o,r=(n("bc3e"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("99d9"),m=Object(r["a"])(l,a,i,!1,null,"8b6fa5be",null);t["default"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["b"]})},1:function(e,t){},1150:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("group-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,label:e.namePanel,width:e.value.elementView.width,height:e.value.elementView.height,_style:{stroke:"black","vertical-align":"top","font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:label":function(t){e.namePanel=t},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addToGroup:e.onAddToGroup,removeShape:function(t){return e.onRemoveShape(e.value)}}},[n("storming-sub-controller",{attrs:{type:e.type}}),n("sub-elements")],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"BoundedContext"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l=n("8e15"),r=n("2479"),s=(n("64ae"),n("761a"),{components:{ImageElement:r["default"],GroupElement:l["default"]},mixins:[o["default"]],name:"bounded-context-definition",props:{},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.BoundedContext"},createNew(e,t,n,a,i){return{description_text:"이벤트의 내용을 정의하고 시스템의 경계를 구분\n.",_type:this.className(),name:"BoundedContext"+t,namePlural:"",aggregates:[],policies:[],viewes:[],elementView:{_type:this.className(),id:e,x:t,y:n,width:300,height:300,style:JSON.stringify({})},portGenerated:0,groups:[],tempId:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.name":function(e,t){this.namePanel=e,this.checkValue=!0},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){t.value.name=t.namePanel;var e={state:"updateBounded",element:JSON.parse(JSON.stringify(t.value))};t.value.groups.forEach(function(n){t.$EventBus.$emit(n,e)}),t.checkValue=!1})}},mounted:function(){var e=this,t=this.value.elementView.id,n=$("#"+t);n.parent().children().first().before(n);e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"deleteAggregate"==t.state?(e.value.aggregates.some(function(n,a){if(n.elementView.id==t.element.elementView.id)return e.value.aggregates[a]=null,void(e.value.aggregates=e.value.aggregates.filter(e=>e))}),e.value.groups.some(function(n,a){if(n==t.element.elementView.id)return e.value.groups[a]=null,void(e.value.groups=e.value.groups.filter(e=>e))})):"updateAggregate"==t.state?e.value.aggregates.some(function(n,a){n.elementView.id==t.element.elementView.id&&(e.value.aggregates[a]=t.element)}):"updatePolicy"==t.state?e.value.policies.some(function(n,a){n.elementView.id==t.element.elementView.id&&(e.value.policies[a]=t.element)}):"deletePolicy"==t.state?(e.value.policies.some(function(n,a){n.elementView.id==t.element.elementView.id&&(e.value.policies[a]=null,e.value.policies=e.value.policies.filter(e=>e))}),e.value.groups.some(function(n,a){if(n==t.element.elementView.id)return e.value.groups[a]=null,void(e.value.groups=e.value.groups.filter(e=>e))})):"deleteEvent"==t.state?e.value.groups.some(function(n,a){if(n==t.element.elementView.id)return e.value.groups[a]=null,void(e.value.groups=e.value.groups.filter(e=>e))}):"deleteView"==t.state?e.value.groups.some(function(n,a){if(n==t.element.elementView.id)return e.value.groups[a]=null,void(e.value.groups=e.value.groups.filter(e=>e))}):"deleteCommand"==t.state&&e.value.groups.some(function(n,a){if(n==t.element.elementView.id)return e.value.groups[a]=null,void(e.value.groups=e.value.groups.filter(e=>e))}),"updateView"==t.state&&e.value.viewes.some(function(n,a){n.elementView.id==t.element.elementView.id&&(e.value.viewes[a]=t.element)}),"deleteView"==t.state&&e.value.viewes.some(function(n,a){n.elementView.id==t.element.elementView.id&&(e.value.viewes[a]=null,e.value.viewes=e.value.viewes.filter(e=>e))})})},methods:{deleteBoundedContext(){var e=this;return new Promise(function(t){e.value.aggregates.forEach(function(t){console.log(t.elementView.id);var n={state:"deleteBounded",element:e.value};e.$EventBus.$emit(t.elementView.id,n)}),e.deleteInBounded(e.value.name),e.$EventBus.$off(`${e.value.elementView.id}`),e.$emit("update:value",null),t()})},deleteInBounded(e){var t=this,n=this.getComponent("modeling-designer");n.value.definition.forEach(function(a,i){null!=a&&a.boundedContext&&a.boundedContext.name==e&&(t.$EventBus.$off(`${a.elementView.id}`),n.value.definition[i]=null)})}}}),c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"704eea44",null);t["default"]=d.exports},1356:function(e,t,n){},"1c71":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:e.widthScale},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.titleName)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",[e._v(e._s(e.copyElement.description_text))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-divider"),n("v-card",{attrs:{outlined:""}},[n("v-card-text",[e.titleName?n("span",{staticClass:"headline"},[e._v(e._s(e.titleName)+" Name")]):e._e(),n("v-textarea",{attrs:{name:"input-7-1",outline:"",label:"Input Text","auto-grow":"",disabled:e.isRead},model:{value:e.namePanel,callback:function(t){e.namePanel=t},expression:"namePanel"}}),e.usedTranslate?n("v-card",{attrs:{outlined:"",disabled:e.isRead}},[n("v-card-text",{on:{click:function(t){return e.changeTranslate()}}},[e._v("\n                            추천 단어 : "+e._s(e.translateText)+"\n                        ")]),n("v-card-text",[e._v("\n                            선택시 변경 됩니다.\n                        ")])],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Trigger")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-radio-group",{staticStyle:{"font-size":"small"},attrs:{disabled:e.isRead},model:{value:e.copyElement.trigger,callback:function(t){e.$set(e.copyElement,"trigger",t)},expression:"copyElement.trigger"}},[n("v-row",[n("v-col",[n("v-radio",{attrs:{label:"Pre Persist",value:"@PrePersist"}}),n("v-radio",{attrs:{label:"Pre Update",value:"@PreUpdate"}}),n("v-radio",{attrs:{label:"Pre Delete",value:"@PreDelete"}})],1),n("v-col",[n("v-radio",{attrs:{label:"Post Persist",value:"@PostPersist"}}),n("v-radio",{attrs:{label:"Post Update",value:"@PostUpdate"}}),n("v-radio",{attrs:{label:"Post Delete",value:"@PostDelete"}})],1)],1)],1)],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Attributes")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.copyElement.fieldDescriptors,callback:function(t){e.$set(e.copyElement,"fieldDescriptors",t)},expression:"copyElement.fieldDescriptors"}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.copyElement.fieldDescriptors,function(t){return n("div",{key:t.name},[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticStyle:{"margin-right":"4px"},attrs:{cols:"1"}},[t.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(n){return e.selectKey(t)}}},[e._v("\n                                                    mdi-key\n                                                ")]):n("v-icon",{on:{click:function(n){return e.selectKey(t)}}},[e._v("\n                                                    mdi-checkbox-blank-circle-outline\n                                                ")])],1),n("v-col",{attrs:{cols:"2"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:t.className,callback:function(n){e.$set(t,"className",n)},expression:"element.className"}}):e._e():n("div",[e._v("\n                                                    "+e._s(t.className)+"\n                                                ")])],1),n("v-col",{attrs:{cols:"5"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}):e._e():n("div",[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])],1),n("v-col",{attrs:{cols:"2"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.modifyAttributeItem(t)}}},[e._v("\n                                                    mdi-content-save\n                                                ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.editAttributeItem(t)}}},[e._v("\n                                                    edit\n                                                ")]),t.isKey?e._e():n("v-icon",{attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.deleteAttribute(t)}}},[e._v("\n                                                    delete\n                                                ")])],1)],1)],1)}),0)],1),n("v-row",{attrs:{justify:"center"}},[n("v-select",{staticStyle:{width:"30px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}}),n("v-text-field",{attrs:{label:"Name",disabled:e.isRead,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1),n("v-row",{attrs:{justify:"end"}},["org.uengine.modeling.model.Event"==e.copyElement._type?n("v-btn",{attrs:{text:"",disabled:e.isRead},on:{click:function(t){return e.syncFromAggregate()}}},[n("v-icon",{attrs:{color:"grey lighten-1",small:""}},[e._v("mdi-refresh")]),e._v("\n                                    Sync attributes\n                                ")],1):e._e(),n("v-btn",{attrs:{disabled:e.isRead,rounded:"",color:"primary",dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1)],1)],1):"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.copyElement.aggregateRoot.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.isKey",fn:function(t){var a=t.item;return[a.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(t){return e.selectKey(a)}}},[e._v(" mdi-key\n                                    ")]):n("v-icon",{on:{click:function(t){return e.selectKey(a)}}},[e._v("mdi-checkbox-blank-circle-outline\n                                    ")])]}},{key:"item.className",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:a.className,callback:function(t){e.$set(a,"className",t)},expression:"item.className"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.className)+"\n                                    ")])]}},{key:"item.name",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"item.name"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.name)+"\n                                    ")])]}},{key:"item.action",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.modifyAttributeItem(a)}}},[e._v("\n                                        mdi-content-save\n                                    ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editAttributeItem(a)}}},[e._v("\n                                        edit\n                                    ")]),a.isKey?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteAttribute(a)}}},[e._v("\n                                        delete\n                                    ")])]}}])}),n("v-row",{attrs:{justify:"center"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Name",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1)],1),n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1)],1)],1):e._e(),"org.uengine.modeling.model.Command"==e.copyElement._type?n("v-layout",[n("v-col",[n("v-radio-group",{staticStyle:{"padding-left":"10px"},attrs:{row:""},model:{value:e.copyElement.isRestRepository,callback:function(t){e.$set(e.copyElement,"isRestRepository",t)},expression:"copyElement.isRestRepository"}},[n("v-radio",{attrs:{label:"Controller",value:!1}}),n("v-radio",{attrs:{label:"RestRepository",value:!0}})],1),n("div",[e._v("Associated Aggregate")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{items:e.aggregateList,"item-text":"name","return-object":"",label:"Select Aggregate","persistent-hint":""},model:{value:e.copyElement.aggregate,callback:function(t){e.$set(e.copyElement,"aggregate",t)},expression:"copyElement.aggregate"}}),e.copyElement.isRestRepository?n("v-col",[n("div",[e._v("Method")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{items:e.restfulList,label:"Method","persistent-hint":""},model:{value:e.copyElement.restRepositoryInfo.method,callback:function(t){e.$set(e.copyElement.restRepositoryInfo,"method",t)},expression:"copyElement.restRepositoryInfo.method"}})],1):n("v-col",[n("div",[e._v("Api path")]),n("v-text-field",{attrs:{outlined:"",hint:"맨 처음 '/' 제외한 apiPath를 작성해주세요. (Default '/')"},model:{value:e.copyElement.controllerInfo.apiPath,callback:function(t){e.$set(e.copyElement.controllerInfo,"apiPath",t)},expression:"copyElement.controllerInfo.apiPath"}}),n("div",[e._v("Method")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{items:e.restfulList,label:"Method","persistent-hint":""},model:{value:e.copyElement.controllerInfo.method,callback:function(t){e.$set(e.copyElement.controllerInfo,"method",t)},expression:"copyElement.controllerInfo.method"}})],1)],1)],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.model.External"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Associated Aggregate")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.model.External"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-autocomplete",{staticStyle:{"margin-left":"20px","margin-right":"20px"},attrs:{items:e.aggregateList,"item-text":"name","return-object":"",disabled:e.isRead,label:"Select Aggregate","persistent-hint":""},model:{value:e.copyElement.aggregate,callback:function(t){e.$set(e.copyElement,"aggregate",t)},expression:"copyElement.aggregate"}})],1)],1):e._e(),"org.uengine.modeling.model.View"==e.value._type?n("v-layout",{staticStyle:{width:"auto"}},[n("v-card-text",[n("span",{staticClass:"headline"},[e._v("Attributes")]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.copyElement.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.isKey",fn:function(t){var a=t.item;return[a.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(t){return e.selectKey(a)}}},[e._v(" mdi-key\n                                    ")]):n("v-icon",{attrs:{small:""},on:{click:function(t){return e.selectKey(a)}}},[e._v("\n                                        mdi-checkbox-blank-circle-outline\n                                    ")])]}},{key:"item.className",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:a.className,callback:function(t){e.$set(a,"className",t)},expression:"item.className"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.className)+"\n                                    ")])]}},{key:"item.name",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"item.name"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.name)+"\n                                    ")])]}},{key:"item.action",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.modifyAttributeItem(a)}}},[e._v("\n                                        mdi-content-save\n                                    ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editAttributeItem(a)}}},[e._v("\n                                        edit\n                                    ")]),a.isKey?e._e():n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteAttribute(a)}}},[e._v("\n                                        delete\n                                    ")])]}}],null,!1,2043799835)}),n("v-row",{attrs:{justify:"center"}},[n("v-select",{staticStyle:{width:"30px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}}),n("v-text-field",{attrs:{label:"Name",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1),n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1),n("v-radio-group",{staticStyle:{"padding-left":"10px"},attrs:{row:""},model:{value:e.copyElement.dataProjection,callback:function(t){e.$set(e.copyElement,"dataProjection",t)},expression:"copyElement.dataProjection"}},[n("v-radio",{attrs:{label:"CQRS",value:"cqrs"}}),n("v-radio",{attrs:{disabled:"",label:"UI Mashup",value:"uimashup"}}),n("v-radio",{attrs:{disabled:"",label:"GraphQL",value:"graphql"}})],1),e._l(e.copyElement.createRules,function(t,a){return n("v-col",[n("ViewCreate",{attrs:{createItem:t,index:a},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"start",justify:"end"}},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.viewMainRowAdd("create")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1),e._l(e.copyElement.updateRules,function(t,a){return n("v-col",[n("ViewUpdate",{attrs:{updateItem:t,index:a},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.viewMainRowAdd("update")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1),e._l(e.copyElement.deleteRules,function(t,a){return n("v-col",[n("ViewDelete",{attrs:{deleteItem:t,index:a},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"start",justify:"end"}},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.viewMainRowAdd("delete")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1)],2)],1):"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("v-layout",[n("v-divider",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{dark:""}}),n("v-btn",{attrs:{block:"",color:"info",rounded:""},on:{click:function(t){return e.umlDiagramOpen()}}},[e._v(" Edit Domain Model by UML\n                        ")])],1):e._e()],1)],1)],1)],1)],1)},i=[],o=n("310e"),l=n.n(o),r=n("8aa5"),s=n.n(r),c=n("2ef0"),u=n("36b0")("AIzaSyB2_MiQOuI2clNuy0QP3yktUXxbfiVAaUk"),d=n("64ae"),m=n("761a"),p={name:"modeling-property-panel",props:{value:Object,titleName:String,img:String},components:{draggable:l.a},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},fieldDescriptors:function(){var e=this;return e.value.fieldDescriptors},widthScale:function(){var e=this;return"org.uengine.modeling.model.View"==e.value._type?500:390},eventList:function(){var e=this.$parent.getComponent("modeling-designer"),t=[];return e.value.definition.forEach(function(e){null!=e&&"org.uengine.modeling.model.Event"==e._type&&t.push(e)}),t=t.filter(e=>e),t},aggregateList:function(){var e=this.$parent.getComponent("modeling-designer"),t=[];return e.value.definition.forEach(function(e){if(null!=e){if("org.uengine.modeling.model.Aggregate"==e._type)var n={id:e.elementView.id,name:e.name,namePlural:e.namePlural,namePascalCase:e.namePascalCase,nameCamelCase:e.nameCamelCase,boundedContext:e.boundedContext,fieldDescriptors:e.aggregateRoot["fieldDescriptors"]};t.push(n)}}),t=t.filter(e=>e),t}},data:function(){return{show:!1,navigationDrawer:!1,_item:this.value,preventWatch:!1,x:null,y:null,width:null,height:null,style:[],angle:null,connectedList:[],connectedListName:{},viewList:null,restfulList:["GET","POST","PATCH","DELETE","PUT"],entityTypeList:["Integer","String","Float","Double","Long","Date"],entityKey:!1,entityType:"",entityName:"",drag:!1,headers:[{text:"key",value:"isKey",align:"center"},{text:"type",value:"className",align:"center"},{text:"name",value:"name",align:"center"},{text:"Actions",value:"action",sortable:!1,align:"center"}],translateText:"",usedTranslate:!1,UMLInput:"",setIsKeyList:[],attributeEdit:!1,attributeEditIndex:0,isRead:!0,namePanel:"",copyElement:{},parmUid:""}},beforeDestroy(){var e=this,t=this.$route.params.projectId,n=this.$route.params.projectVersion;e.setNameCase(e.namePanel),"org.uengine.modeling.model.Aggregate"==e.value._type?e.value.aggregateRoot.fieldDescriptors=e.copyElement.aggregateRoot.fieldDescriptors:"org.uengine.modeling.model.Command"==e.value._type?(e.value.aggregate=e.copyElement.aggregate,e.value.isRestRepository=e.copyElement.isRestRepository,e.value.controllerInfo=e.copyElement.controllerInfo,e.value.restRepositoryInfo=e.copyElement.restRepositoryInfo):"org.uengine.modeling.model.Event"==e.value._type?(e.value.trigger=e.copyElement.trigger,e.value.fieldDescriptors=e.copyElement.fieldDescriptors,e.value.aggregate=e.copyElement.aggregate):"org.uengine.modeling.model.View"==e.value._type?(e.value.fieldDescriptors=e.copyElement.fieldDescriptors,e.value.dataProjection=e.copyElement.dataProjection,e.value.createRules=e.copyElement.createRules,e.value.updateRules=e.copyElement.updateRules,e.value.deleteRules=e.copyElement.deleteRules):"org.uengine.modeling.model.Policy"==e.value._type||e.value._type,s.a.database().ref("/saver/sharedMulti/"+t+"/"+n+"/participants/").child(localStorage.getItem("uid")).update({nowLocation:""})},created:function(){var e=this,t=this.$route.params.projectId,n=this.$route.params.projectVersion;e.parmUid=this.$route.params.userUid,e.copyElement=JSON.parse(JSON.stringify(e.value)),null!=e.copyElement.name&&(e.namePanel=e.copyElement.name),e.parmUid==localStorage.getItem("uid")||"anonymous"==e.parmUid?e.isRead=!1:null==localStorage.getItem("uid")?e.isRead=!1:"true"==e.parmType&&(e.forkDialog=!0),e.$nextTick(function(){s.a.database().ref("/saver/sharedMulti/"+t+"/"+n+"/participants/").child(localStorage.getItem("uid")).update({nowLocation:e.value.elementView.id,pastLocation:e.value.elementView.id})})},mounted:function(){this.fieldDescriptors;var e=this;e.parmUid==localStorage.getItem("uid")||"anonymous"==e.parmUid?e.isRead=!1:null==localStorage.getItem("uid")?e.isRead=!1:"true"==e.parmType&&(e.forkDialog=!0)},watch:{namePanel:function(e){var t=this,n=this.$parent.getComponent("modeling-designer");t.copyElement.name=e.replace(/\n/g,"").replace(/ /gi,""),t.getTranslate(t.copyElement.name),n.$refs[`${t.value.elementView.id}`][0].namePanel=t.copyElement.name},navigationDrawer:{handler:function(e,t){this.$parent.getComponent("opengraph");this.titleName,1==e?(this._item=this.value,this.value.elementView&&(this.x=this.value.elementView.x,this.y=this.value.elementView.y,this.width=this.value.elementView.width,this.height=this.value.elementView.height),this.$emit("update:drawer",e)):(this.copyElement.name=this.copyElement.name.replace(/\n/g,"").replace(/ /gi,""),this.$emit("update:drawer",!1))}}},methods:{setNameCase:function(e){var t=this;"org.uengine.modeling.model.View"==t.value._type||"org.uengine.modeling.model.Event"==t.value._type||"org.uengine.modeling.model.Command"==t.value._type||"org.uengine.modeling.model.Policy"==t.value._type||"org.uengine.modeling.model.Aggregate"==t.value._type?(t.value.name=e,t.value.namePascalCase=d.pascalCase(e),t.value.nameCamelCase=d.camelCase(e),t.value.namePlural=d.camelCase(m(e))):(t.value.name=e,t.value.namePascalCase=d.pascalCase(e))},selectKey(e){var t=this;"org.uengine.modeling.model.Aggregate"==t.value._type?t.copyElement.aggregateRoot.fieldDescriptors.forEach(function(n,a){n.isKey=!1,a==t.copyElement.aggregateRoot.fieldDescriptors.indexOf(e)&&(n.isKey=!0)}):t.copyElement.fieldDescriptors.forEach(function(n,a){n.isKey=!1,a==t.copyElement.fieldDescriptors.indexOf(e)&&(n.isKey=!0)})},syncFromAggregate(){var e=this;if(null!=e.copyElement.aggregate.id){var t=e.value.aggregate.fieldDescriptors,n=JSON.parse(JSON.stringify(e.copyElement.fieldDescriptors));console.log(">>>>>>>>>>>>>>>>>",t,e.value.aggregate.fieldDescriptors,e.copyElement.aggregate.fieldDescriptors),t.forEach(function(t){var a=!1;n.forEach(function(e){JSON.stringify(Object.entries(t).sort())===JSON.stringify(Object.entries(e).sort())?a=!0:t.name==e.name&&t.className==e.className&&(a=!0)}),a||(t.isKey=!1,e.copyElement.fieldDescriptors.push(t))})}else alert("select 'Associated aggreate'")},viewMainRowAdd(e){var t=this;if("cqrs"==t.copyElement.dataProjection){if("create"==e){var n={_type:"viewStoreRule",operation:"CREATE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.createRules.push(n)}else if("update"==e){n={_type:"viewStoreRule",operation:"UPDATE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.updateRules.push(n)}else if("delete"==e){n={_type:"viewStoreRule",operation:"DELETE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.deleteRules.push(n)}}else t.copyElement.dataProjection},initNameCase:function(e){var t=this;"org.uengine.modeling.model.View"!=t.value._type&&"org.uengine.modeling.model.Event"!=t.value._type&&"org.uengine.modeling.model.Command"!=t.value._type&&"org.uengine.modeling.model.Policy"!=t.value._type&&"org.uengine.modeling.model.Aggregate"!=t.value._type||(t.copyElement.namePascalCase=d.pascalCase(e),t.copyElement.nameCamelCase=d.camelCase(e),t.copyElement.namePlural=d.camelCase(m(e)))},getTranslate:c.debounce(function(e){var t=this;if("org.uengine.modeling.model.Event"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language&&u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=d.pascalCase(n.translatedText)})})}catch(n){}else if("org.uengine.modeling.model.Policy"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!1,t.translateText=d.pascalCase(n.translatedText)}):"en"==a.language&&(t.usedTranslate=!1,t.translateText=d.pascalCase(e))})}catch(n){}else if("org.uengine.modeling.model.Aggregate"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=d.pascalCase(n.translatedText)}):"en"==a.language&&(t.usedTranslate=!0,t.translateText=d.pascalCase(e))})}catch(n){}else try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=n.translatedText}):"en"==a.language&&(t.usedTranslate=!0)})}catch(n){}},500),umlDiagramOpen(){var e=this;e.$ModelingBus.$emit("umlDiagram")},modifyAttributeItem(e){var t=this,n={_type:"org.uengine.model.FieldDescriptor",name:e.name,namePascalCase:d.pascalCase(e.name),nameCamelCase:d.camelCase(e.name),className:e.className,isKey:e.isKey};"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.copyElement.aggregateRoot.fieldDescriptors[t.attributeEditIndex]=n:t.copyElement.fieldDescriptors[t.attributeEditIndex]=n,t.attributeEdit=!1},editAttributeItem(e){var t=this;"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.attributeEditIndex=t.copyElement.aggregateRoot.fieldDescriptors.indexOf(e):t.attributeEditIndex=t.copyElement.fieldDescriptors.indexOf(e),t.attributeEdit=!0},deleteAttribute(e){var t=this;e.isKey?alert("Is Primary Key"):"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.copyElement.aggregateRoot.fieldDescriptors.forEach(function(n,a){n.isKey||n.name!=e.name||n.className!=e.className||a>-1&&t.copyElement.aggregateRoot.fieldDescriptors.splice(a,1)}):t.copyElement.fieldDescriptors.forEach(function(n,a){n.name==e.name&&n.className==e.className&&a>-1&&t.copyElement.fieldDescriptors.splice(a,1)})},changeTranslate(){this.namePanel=this.translateText,this.usedTranslate=!1},addAttribute:function(e,t){var n=this;if(e.length<1&&(e="String"),0!=e.length&&0!=t.length){let i=null;if(i={_type:"org.uengine.model.FieldDescriptor",name:t,namePascalCase:d.pascalCase(t),nameCamelCase:d.camelCase(t),className:e,isKey:!1},"org.uengine.modeling.model.Aggregate"==n.copyElement._type){var a=!1;"id"==i.name.toLowerCase()&&"long"==i.className.toLowerCase()?a=!0:(n.copyElement.aggregateRoot.fieldDescriptors.forEach(function(e){JSON.stringify(Object.entries(e).sort()).toLowerCase()===JSON.stringify(Object.entries(i).sort()).toLowerCase()&&(a=!0)}),a||n.copyElement.aggregateRoot.fieldDescriptors.push(i))}else{a=!1;n.copyElement.fieldDescriptors.forEach(function(e){JSON.stringify(Object.entries(e).sort()).toLowerCase()===JSON.stringify(Object.entries(i).sort()).toLowerCase()&&(a=!0)}),a||n.copyElement.fieldDescriptors.push(i)}this.entityType="",this.entityName=""}else{var i=this.$parent.getComponent("modeling-designer");i.text="TYPE & NAME INPUT REQUEST",i.snackbar=!0}}}},f=p,v=(n("9ea8"),n("2877")),g=n("6544"),h=n.n(g),_=n("c6a6"),y=n("8336"),b=n("b0af"),w=n("99d9"),E=n("62ad"),x=n("8fea"),C=n("ce7e"),S=n("0e8f"),k=n("132d"),O=n("a722"),I=n("8860"),$=n("da13"),V=n("8270"),P=n("5d23"),N=n("f774"),T=n("67b6"),R=n("43a6"),D=n("0fd9"),L=n("b974"),A=n("8654"),j=n("a844"),B=n("3a2f"),M=Object(v["a"])(f,a,i,!1,null,null,null);t["default"]=M.exports;h()(M,{VAutocomplete:_["a"],VBtn:y["a"],VCard:b["a"],VCardText:w["b"],VCol:E["a"],VDataTable:x["a"],VDivider:C["a"],VFlex:S["a"],VIcon:k["a"],VLayout:O["a"],VList:I["a"],VListItem:$["a"],VListItemAvatar:V["a"],VListItemTitle:P["c"],VNavigationDrawer:N["a"],VRadio:T["a"],VRadioGroup:R["a"],VRow:D["a"],VSelect:L["a"],VTextField:A["a"],VTextarea:j["a"],VTooltip:B["a"]})},"1fac":function(e,t,n){},2:function(e,t){},2382:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uml-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"class-designer",props:{},data(){return{value:{},elementTypes:[{icon:"bpmn-icon-start-event-none",component:"uml-class-definition",label:"Class",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`},{icon:"bpmn-icon-start-event-none",component:"uml-class-definition",label:"relation",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`}]}},created:function(){},mounted:function(){},methods:{}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,null,null);t["default"]=s.exports},2479:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"image-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.ImageShape(e.image,e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"7060f785",null);t["default"]=c.exports},"279b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",[n("modal",{attrs:{name:"uml-modal",height:"80%",width:"80%"}},[n("class-modeler")],1)],1),n("v-layout",{attrs:{right:""}},[n("modal",{attrs:{name:"code-modal",width:"80%",height:"auto",scrollable:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-col",{attrs:{col:8}},[n("span",{staticClass:"headline"},[e._v("Code Preview")])]),n("v-col",{attrs:{col:4}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),n("v-divider"),n("v-card-text",{staticStyle:{width:"auto",height:"auto"}},[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"overflow-auto",staticStyle:{"margin-right":"15px","border-right":"1px solid black","max-height":"700px","max-width":"400px"},attrs:{id:"scroll-target"}},[n("v-treeview",{attrs:{items:e.treeList,active:e.openCode,activatable:"","item-key":"key","return-object":"","open-all":"",transition:e.treeOpen,"open-on-click":"",transition:"",dense:""},on:{"update:items":function(t){e.treeList=t},"update:active":function(t){e.openCode=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.file?n("v-icon",[e._v("\n                                        "+e._s(e.files[a.file])+"\n                                    ")]):n("v-icon",[e._v("\n                                        "+e._s(i?"mdi-folder-open":"mdi-folder")+"\n                                    ")])]}}])})],1),n("v-col",[e.codeViewing?n("code-viewer",{model:{value:e.openCode,callback:function(t){e.openCode=t},expression:"openCode"}}):e._e()],1)],1)],1)],1)],1),e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!e.isRead,resizable:!0,selectable:!0,connectable:!e.isRead,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[null!=a&&null!=t&&void 0!=t.elementView?n(e.getComponentByClassName(t._type),{ref:t.elementView.id,refInFor:!0,tag:"component",attrs:{value:e.value.definition[a]},on:{"update:value":function(t){return e.$set(e.value.definition,a,t)}}}):e._e()],1)}),e._l(e.value.relation,function(t,a){return n("div",[null!=t?n(e.getComponentByClassName(t._type),{ref:t.relationView.id,refInFor:!0,tag:"component",attrs:{value:e.value.relation[a]},on:{"update:value":function(t){return e.$set(e.value.relation,a,t)}}}):e._e()],1)})],2):e._e(),n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-row",{staticStyle:{"margin-left":"80px","margin-top":"10px"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{text:"",small:"",right:""},nativeOn:{click:function(t){return e.undo()}}},a),[n("v-icon",{attrs:{medium:""}},[e._v("mdi-undo")])],1)]}}])},[n("span",[e._v("Undo")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{text:"",small:"",right:""},nativeOn:{click:function(t){return e.redo()}}},a),[n("v-icon",{attrs:{medium:""}},[e._v("mdi-redo")])],1)]}}])},[n("span",[e._v("Redo")])])],1)],1),n("v-flex",{staticStyle:{justify:"end",align:"start"}},[n("v-row",{staticStyle:{"margin-right":"10px"},attrs:{justify:"end",align:"start"}},[n("v-col",{attrs:{align:"start",justify:"end",cols:"12",sm:"3"}},[n("v-text-field",{attrs:{label:"Project Name"},nativeOn:{click:function(t){return e.unselectedAll(t)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1),n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.goToVersions()}}},a),[n("v-icon",[e._v(e._s(e.files.version))]),e._v("\n                                Versions\n                            ")],1)]}}])}),n("v-menu",{staticClass:"pa-2",staticStyle:{"margin-right":"3px"},attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"orange",dark:""},on:{click:function(t){return e.codeModalShow()}}},a),[n("v-icon",[e._v(" "+e._s(e.files.code))]),e._v("\n                                CODE\n                            ")],1)]}}])},[n("v-list",e._l(e.codeItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1),n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.goToServer()}}},a),[n("v-icon",[e._v(e._s(e.files.open))]),e._v("\n                                OPEN\n                            ")],1)]}}])},[n("v-list",[e._l(e.openItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),n("div",{staticClass:"text-reader",staticStyle:{"text-align":"center","margin-top":"5px"}},[n("label",{attrs:{for:"ex_file"}},[e._v("Open from Local")]),n("input",{attrs:{id:"ex_file",type:"file"},on:{change:e.loadTextFromFile}})])],2)],1),n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e.isRead?n("v-btn",{staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.uploadServerDialog()}}},[n("v-icon",[e._v(e._s(e.files.fork))]),e._v("\n                                FORK\n                            ")],1):n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.uploadServerDialog()}}},a),[n("v-icon",[e._v(e._s(e.files.save))]),e._v("\n                                SAVE\n                            ")],1)]}}])},[n("v-list",e._l(e.saveItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1),n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.terminal()}}},a),[n("v-icon",[e._v("mdi-powershell")]),e._v("\n                                Deploy\n                            ")],1)]}}])})],1)],1),n("v-fab-transition",[e.rtcLogin||"true"!=e.parmType&&"0"!=e.parmType?e._e():n("v-btn",{staticStyle:{"margin-right":"80px","margin-bottom":"47px"},attrs:{color:"blue",dark:"",fab:"",medium:"",absolute:"",bottom:"",right:""},on:{click:function(t){return e.onJoin()}}},[n("v-icon",[e._v("mdi-camera")])],1)],1)],1),[n("div",[n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",scrollable:""},model:{value:e.showVersionsDialog,callback:function(t){e.showVersionsDialog=t},expression:"showVersionsDialog"}},[n("v-card",{attrs:{tile:""}},[n("v-toolbar",{staticClass:"canvas-panel",attrs:{flat:"",dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("Versions")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.showVersionsDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1),n("v-list",{attrs:{"three-line":"",subheader:""}},[n("v-subheader",[e._v("Version")]),n("v-list-item",[n("v-list-item-content",[n("ViewEventStormingVersionPage")],1)],1)],1),n("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)],n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}])},[n("span",[e._v(e._s(t.label))])])})],2)],2),n("v-snackbar",{attrs:{color:e.color,"multi-line":"multi-line"===e.mode,timeout:e.timeout,vertical:"vertical"===e.mode},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n        "),n("v-btn",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.generateZipDialog,callback:function(t){e.generateZipDialog=t},expression:"generateZipDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Generate Zip Archive")]),n("v-card-text",[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.generateZip()}}},[e._v("Download")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.generateZipDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.tokenDialog,callback:function(t){e.tokenDialog=t},expression:"tokenDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Token Dialog")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Cluster Address",required:""},model:{value:e.clusterAddress,callback:function(t){e.clusterAddress=t},expression:"clusterAddress"}}),n("v-text-field",{attrs:{label:"Kubernetes Token",required:""},model:{value:e.kubernetesToken,callback:function(t){e.kubernetesToken=t},expression:"kubernetesToken"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.tokenSave()}}},[e._v("Download")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.tokenDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.onlineSaveDialog,callback:function(t){e.onlineSaveDialog=t},expression:"onlineSaveDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Save new version")]),n("v-card-text",[n("v-textarea",{attrs:{outline:"",name:"input-7-4",label:"comment",counter:255},model:{value:e.serverComment,callback:function(t){e.serverComment=t},expression:"serverComment"}}),n("v-checkbox",{attrs:{label:"Share this model with everyone"},model:{value:e.isShare,callback:function(t){e.isShare=t},expression:"isShare"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.onlineSave()}}},[e._v("Save")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.onlineClose()}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.forkDialog,callback:function(t){e.forkDialog=t},expression:"forkDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Fork\n                "),n("v-icon",[e._v(e._s(e.files.fork))])],1),n("v-card-text",[e._v(" 권한이 없어서 수정 할 수 없습니다. Fork를 하여 사용해 주세요.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.uploadServerDialog()}}},[e._v("Fork")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.forkDialog=!1}}},[e._v("Close")])],1)],1)],1),n("modeler-image-generator",{ref:"modeler-image-generator"}),n("hsc-window-style-metal",[n("hsc-window",{attrs:{title:"User Camera",closeButton:!0,isOpen:e.webrtcDialog,resizable:!0,isScrollable:!0,minWidth:400,minHeight:110,maxWidth:800,maxHeight:110},on:{"update:isOpen":function(t){e.webrtcDialog=t},"update:is-open":function(t){e.webrtcDialog=t}}},[n("v-layout",[n("v-col",[n("v-row",{staticStyle:{"margin-left":"2px","margin-bottom":"2px"}},[n("vue-webrtc",{ref:"webrtc",staticClass:"video-list",attrs:{width:"100%",height:"160px",cameraHeight:"50px",enableAudio:"",roomId:e.roomId},on:{error:e.onError}})],1)],1)],1)],1)],1)],1)},i=[],o=n("6eb3"),l=n("ac57"),r=n("21a6"),s=n("8aa5"),c=n.n(s),u=n("94ed"),d=n("8055"),m=n("952c"),p=(n("3e8f"),n("2ef0")),f=n("ad23"),v=n("27ae").Base64,g=n("651e"),h=n("21a6"),_=n("64ae"),y=n("761a"),b=n("7c39"),w=n("df7c"),E=n("e811"),x={name:"modeling-designer",components:{TextReader:o["a"],saveAs:r["saveAs"],CodeViewer:l["a"],mdiAbTesting:u["a"],diffString:m["diffString"],diff:m["diff"],io:d},props:{elementTypes:Array},data(){return{isShare:!1,loadingDialog:!0,codeViewing:!1,saveItems:[{title:"Save to Server"},{title:"Download model File"}],openItems:[{title:"Open from Files"}],codeItems:[{title:"Code Preview"},{title:"Download Archive"}],onlineSaveDialog:!1,onlineSaveComfirmDialog:!1,isLoadVersion:!1,author:"",serverComment:"",serverDate:"",editing:!0,files:{version:"mdi-server",code:"mdi-code-array",save:"mdi-content-save",open:"mdi-book-open",md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker",png:"mdi-file-image",json:"mdi-json",python:"mdi-language-python",fork:" mdi-silverware-fork"},canvas:null,dragPageMovable:!1,value:{definition:[],relation:[]},projectName:"",generateZipDialog:!1,undoRedoStorage:100,undoRedoArray:[],undoRedoIndex:0,undoRedoLastIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pathTmp:[],gitCodeUrl:{},model:[],fullPathList:[],treeList:[],getCodeList:[],openCode:[],template:"",treeOpen:!0,gitUrl:"",gitPath:[],gitCode:[],checkName:!0,drawer:!1,chatUid:"",messageRef:{},versionList:[],version:"",revisionInfo:{},showVersionsDialog:!1,dialog2:!1,kubernetesToken:"",clusterAddress:"",tokenDialog:!1,parmVersion:"",parmType:"",parmProjectId:"",parmUid:"",newProjectId:"",viewSelect:{},viewOpenId:"",viewSelectType:"cqrs",entityActionList:["create","update","delete"],entityAction:"",viewColumnTypeList:["String","Integer","Double"],selectEvent:[],viewColumnType:"",viewColumn:"",sourceEventColumn:"",defaultValue:"",isRead:!0,ver1:!1,ver2:!1,ver3:!1,forkDialog:!1,undoRedoInitValue:{},isUndoRedo:!1,connetServer:"",roomId:"masez",rtcLogin:!1,webrtcDialog:!1,database:null,isSelfEdit:!0}},beforeDestroy:function(){var e=this;e.onLeave(),e.database.ref("/saver/sharedMulti/"+e.parmProjectId+"/"+e.parmVersion+"/participants").child(localStorage.getItem("uid")).remove(),e.database.ref("value").off(),clearInterval(e.connetServer),localStorage.removeItem("projectId"),localStorage.removeItem("sharedMultiTimeStamp"),e.ver1&&e.$EventBus.$emit("saveComplete"),e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(t){"0"==e.parmType?localStorage.setItem("localSaveImg",t):"true"==e.parmType?e.database.ref("saver/shared/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion+"/").update({img:t}):"false"==e.parmType&&e.database.ref("saver/mine/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion+"/").update({img:t},function(e){}),e.$EventBus.$emit("updatePic",t)})},computed:{checkValueRelation(){return p.cloneDeep(this.value)},eventList:function(){var e=this,t=[];return e.value.definition.forEach(function(e){null!=e&&"org.uengine.modeling.model.Event"==e._type&&t.push(e)}),t=t.filter(e=>e),t},templateList:function(){var e=this;return Object.keys(e.$manifestsPerTemplate)},id:{get:function(){return this.projectName}}},created:function(){var e=this;e.database=c.a.database(),window.io=d,e.$EventBus.$emit("progressValue",!0),e.parmUid=this.$route.params.userUid,e.parmProjectId=this.$route.params.projectId,e.parmVersion=this.$route.params.projectVersion,e.parmType=this.$route.params.type,e.roomId="msaez_"+e.parmProjectId,localStorage.setItem("queueLastIndex","0");var t={definition:[],relation:[]};localStorage.getItem("uid");"0"==e.parmType?(e.projectName=null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local",null!=localStorage.getItem("localLoadData")?(e.value=JSON.parse(localStorage.getItem("localLoadData")),e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)})):(e.value=t,e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)}))):"2"==e.parmType?(localStorage.setItem("projectId",e.parmProjectId),e.database.ref("/saver/sharedMulti/"+e.parmProjectId+"/"+e.parmVersion+"/participants").child(localStorage.getItem("uid")).update({uid:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),picture:localStorage.getItem("picture"),writePermission:!0,rtcPermission:!0,nowLocation:"",pastLocation:""}),e.database.ref("/saver/sharedMulti/"+e.parmProjectId+"/"+e.parmVersion).once("value",function(t){t.exists()&&(e.value=JSON.parse(t.val().value),e.projectName=t.val().projectName,localStorage.setItem("sharedMultiTimeStamp",t.val().timeStamp),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>CREATE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),void 0==t.val().queue&&e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)}))})):"true"==e.parmType?(localStorage.setItem("projectId",e.parmProjectId),e.database.ref("/saver/shared/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion).once("value").then(function(t){e.value=JSON.parse(t.val().value),e.projectName=t.val().projectName,e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)})})):"false"==e.parmType&&(localStorage.setItem("projectId",e.parmProjectId),e.database.ref("/saver/mine/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion+"/").once("value").then(function(t){e.value=JSON.parse(t.val().value),e.projectName=t.val().projectName,e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)})}))},mounted:function(){var e=this;e.$nextTick(function(){"1"==e.parmType||"2"==e.parmType&&(e.database.ref("saver/sharedMulti/"+e.parmProjectId+"/"+e.parmVersion+"/queue/").on("child_added",t=>{console.log(">>>>>>>>>>>>>Mounted<<<<<<<<<<<<<<<<<<<");var n=t.val(),a=JSON.parse(n.diff),i=(E.reverse(JSON.parse(n.diff)),n.uid);i==localStorage.getItem("uid")?e.isSelfEdit=!0:e.isSelfEdit=!1,1!=e.isSelfEdit&&e.$nextTick(function(){E.patch(e.value,a)})}),e.database.ref("/saver/sharedMulti/"+e.parmProjectId+"/"+e.parmVersion+"/participants/").on("child_changed",t=>{if(t.exists())if(""!=t.val().nowLocation){var n={state:"editUser",picture:t.val().picture};e.$EventBus.$emit(`${t.val().nowLocation}`,n)}else{n={state:"closeEditUser",picture:t.val().picture};e.$EventBus.$emit(`${t.val().pastLocation}`,n)}}),e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)}))}),e.parmUid==localStorage.getItem("uid")||"anonymous"==e.parmUid?e.isRead=!1:null==localStorage.getItem("uid")?e.isRead=!1:"true"==e.parmType&&(e.forkDialog=!0),e.$route.params.type&&e.$EventBus.$on("chatKey",function(t){e.chatUid=t,e.messageRef=c.a.database().ref(`/${e.$route.params.author}/${e.$route.params.projectName}`)}),e.$EventBus.$on("undoRedo",function(t){e.undoRedoIndex==e.undoRedoLastIndex?0==e.undoRedoArray.length?(e.undoRedoArray.push(JSON.stringify(t)),e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex):e.undoRedoArray.length<e.undoRedoStorage?(e.undoRedoArray.push(JSON.stringify(t)),e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex):(e.undoRedoArray.splice(0,1),e.undoRedoArray.push(JSON.stringify(t))):(console.log("중간에 PUSH"),e.undoRedoArray.splice(e.undoRedoIndex,e.undoRedoArray.length-e.undoRedoIndex),e.undoRedoArray.length<e.undoRedoStorage?(e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex,e.undoRedoArray.push(JSON.stringify(t))):(e.undoRedoArray.splice(0,1),e.undoRedoArray.push(JSON.stringify(t)))),e.$nextTick(function(){e.editing=!1})}),e.$EventBus.$on("deploy",function(t){e.getBoundedSetting(t).then(function(t){e.generateZipToFireBase(t)})}),e.$EventBus.$on("storage",function(t){var n=JSON.parse(JSON.stringify(e.value));n.definition=n.definition.filter(e=>e),n.relation=n.relation.filter(e=>e),"0"==e.$route.params.type?(localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveTime"),localStorage.removeItem("localSaveProjectName"),localStorage.setItem("localLoadData",JSON.stringify(n)),localStorage.setItem("localSaveTime",e.getNowTime()),localStorage.setItem("localSaveProjectName",e.projectName)):e.parmUid==localStorage.getItem("uid")?"true"==e.parmType&&e.value.definition.length>0?e.database.ref("saver/shared/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion).update({projectName:e.projectName,value:JSON.stringify(n)},function(t){t||(e.ver2=!0)}):"false"==e.parmType&&e.value.definition.length>0&&e.database.ref("saver/mine/"+e.parmUid+"/"+e.parmProjectId+"/"+e.parmVersion).update({projectName:e.projectName,value:JSON.stringify(n)},function(t){t||(e.ver1=!0)}):"check"==t&&(e.forkDialog=!0)}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?e.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?e.paste():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.redo():e.undo())})})},watch:{webrtcDialog:function(e,t){0==e&&this.onLeave()},checkValueRelation:{deep:!0,handler:function(e,t){var n,a=this;0==a.isUndoRedo&&(n=E.diff(t,e),void 0!=n&&(console.log("UndoRedo>>",n),"1"==a.parmType||("2"==a.parmType?(console.log(a.isSelfEdit,n),1==a.isSelfEdit?(console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>watch<<<<<<<<<<<<<<<<<<<<<<"),c.a.database().ref("saver/sharedMulti/"+a.parmProjectId+"/"+a.parmVersion+"/queue/").push({uid:null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",diff:JSON.stringify(n)}).then(()=>{a.database.ref("saver/sharedMulti/"+a.parmProjectId+"/"+a.parmVersion).update({timeStamp:c.a.database.ServerValue.TIMESTAMP,projectName:a.projectName})})):a.isSelfEdit=!0,a.$EventBus.$emit("undoRedo",n)):(a.$EventBus.$emit("undoRedo",n),a.$EventBus.$emit("storage"))))),a.isUndoRedo=!1}},projectName:p.debounce(function(e){this.$EventBus.$emit("storage")},200),messageRef:function(e){},fullPathList:function(e){var t=this;t.treeList=e.reduce((e,n)=>{return n.fullPath.split("/").reduce((e,a,i)=>{if(0===i)var o=e;else o=e.children=e.children||[];let l=o.find(e=>e.name===a.trim());return l||(l={name:a.trim(),key:t.findFile(n.key,a.trim()).key,file:t.findFile(n.key,a.trim()).file,code:t.findFile(n.key,a.trim()).code},o.push(l)),l},e),e},[])},async template(){var e=this;"GIT"==e.template?await e.gitTemplate().then(function(){e.getListSetting(),e.$nextTick(function(){e.treeOpen=!0})}):(e.getListSetting(),e.$nextTick(function(){e.treeOpen=!0}))}},methods:{tokenSave(){var e=this;localStorage.setItem("kubernetesToken",e.kubernetesToken),localStorage.setItem("clusterAddress",e.clusterAddress),e.tokenDialog=!1},syncDiff(e){var t=this;e.uid==localStorage.getItem("uid")?t.isSelfEdit=!0:t.isSelfEdit=!1;var n=JSON.parse(e.diff);void 0==n||(void 0!=n.definition&&Object.keys(n.definition).forEach(function(e){if("_t"!=e)if(e.startsWith("_")){var a=e.replace("_",""),i=n.definition[e];if("0"==Object.keys(i)[0])if(null==i[0]){console.log("Muti-Delete");var o=i[1],l={state:"delete",element:o};t.$EventBus.$emit(`${o.elementView.id}`,l)}else console.log("Muti-Create"),t.makeElement(i[0],a)}else{a=e,i=n.definition[e];Object.keys(i).forEach(function(e){if("elementView"==e)console.log("Muti-MOVE"),console.log(i),console.log(E.reverse(i)),null!=t.value.definition[a]&&E.patch(t.value.definition[a],E.reverse(i));else if("0"==e)if(null==i[0]){console.log("Muti-Delete");var n=i[1],o={state:"delete",element:n};Object.keys(i[1]).length>0&&t.$EventBus.$emit(`${n.elementView.id}`,o)}else console.log("Muti-CREATE"),t.makeElement(i[0],a);else console.log("Muti-Edit"),E.patch(t.value.definition[a],E.reverse(i))})}}),void 0!=n.relation&&Object.keys(n.relation).length>0&&Object.keys(n.relation).forEach(function(e){if("_t"!=e)if(e.startsWith("_")){var a=e.replace("_",""),i=n.relation[e];console.log("???????????????")}else{a=e,i=n.relation[e];if("0"==Object.keys(i)[0])if(null==i[0]){var o=i[0],l={state:"deleteRelation",element:JSON.parse(JSON.stringify(o))};t.$EventBus.$emit(`${o.relationView.id}`,l)}else t.makeElement(i[0],a);E.patch(t.value.relation[a],i)}}))},onCapture(){this.img=this.$refs.webrtc.capture()},onJoin(){this.webrtcDialog=!0,this.rtcLogin=!0,this.$refs.webrtc.join()},onLeave(){this.rtcLogin=!1,this.$refs.webrtc.leave()},onShareScreen(){this.img=this.$refs.webrtc.shareScreen()},logEvent(e){console.log("Event : ",e)},onError(e,t){console.log("On Error Event",e,t)},terminal(){var e=this;if(null==localStorage.getItem("kubernetesToken"))e.tokenDialog=!0;else{var t={type:"Token",token:localStorage.getItem("kubernetesToken"),apiServer:localStorage.getItem("clusterAddress")};e.$http.defaults.headers.common["Access-Control-Allow-Origin"]="*",console.log("post"),e.$http.post("http://localhost:8088/api/kube-token",t).then(function(t){e.$EventBus.$emit("terminalOn",t.data.token)})}},applyChange(e,t,n){if("undefined"===typeof n&&t&&~validKinds.indexOf(t.kind)&&(n=t),e&&n&&n.kind){var a=e,i=-1,o=n.path?n.path.length-1:0;while(++i<o)"undefined"===typeof a[n.path[i]]&&(a[n.path[i]]="undefined"!==typeof n.path[i+1]&&"number"===typeof n.path[i+1]?[]:{}),a=a[n.path[i]];switch(n.kind){case"A":n.path&&"undefined"===typeof a[n.path[i]]&&(a[n.path[i]]=[]),applyArrayChange(n.path?a[n.path[i]]:a,n.index,n.item);break;case"D":delete a[n.path[i]];break;case"E":case"N":a[n.path[i]]=n.rhs;break}}},difference(e,t){function n(e,t){return p.transform(e,function(e,a,i){p.isEqual(a,t[i])||(e[i]=p.isObject(a)&&p.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},undo:function(){var e,t=this;if(!t.drawer&&t.undoRedoArray.length>0){if(t.undoRedoIndex=t.undoRedoIndex-1,t.undoRedoIndex>=0){if(void 0==t.undoRedoArray[t.undoRedoIndex])return;e=JSON.parse(t.undoRedoArray[t.undoRedoIndex]),t.isUndoRedo=!0}else if(t.undoRedoIndex<0)return t.undoRedoIndex=0,t.isUndoRedo=!0,void alert("Last Element");console.log(">>>> undo <<<<<"),E.patch(t.value,E.reverse(e)),t.$EventBus.$emit("storage")}},redo:function(){var e=this;if(!e.drawer&&0!=e.undoRedoArray.length){if(e.undoRedoIndex==e.undoRedoArray.length)return void alert("Last Element");e.isUndoRedo=!0,e.undoRedoIndex=e.undoRedoIndex+1;var t=JSON.parse(e.undoRedoArray[e.undoRedoIndex-1]);console.log(">>>> REDO <<<<<"),E.patch(e.value,t),e.$EventBus.$emit("storage")}},loadTextFromFile(e){var t=this;if(void 0!=e){const n=e.target.files[0];t.projectName=n.name.replace(".json","");const a=new FileReader;a.onload=(e=>t.loadAddElement(JSON.parse(e.target.result))),a.readAsText(n)}},goToServer(){this.$router.push({path:"/"})},goToVersions(){var e=this;e.showVersionsDialog=!0},functionSelect(e,t){var n=this;"Save to Server"==e?n.uploadServerDialog():"Download model File"==e?n.download():"Open from Files"==e?n.goToServer():"Open from Local"==e?n.loadTextFromFile():"Code Preview"==e?n.codeModalShow():"Download Archive"==e&&(n.generateZipDialog=!0)},getNowTime(){var e=new Date;return e.getFullYear()+"년 "+(e.getMonth()+1)+"월 "+e.getDate()+"일 "+e.getHours()+"시 "+e.getMinutes()+"분 "+e.getSeconds()+"초"},uploadServerDialog(){var e=this;e.serverComment="",e.isLoadVersion=!1,e.onlineSaveDialog=!0},gitTemplate(){var e=this;return new Promise(function(t,n){if(e.gitUrl=window.prompt("Please Input Github Repository URL"),e.$manifestsPerTemplate["GIT"]=[],!window.localStorage.getItem("gitAccessToken")){var a=window.prompt("Please Input Your Github AccessToken (Only Authorization)");e.$http.defaults.headers.common["Authorization"]=`token ${a}`,localStorage.setItem("gitAccessToken",a)}e.gitRepository=e.gitUrl.split("/")[e.gitUrl.split("/").length-2],e.gitProject=e.gitUrl.split("/")[e.gitUrl.split("/").length-1],e.$http.get("https://api.github.com/repos/"+e.gitRepository+"/"+e.gitProject+"/commits").then(function(n){e.$http.get("https://api.github.com/repos/"+e.gitRepository+"/"+e.gitProject+"/git/trees/"+n.data[0].sha).then(async function(n){await e.setGitList(n.data,e.gitRepository),t()})})})},setGitList(e,t){var n=this;return n.fullPathList=[],n.getCodeList=[],n.gitPath=[],n.gitCode=[],new Promise(function(t){try{n.$http.get(e.url+"?recursive=1").then(function(e){e.data.tree.forEach(function(a,i){a.path.split("/")[a.path.split("/").length-1];"tree"!=a.type&&(n.$manifestsPerTemplate["GIT"].push("./"+a.path),n.gitCodeUrl[a.path]=a.url),e.data.tree.length-1==i&&t()})}).catch(e=>console.log(e))}catch(a){}})},getListSetting(){var e=this;return new Promise(async function(t,n){e.fullPathList=[],e.getCodeList=[],e.treeList=[],e.model={_type:"org.uengine.modeling.model.Model",boundedContexts:[],projectName:e.projectName};var a=JSON.parse(JSON.stringify(e.value));a.definition.forEach(function(t){null!=t&&"org.uengine.modeling.model.BoundedContext"==t._type&&e.model.boundedContexts.push(t)});var i={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],ViewEventInfo:[]};if(e.model.boundedContexts.forEach(function(t,n){t.portGenerated=8081+n,i["BoundedContext"].push(t),t.groups.forEach(function(t){if("org.uengine.modeling.model.Event"==e.$refs[t][0].value._type&&void 0==e.$refs[t][0].value.aggregate.name){var n=e.$refs[t][0].value;i["Event"].push(n)}}),e.model.boundedContexts[n].aggregates.length>=1&&e.model.boundedContexts[n].aggregates.forEach(function(t,a){var o=[{trigger:"PostPersist",annotation:"@PostPersist",events:[]},{trigger:"PostUpdate",annotation:"@PostUpdate",events:[]},{trigger:"PostDelete",annotation:"@PostDelete",events:[]},{trigger:"PrePersist",annotation:"@PrePersist",events:[]},{trigger:"PreUpdate",annotation:"@PreUpdate",events:[]},{trigger:"PreDelete",annotation:"@PreDelete",events:[]}];t.aggregateRoot.fieldDescriptors.forEach(function(e){e.name=e.name,e.nameCamelCase=p.camelCase(e.name),e.namePascalCase=e.nameCamelCase.substring(0,1).toUpperCase()+e.nameCamelCase.substring(1),e.isKey&&(t.aggregateRoot.keyFieldDescriptor=e)}),i["Aggregate"].push(t),i["AggregateRoot"].push(t.aggregateRoot),t.commands&&t.commands.forEach(function(t){""==t.name&&(e.text="Check Command Name",e.snackbar=!0,e.color="error",e.timeout=1e3,e.checkName=!1),t.controllerInfo.apiPath,i["Command"].push(t)}),t.events&&t.events.forEach(function(t){o.some(function(e){e.annotation!=t.trigger||e.events.push(t)}),""==t.name&&(e.text="Check Event Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),i["Event"].push(t)}),o.forEach(function(e,t){0==e.events.length&&(o[t]=null)}),o=o.filter(e=>e),o.length>0&&(console.log(o),e.model.boundedContexts[n].aggregates[a].lifeCycles=o)}),e.model.boundedContexts[n].policies.length>=1&&e.model.boundedContexts[n].policies.forEach(function(t){""==t.name&&(e.text="Check Policy Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.relationEventInfo.forEach(function(e){e.boundedContext={},e.boundedContext.name=t.boundedContext.name,e.elementView={},e.elementView.id=t.elementView.id,i["RelationEventInfo"].push(e)}),i["Policy"].push(t)}),e.model.boundedContexts[n].viewes.length>=1&&e.model.boundedContexts[n].viewes.forEach(function(t){""==t.name&&(e.text="Check View Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.createRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.createRules[n]=null,t.createRules=t.createRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e._index=n+1}}),t.updateRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.updateRules[n]=null,t.updateRules=t.updateRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),t.deleteRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.deleteRules[n]=null,t.deleteRules=t.deleteRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),i["View"].push(t)})}),e.template.length>0)var o=e.template;else o="spring-boot";var l=e.$manifestsPerTemplate[o].length-1;e.$manifestsPerTemplate[o].forEach(function(n,a){n=n.replace("./","");var r=function(t){n.includes("for-model");var a="",o=0;t.split("---");if(t.includes("forEach:"))l=t.split("forEach:")[1].split("\n")[0].trim();else if(o+=1,n.includes("for-model")){var l="Model";a=a.concat("forEach: "+l)}else{var l="BoundedContext";a=a.concat("forEach: "+l)}if(!t.includes("fileName:")&&(o+=1,n.split("/"))){var r=n.substring(n.lastIndexOf("/")+1);a=a.concat("\n"),a=a.concat("fileName: "+r)}if(t.includes("path:")){if(!t.includes("forEach:")){n.substring(0,n.lastIndexOf("/")+1);n.includes("for-model")?a=a.concat("\n"):t.includes(" path:")?(o+=1,a=a.concat("\n"),a=a.concat(`path: {{name}}/${w.dirname(n).replace("./","")}`)):a=a.concat("\n")}}else{n.substring(0,n.lastIndexOf("/")+1);o+=1,n.includes("for-model")?(a=a.concat("\n"),a=a.concat(`path: ${w.dirname(n).replace("./","")}`)):(a=a.concat("\n"),a=a.concat(`path: {{name}}/${w.dirname(n).replace("./","")}`))}a=3==o?a.concat("\n---\n"):a.concat("\n"),a.length>0&&(t=a.concat(t));var s=i[l],c=function(a){if(void 0==a){var i=t.split("---"),o=g.load(i[0]),l=n.split("/"),r=l[0]+"/"+l[1];o["path"].includes(r)||(o["path"]=r.concat(o["path"]));for(var s=o["path"].split("/"),c="",u=1;u<s.length;u++)c=1==u?c.concat(s[u]):c.concat("/"+s[u]);var d={package:`${c}`.replace(l[1]+"/src/main/java/","").replace(/\//gi,"."),packagePath:`${c}`};a=e.model}else d={package:`${e.projectName}`,packagePath:`src/main/java/${e.projectName.replace(".","/")}`};a.options=d;var m=window.$Mustache.render(t,a),p=m.split("---"),f=g.load(p[0]);d={};Object.keys(f).forEach(function(e,t){var n=e,a=Object.values(f)[t];"path"==n&&a.lastIndexOf(".")==a.length-1&&(a=a.substring(0,a.lastIndexOf(".")-1)),d[n]=a});var v=d["fileName"],h=d["path"]+"/"+d["fileName"];v.includes("Application")&&r&&!h.includes(r)&&(h=r.concat(h));var _="";if(p.length>1)for(var y in p)0!=y&&y<p.length-1?_=_.concat(p[y]+"---\n"):y==p.length-1&&(_=_.concat(p[y]));var b={},w={};_=_.replace("\n",""),_.length>1&&("org.uengine.modeling.model.Model"==a._type?(b={key:l[1]+v,fileName:v,code:_,file:e.fileType(v)},w={key:l[1]+v,fullPath:h.replace("for-model/","")}):"org.uengine.modeling.model.BoundedContext"==a._type?(b={key:a.elementView.id+v,fileName:v,code:_,file:e.fileType(v)},w={key:a.elementView.id+v,fullPath:h}):(b={key:a.boundedContext.id+a.elementView.id+v,fileName:v,code:_,file:e.fileType(v)},w={key:a.boundedContext.id+a.elementView.id+v,fullPath:h}),e.getCodeList.push(b),e.fullPathList.push(w))};Array.isArray(s)?s.forEach(c):c(s)},s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("GIT"==e.template){var n=JSON.parse(this.responseText),i=v.decode(n.content);r(i)}else r(this.responseText);l==a&&t()}},"GIT"==e.template?(s.open("GET",e.gitCodeUrl[n],!0),s.send()):(s.open("GET","/static/templates/"+o+"/"+n,!0),s.send())})})},fileType(e){var t;return e.includes(".java")?t="java":e.includes("Dockerfile")?t="docker":e.includes(".xml")?t="xml":e.includes(".yaml")||e.includes(".yml")||e.includes(".properties")||e.includes("mvnw")||e.includes(".groovy")?t="txt":e.includes("md")?t="md":e.includes(".jpg")||e.includes(".png")||e.includes(".jpeg")?t="png":e.includes(".json")?t="json":e.includes(".py")&&(t="python"),t},findFile(e,t){var n=this,a={};return n.getCodeList.some(function(n){n.key==e&&n.fileName==t&&(a={key:n.key,code:n.code,file:n.file})}),void 0==a.key&&(a={key:t}),a},async codeModalShow(){var e=this;e.getCodeList=[],e.model=[],e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName")),await e.getListSetting(),e.checkName&&e.$modal.show("code-modal"),e.codeViewing=!0,e.openCode=[],e.checkName=!0},umlModalShow(){this.$modal.show("uml-modal")},async generateZip(){var e=this;if(e.treeList.length>0){e.treeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var t=new b,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){})}),t.generateAsync({type:"blob"}).then(function(t){Object(r["saveAs"])(t,`${e.projectName}.zip`)})}else await e.getListSetting(),e.generateZip()},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){var a=t+"/"+e.name;n.reverse(e.children,a)}else e.code&&n.pathTmp.push({path:t+"/"+e.name,code:e.code})})},codeModalhide(){this.$modal.hide("code-modal"),this.codeViewing=!1,me.openCode=[]},unselectedAll:function(e){console.log("newVal"),this.value.definition.forEach(function(e){null!=e&&(e.selected=!1)}),this.value.relation.forEach(function(e){null!=e&&(e.selected=!1)})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},async generateZipToFireBase(e){var t=this,n=[],a=e.fullPathList.reduce((e,t)=>{return t.fullPath.split("/").reduce((e,n,a)=>{if(0===a)var i=e;else i=e.children=e.children||[];let l=i.find(e=>e.name===n.trim());return l||(console.log(o(t.key,n.trim()).key),console.log(o(t.key,n.trim()).file),l={name:n.trim(),key:o(t.key,n.trim()).key,file:o(t.key,n.trim()).file,code:o(t.key,n.trim()).code},i.push(l)),l},e),e},[]);function i(e,t){e.forEach(function(e){if(e.children){var a=t+"/"+e.name;i(e.children,a)}else e.code&&n.push({path:t+"/"+e.name,code:e.code})})}function o(t,n){var a={};return e.getCodeList.some(function(e){e.key==t&&e.fileName==n&&(a={key:e.key,code:e.code,file:e.file})}),void 0==a.key&&(a={key:n}),a}a.forEach(function(e){console.log(e),void 0==e.file?(console.log("aa"),i(e.children,e.name)):(console.log("bb"),n.push({path:e.name,code:e.code}))});var l=new b,r=[];console.log(n),n.forEach(function(e){e.path.includes("/")&&r.push(e.path.split("/")[0]),l.file(e.path,e.code)}),r.forEach(function(e){l.folder(e).forEach(function(e,t){})}),l.generateAsync({type:"nodebuffer"}).then(function(e){var n={"Content-Type":"application/zip."},a=new f.Client({endPoint:"104.198.188.139",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"});a.putObject("eventstorming",`${t.projectName}.zip`,e,n,function(e,n){var a=`kubectl create -f- <<EOF\napiVersion: v1\nkind: Pod\nmetadata:\n  name: ${localStorage.getItem("author").split("@")[0]}-theia\n  labels:\n    app: ${localStorage.getItem("author").split("@")[0]}-theia\nspec:\n  containers:\n  - name: ide-for-${localStorage.getItem("author").split("@")[0]}\n    image: gcr.io/eventstorming-tool/theia\n    securityContext:\n      privileged: true\n      runAsUser: 0\n    volumeMounts:\n    - mountPath: "/var/run/docker.sock"\n      name: dockersock\n    - mountPath: /home/project\n      name: testsanghoon\n  initContainers:\n  - name: unzip\n    image: busybox\n    command:\n    - unzip\n    - "/home/project/eventstorming/${t.projectName}.zip"\n    - "-d"\n    - "/home/project/eventstorming"\n    volumeMounts:\n    - mountPath: /home/project\n      name: testsanghoon\n  volumes:\n    - name: dockersock\t\n      hostPath:\n        path: /var/run/docker.sock\n        type: File\n    - name : testsanghoon\n      persistentVolumeClaim:\n        claimName: minio-pv-claim\nEOF\n\n\nkubectl expose pod ${localStorage.getItem("author").split("@")[0]}-theia --type=LoadBalancer --port=3000\n\n\nkubectl get svc ${localStorage.getItem("author").split("@")[0]}-theia -w -o jsonpath='{.status.loadBalancer.ingress[0].ip}:{.spec.ports[0].targetPort}' \n`;$("iframe").get(0).contentWindow.wt.term.term.send(`${a}`),t.$EventBus.$on("ideLaunch",function(e){console.log(e),window.open("http://"+String(e),"_blank")})})})},modelSetting(){var e=this;return e.fullPathList=[],e.getCodeList=[],e.treeList=[],e.model={_type:"org.uengine.modeling.model.Model",boundedContexts:[],relations:[],projectName:e.projectName},new Promise(function(t){var n=JSON.parse(JSON.stringify(e.value));n.definition.forEach(function(t){null!=t&&"org.uengine.modeling.model.BoundedContext"==t._type&&e.model.boundedContexts.push(t)});var a={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],ViewEventInfo:[]};e.model.relations=e.recursiveDeepCopy(e.value.relation),e.model.boundedContexts.forEach(function(t,n){t.portGenerated=8081+n,a["BoundedContext"].push(t),t.groups.forEach(function(t){if("org.uengine.modeling.model.Event"==e.$refs[t][0].value._type&&void 0==e.$refs[t][0].value.aggregate.name){var n=e.$refs[t][0].value;a["Event"].push(n)}}),e.model.boundedContexts[n].aggregates.forEach(function(t,n){t.aggregateRoot.fieldDescriptors.forEach(function(e){e.isKey&&(t.aggregateRoot.keyFieldDescriptor=e)}),a["Aggregate"].push(t),a["AggregateRoot"].push(t.aggregateRoot),t.commands&&t.commands.forEach(function(t){""==t.name&&(e.text="Check Command Name",e.snackbar=!0,e.color="error",e.timeout=1e3,e.checkName=!1),a["Command"].push(t)}),t.events&&t.events.forEach(function(t){""==t.name&&(e.text="Check Event Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),a["Event"].push(t)})}),e.model.boundedContexts[n].policies.forEach(function(t){""==t.name&&(e.text="Check Element Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.relationEventInfo.forEach(function(e){e.boundedContext={},e.boundedContext.name=t.boundedContext.name,e.elementView={},e.elementView.id=t.elementView.id,a["RelationEventInfo"].push(e)}),a["Policy"].push(t)}),e.model.boundedContexts[n].viewes.forEach(function(t){""==t.name&&(e.text="Check Element Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.createRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.createRules[n]=null,t.createRules=t.createRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,a["ViewEventInfo"].push(i.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e._index=n+1}}),t.updateRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.updateRules[n]=null,t.updateRules=t.updateRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,a["ViewEventInfo"].push(i.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),t.deleteRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.deleteRules[n]=null,t.deleteRules=t.deleteRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,a["ViewEventInfo"].push(i.when)}e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),a["View"].push(t)})}),t()})},writeUserValueData(e,t,n){var a,i,o,l=this,r=l.dbuid();console.log(l.parmProjectId),null==e?alert("로그인후에 server 저장이 가능합니다 (현재 로컬에서만 저장이 가능합니다) 참고:로컬은 자동 저장 됩니다."):(localStorage.getItem("projectId")?(l.newProjectId=localStorage.getItem("projectId"),a="saver/mine/"+e+"/"+l.newProjectId+"/"+l.parmVersion+"/",i="saver/sharedt/"+e+"/"+l.newProjectId+"/"+l.parmVersion+"/",o="saver/versionList/"+e+"/"+l.newProjectId+"/"+r,"/roomPermission/"+l.newProjectId,l.database.ref(a).update({author:t.author,username:t.userName,email:t.email,img:t.img,date:t.date,value:t.value,comment:t.commnet,projectName:t.projectName,versionName:r},function(e){e?n||(l.text="Fail Save server :: "+e,l.snackbar=!0,l.timeout=2e3,l.color="error"):(l.ver1=!0,n||(l.text="Success Save server",l.snackbar=!0,l.timeout=2e3,l.color="green"))}),n&&l.database.ref(i).update({author:t.author,username:t.userName,email:t.email,img:t.img,date:t.date,value:t.value,comment:t.commnet,versionName:r},function(e){e?(l.text="Fail Save server :: "+e,l.snackbar=!0,l.timeout=2e3,l.color="error"):(l.text="Success Save server",l.snackbar=!0,l.timeout=2e3,l.color="green")})):(l.newProjectId=l.dbuid(),a="saver/mine/"+e+"/"+l.newProjectId+"/",i="saver/shared/"+e+"/"+l.newProjectId+"/",o="saver/versionList/"+e+"/"+l.newProjectId+"/"+r,"/roomPermission/"+l.newProjectId+"/",l.database.ref(a).push({author:t.author,username:t.userName,email:t.email,img:t.img,date:t.date,value:t.value,comment:t.commnet,projectName:t.projectName,versionName:r},function(e){e?n||(l.text="Fail Save server :: "+e,l.snackbar=!0,l.timeout=2e3,l.color="error"):(l.ver1=!0,n||(l.text="Success Save server",l.snackbar=!0,l.timeout=2e3,l.color="green"))}),n&&l.database.ref(i).push({username:t.userName,email:t.email,value:t.value,author:t.author,img:t.img,date:t.date,comment:t.commnet,projectName:t.projectName,versionName:r},function(e){e?(l.text="Fail Save server :: "+e,l.snackbar=!0,l.timeout=2e3,l.color="error"):(l.ver2=!0,l.text="Success Save server",l.snackbar=!0,l.timeout=2e3,l.color="green")})),l.database.ref(o).update({author:t.author,username:t.userName,email:t.email,img:t.img,date:t.date,value:t.value,comment:t.commnet,projectName:t.projectName},function(e){e?n||(l.text="Fail Save server :: "+e,l.snackbar=!0,l.timeout=2e3,l.color="error"):(l.ver3=!0,n||(l.text="Success Save server",l.snackbar=!0,l.timeout=2e3,l.color="green"))}),l.$router.push({path:"/"})),this.onlineSaveDialog=!1},onlineClose(){this.isLoadVersion=!1,this.onlineSaveDialog=!1},onlineSave(){var e=this;this.isLoadVersion=!1;var t=localStorage.getItem("uid");e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName")),e.modelSetting().then(function(){e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(n){var a=e.value;a.definition.filter(e=>e),a.relation.filter(e=>e);var i={value:JSON.stringify(a),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:n,date:e.getNowTime(),email:localStorage.getItem("email"),projectId:null!=localStorage.getItem("projectId")?localStorage.getItem("projectId"):"",projectVersion:null!=localStorage.getItem("projectVersion")?localStorage.getItem("projectVersion"):null,projectName:e.projectName,commnet:e.serverComment};e.writeUserValueData(t,i,e.isShare),e.serverComment=""})})},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){var n=new Blob([t.data],{type:"application/zip"}),a=e.projectName+".zip";Object(r["saveAs"])(n,a)})},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){null!=t&&1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){t||1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var l=a.slice(o,o+n),r=new Array(l.length),s=0;s<l.length;s++)r[s]=l.charCodeAt(s);var c=new Uint8Array(r);i.push(c)}var u=new Blob(i,{type:t});return u},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));e.tempValue.length>0&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(JSON.parse(JSON.stringify(t)))})}},download:function(){var e=this;e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName"));var t=this.projectName+".json";e.modelSetting().then(function(){var n=new File([JSON.stringify(e.model)],t,{type:"text/json;charset=utf-8"});h.saveAs(n)})},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var l=n.pageX-a.offset().left+a[0].scrollLeft,r=n.pageY-a.offset().top+a[0].scrollTop;l/=e.scale,r/=e.scale,o={component:o.component,x:l,y:r,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},dbuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i=this;if(e.shape?a=e:(!0,a=e.element),a&&t&&n){var o="["+a.shape.geom.vertices.toString()+"]",l={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:o,isFilled:!0,relationView:{style:JSON.stringify({}),value:o}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,i.canvas.removeShape(a,!0),this.addElement(l)}},makeElement(e,t){var n,a=this,i=!0;if("org.uengine.modeling.model.Event"==e._type?n=a.getComponentByName("domain-event-definition"):"org.uengine.modeling.model.BoundedContext"==e._type?n=a.getComponentByName("bounded-context-definition"):"org.uengine.modeling.model.Aggregate"==e._type?n=a.getComponentByName("aggregate-definition"):"org.uengine.modeling.model.Command"==e._type?n=a.getComponentByName("command-definition"):"org.uengine.modeling.model.Policy"==e._type?n=a.getComponentByName("policy-definition"):"org.uengine.modeling.model.View"==e._type?n=a.getComponentByName("view-definition"):"org.uengine.modeling.model.External"==e._type?n=a.getComponentByName("external-definition"):"org.uengine.modeling.model.Relation"==e._type&&(n=a.getComponentByName("class-relation")),i="org.uengine.modeling.model.Relation"!=e._type,i){var o=n.computed.createNew(e.elementView.id,e.elementView.x,e.elementView.y,e.elementView.width,e.elementView.height);"bounded-context-definition"==n.name?(o.aggregates=e.aggregates,o.policies=e.policies):"aggregate-definition"==n.name?(o.aggregateRoot=e.aggregateRoot,o.boundedContext=e.boundedContext,e.events?o.events=e.events:o.events=[],e.commands?o.commands=e.commands:o.commands=[],e.viewes?o.viewes=e.viewes:o.viewes=[]):"domain-event-definition"==n.name?(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=y(e.aggregate.name)),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.relationPolicyInfo=e.relationPolicyInfo,o.relationCommandInfo=e.relationCommandInfo,o.fieldDescriptors=e.fieldDescriptors,o.trigger=e.trigger):"command-definition"==n.name?(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=_.camelCase(y(e.aggregate.name))),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.restfulType=e.restfulType):"policy-definition"==n.name?(o.boundedContext=e.boundedContext,o.relationEventInfo=e.relationEventInfo):"view-definition"==n.name&&(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=_.camelCase(y(e.aggregate.name))),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.dataProjection=e.dataProjection,o.aggregateEvents=e.aggregateEvents,"cqrs"==e.dataProjection&&(console.log(e),o.viewFieldDescriptors=e.viewFieldDescriptors)),null!=t?a.value["definition"].splice(t,1,o):a.value["definition"].push(o)}else{o=n.computed.createNew(e.relationView.id,e.sourceElement,e.targetElement,e.relationView.value);"class-relation"==n.name&&(o.name=e.name,o.from=e.from,o.to=e.to,o.relationView=e.relationView),null!=t?a.value["relation"].splice(t,1,o):a.value["relation"].push(o)}return a.$nextTick(function(){o.name=e.name}),o},loadAddElement:function(e){var t=this;t.value.definition=[],t.value.relation=[],t.projectName=e.projectName;t.getComponentByName("bounded-context-definition"),t.getComponentByName("aggregate-definition"),t.getComponentByName("command-definition"),t.getComponentByName("domain-event-definition"),t.getComponentByName("policy-definition"),t.getComponentByName("view-definition"),t.getComponentByName("class-relation");e.boundedContexts&&e.boundedContexts.forEach(function(n,a){if(e.boundedContexts[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.boundedContexts[a]=i,n.aggregates.forEach(function(e,a){if(n.aggregates[a].elementView.id==e.elementView.id){var i=t.makeElement(e);n.aggregates[a]=i}e.events&&e.events.forEach(function(n,a){if(e.events[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.events[a]=i}}),e.commands&&e.commands.forEach(function(n,a){if(e.commands[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.commands[a]=i}}),e.viewes&&e.viewes.forEach(function(n,a){if(e.viewes[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.viewes[a]=i}})}),n.policies&&n.policies.forEach(function(e,a){if(n.policies[a].elementView.id==e.elementView.id){var i=t.makeElement(e);n.policies[a]=i}})}}),e.relations&&e.relations.forEach(function(e){t.makeElement(e)})},addElement:function(e,t){this.enableHistoryAdd=!0;var n,a=this,i=a.getComponentByName(e.component);if("class-relation"==e.component){if(n=i.computed.createNew(this.uuid(),e.sourceElement.value,e.targetElement.value,e.vertices),"org.uengine.modeling.model.Policy"==e.targetElement.value._type){n.name="Pub/Sub";var o=!1;if(n.sourceElement.relationPolicyInfo.some(function(e,t){var a={relationId:n.relationView.id,policyValue:JSON.parse(JSON.stringify(n.targetElement))};e.policyValue.elementView.id==n.targetElement.elementView.id&&(n.sourceElement.relationPolicyInfo[t]=a,o=!0)}),!o){var l={relationId:n.relationView.id,policyValue:JSON.parse(JSON.stringify(n.targetElement))};n.sourceElement.relationPolicyInfo.push(l)}var r=!1;if(n.targetElement.relationEventInfo.forEach(function(e,t){var a={relationId:n.relationView.id,eventValue:JSON.parse(JSON.stringify(n.sourceElement))};e.eventValue.elementView.id==n.sourceElement.elementView.id&&(n.targetElement.relationEventInfo[t]=a,r=!0)}),!r){l={relationId:n.relationView.id,eventValue:JSON.parse(JSON.stringify(n.sourceElement))};n.targetElement.relationEventInfo.push(l)}}else if("org.uengine.modeling.model.Command"==e.targetElement.value._type){n.name="Req/Res";o=!1;if(n.sourceElement.relationCommandInfo.some(function(e,t){var a={relationId:n.relationView.id,commandValue:JSON.parse(JSON.stringify(n.targetElement))};e.commandValue.elementView.id==n.targetElement.elementView.id&&(n.sourceElement.relationCommandInfo[t]=a,o=!0)}),!o){l={relationId:n.relationView.id,commandValue:JSON.parse(JSON.stringify(n.targetElement))};n.sourceElement.relationCommandInfo.push(l)}r=!1;if(n.targetElement.relationEventInfo.some(function(e,t){var a={relationId:n.relationView.id,eventValue:JSON.parse(JSON.stringify(n.sourceElement))};e.commandValue.elementView.id==n.sourceElement.elementView.id&&(n.targetElement.relationEventInfo[t]=a,r=!0)}),!r){l={relationId:n.relationView.id,eventValue:JSON.parse(JSON.stringify(n.sourceElement))};n.targetElement.relationEventInfo.push(l)}}}else n=i.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height);if(null==a.value&&(a.value={definition:[],relation:[]}),"org.uengine.modeling.model.Relation"==n._type)if(void 0!=t){if(t)return console.log("bounded"),n}else a.value["relation"].push(n),console.log("============== Storage Location Search Test 5-1 (Add Relation) ============= "),this.$EventBus.$emit("storage");else if(void 0!=t){if(t)return console.log("bounded"),n}else a.value["definition"].push(n),console.log("============== Storage Location Search Test 5-2 (Add Definition) ============= "),this.$EventBus.$emit("storage")},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t},recursiveDeepCopy(e){var t,n,a=this;if("object"!==typeof e)return e;if(!e)return e;if("[object Array]"===Object.prototype.toString.apply(e)){for(t=[],n=0;n<e.length;n+=1)t[n]=a.recursiveDeepCopy(e[n]);return t}for(n in t={},e)e.hasOwnProperty(n)&&(t[n]=a.recursiveDeepCopy(e[n]));return t},getBoundedSetting(e){var t=this;return new Promise(async function(n,a){var i=[],o=[];t.model={_type:"org.uengine.modeling.model.Model",boundedContexts:[],projectName:t.projectName};var l=JSON.parse(JSON.stringify(t.value));l.definition.forEach(function(n){null!=n&&n.elementView.id==e&&t.model.boundedContexts.push(n)});var r={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],ViewEventInfo:[]};if(t.model.boundedContexts.forEach(function(e,n){e.portGenerated=8081+n,r["BoundedContext"].push(e),e.groups.forEach(function(e){if("org.uengine.modeling.model.Event"==t.$refs[e][0].value._type&&void 0==t.$refs[e][0].value.aggregate.name){var n=t.$refs[e][0].value;r["Event"].push(n)}}),t.model.boundedContexts[n].aggregates.length>=1&&t.model.boundedContexts[n].aggregates.forEach(function(e,a){var i=[{trigger:"PostPersist",annotation:"@PostPersist",events:[]},{trigger:"PostUpdate",annotation:"@PostUpdate",events:[]},{trigger:"PostDelete",annotation:"@PostDelete",events:[]},{trigger:"PrePersist",annotation:"@PrePersist",events:[]},{trigger:"PreUpdate",annotation:"@PreUpdate",events:[]},{trigger:"PreDelete",annotation:"@PreDelete",events:[]}];e.aggregateRoot.fieldDescriptors.forEach(function(t){t.nameCamelCase=p.camelCase(t.name),t.namePascalCase=t.nameCamelCase.substring(0,1).toUpperCase()+t.nameCamelCase.substring(1),t.isKey&&(e.aggregateRoot.keyFieldDescriptor=t)}),r["Aggregate"].push(e),r["AggregateRoot"].push(e.aggregateRoot),e.commands&&e.commands.forEach(function(e){""==e.name&&(t.text="Check Command Name",t.snackbar=!0,t.color="error",t.timeout=1e3,t.checkName=!1),r["Command"].push(e)}),e.events&&e.events.forEach(function(e){i.some(function(t){t.annotation!=e.trigger||t.events.push(e)}),""==e.name&&(t.text="Check Event Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),r["Event"].push(e)}),i.forEach(function(e,t){0==e.events.length&&(i[t]=null)}),i=i.filter(e=>e),i.length>0&&(console.log(i),t.model.boundedContexts[n].aggregates[a].lifeCycles=i)}),t.model.boundedContexts[n].policies.length>=1&&t.model.boundedContexts[n].policies.forEach(function(e){""==e.name&&(t.text="Check Policy Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),e.relationEventInfo.forEach(function(t){t.boundedContext={},t.boundedContext.name=e.boundedContext.name,t.elementView={},t.elementView.id=e.elementView.id,r["RelationEventInfo"].push(t)}),r["Policy"].push(e)}),t.model.boundedContexts[n].viewes.length>=1&&t.model.boundedContexts[n].viewes.forEach(function(e){""==e.name&&(t.text="Check View Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),e.createRules.forEach(function(t,n){0==Object.keys(t.when).length?(e.createRules[n]=null,e.createRules=e.createRules.filter(e=>e)):(t.when.boundedContext.name=e.boundedContext.name,r["ViewEventInfo"].push(t.when),t.fieldMapping.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.fieldMapping[n]=null,t.fieldMapping=t.fieldMapping.filter(e=>e))}),t._index=n+1)}),e.updateRules.forEach(function(t,n){0==Object.keys(t.when).length?(e.updateRules[n]=null,e.updateRules=e.updateRules.filter(e=>e)):(t.when.boundedContext.name=e.boundedContext.name,r["ViewEventInfo"].push(t.when),t.fieldMapping.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.fieldMapping[n]=null,t.fieldMapping=t.fieldMapping.filter(e=>e))}),t.where.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.where[n]=null,t.where=t.where.filter(e=>e))}),t._index=n+1)}),e.deleteRules.forEach(function(t,n){0==Object.keys(t.when).length?(e.deleteRules[n]=null,e.deleteRules=e.deleteRules.filter(e=>e)):(t.when.boundedContext.name=e.boundedContext.name,r["ViewEventInfo"].push(t.when),t.where.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.where[n]=null,t.where=t.where.filter(e=>e))}),t._index=n+1)}),r["View"].push(e)})}),t.template.length>0)var s=t.template;else s="spring-boot";var c=t.$manifestsPerTemplate[s].length-1;t.$manifestsPerTemplate[s].forEach(function(e,a){e=e.replace("./","");var l=function(n){e.includes("for-model");var a="",l=0;n.split("---");if(n.includes("forEach:"))s=n.split("forEach:")[1].split("\n")[0].trim();else if(l+=1,e.includes("for-model")){var s="Model";a=a.concat("forEach: "+s)}else{var s="BoundedContext";a=a.concat("forEach: "+s)}if(!n.includes("fileName:")&&(l+=1,e.split("/"))){var c=e.substring(e.lastIndexOf("/")+1);a=a.concat("\n"),a=a.concat("fileName: "+c)}if(n.includes("path:")){if(!n.includes("forEach:")){e.substring(0,e.lastIndexOf("/")+1);e.includes("for-model")?a=a.concat("\n"):n.includes(" path:")?(l+=1,a=a.concat("\n"),a=a.concat(`path: {{name}}/${w.dirname(e).replace("./","")}`)):a=a.concat("\n")}}else{e.substring(0,e.lastIndexOf("/")+1);l+=1,e.includes("for-model")?(a=a.concat("\n"),a=a.concat(`path: ${w.dirname(e).replace("./","")}`)):(a=a.concat("\n"),a=a.concat(`path: {{name}}/${w.dirname(e).replace("./","")}`))}a=3==l?a.concat("\n---\n"):a.concat("\n"),a.length>0&&(n=a.concat(n));var u=r[s],d=function(a){if(void 0==a){var l=n.split("---"),r=g.load(l[0]),s=e.split("/"),c=s[0]+"/"+s[1];r["path"].includes(c)||(r["path"]=c.concat(r["path"]));for(var u=r["path"].split("/"),d="",m=1;m<u.length;m++)d=1==m?d.concat(u[m]):d.concat("/"+u[m]);var p={package:`${d}`.replace(s[1]+"/src/main/java/","").replace(/\//gi,"."),packagePath:`${d}`};a=t.model}else p={package:`${t.projectName}`,packagePath:`src/main/java/${t.projectName.replace(".","/")}`};a.options=p;var f=window.$Mustache.render(n,a),v=f.split("---"),h=g.load(v[0]);p={};Object.keys(h).forEach(function(e,t){var n=e,a=Object.values(h)[t];"path"==n&&a.lastIndexOf(".")==a.length-1&&(a=a.substring(0,a.lastIndexOf(".")-1)),p[n]=a});var _=p["fileName"],y=p["path"]+"/"+p["fileName"];_.includes("Application")&&c&&!y.includes(c)&&(y=c.concat(y));var b="";if(v.length>1)for(var w in v)0!=w&&w<v.length-1?b=b.concat(v[w]+"---\n"):w==v.length-1&&(b=b.concat(v[w]));var E={},x={};b=b.replace("\n",""),b.length>1&&("org.uengine.modeling.model.Model"==a._type?(E={key:s[1]+_,fileName:_,code:b,file:t.fileType(_)},x={key:s[1]+_,fullPath:y.replace("for-model/","")}):(E={key:a.elementView.id+_,fileName:_,code:b,file:t.fileType(_)},x={key:a.elementView.id+_,fullPath:y}),o.push(E),i.push(x))};Array.isArray(u)?u.forEach(d):d(u)},u=new XMLHttpRequest;u.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("GIT"==t.template){var e=JSON.parse(this.responseText),r=v.decode(e.content);l(r)}else l(this.responseText);if(c==a){var s={getCodeList:o,fullPathList:i};n(s)}}},"GIT"==t.template?(u.open("GET",t.gitCodeUrl[e],!0),u.send()):(u.open("GET","/static/templates/"+s+"/"+e,!0),u.send())})})}}},C=x,S=(n("f94c"),n("2877")),k=n("6544"),O=n.n(k),I=n("8336"),V=n("b0af"),P=n("99d9"),N=n("ac7c"),T=n("62ad"),R=n("169a"),D=n("ce7e"),L=n("0789"),A=n("0e8f"),j=n("132d"),B=n("a722"),M=n("8860"),U=n("da13"),F=n("5d23"),G=n("e449"),J=n("0fd9"),H=n("b974"),K=n("2db4"),W=n("2fa4"),z=n("e0c7"),q=n("8654"),Y=n("a844"),X=n("71d9"),Z=n("2a7f"),Q=n("3a2f"),ee=n("eb2a"),te=Object(S["a"])(C,a,i,!1,null,"67fb0597",null);t["default"]=te.exports;O()(te,{VBtn:I["a"],VCard:V["a"],VCardActions:P["a"],VCardText:P["b"],VCardTitle:P["c"],VCheckbox:N["a"],VCol:T["a"],VDialog:R["a"],VDivider:D["a"],VFabTransition:L["c"],VFlex:A["a"],VIcon:j["a"],VLayout:B["a"],VList:M["a"],VListItem:U["a"],VListItemContent:F["a"],VListItemTitle:F["c"],VMenu:G["a"],VRow:J["a"],VSelect:H["a"],VSnackbar:K["a"],VSpacer:W["a"],VSubheader:z["a"],VTextField:q["a"],VTextarea:Y["a"],VToolbar:X["a"],VToolbarItems:Z["a"],VToolbarTitle:Z["b"],VTooltip:Q["a"],VTreeview:ee["a"]})},"2b3a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,rotateShape:e.onRotateShape,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5FC08B",fill:"#5FC08B","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< View >>"}}),e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"View",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/view.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l={mixins:[o["default"]],name:"view-definition",props:{},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.View"},createNew(e,t,n,a,i){return{description_text:"행위와 결정을 하기 위하여 유저가 참고하는 데이터\n(데이터 프로젝션이 필요 :  CQRS 등으로 수집)",_type:this.className(),name:"",aggregate:{},namePascalCase:"",namePlural:"",boundedContext:{},fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}],alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},editing:!1,editingView:!1,dataProjection:"cqrs",createRules:[{_type:"viewStoreRule",operation:"CREATE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}],updateRules:[{_type:"viewStoreRule",operation:"UPDATE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}],deleteRules:[{_type:"viewStoreRule",operation:"DELETE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}]}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png"}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.name":function(e,t){this.namePanel=e,this.checkValue=!0},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){t.setNameCase(t.namePanel);var e={state:"updateView",element:JSON.parse(JSON.stringify(t.value))};t.$EventBus.$emit(`${t.value.boundedContext.id}`,e),t.value.checkValue=!1})},"value.dataProjection":function(e,t){var n=this;"cqrs"==e&&(n.value.checkValue=!0)}},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if(console.log(t),"delete"==t.state)"org.uengine.modeling.model.Aggregate"==t.element._type&&(e.value.aggregate={});else if("updateAggregate"==t.state){e.value.aggregate={};var n={id:t.element.elementView.id,name:t.element.name,namePlural:t.element.namePlural,namePascalCase:t.element.namePascalCase,nameCamelCase:t.element.nameCamelCase,fieldDescriptors:t.element.aggregateRoot.fieldDescriptors};e.value.aggregate=n}else"updateBounded"==t.state&&(console.log("View > updateBounded"),e.value.boundedContext.name=t.element.name,e.value.boundedContext.id=t.element.elementView.id);e.$nextTick(function(){var t=e.getComponent("modeling-designer");t.editing=!0})});e.value.dataProjection;this.$nextTick(function(){})},methods:{cleanObject(e){for(var t in e)"object"==typeof e[t]&&this.cleanObject(e[t]),null!==e[t]&&void 0!==e[t]||delete e[t]},deleteView(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);var n={state:"deleteView",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.aggregate.id&&e.$EventBus.$emit(e.value.aggregate.id,n),null!=e.value.boundedContext.id&&e.$EventBus.$emit(e.value.boundedContext.id,n),e.$emit("update:value",null),t()})}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"02e07f10",null);t["default"]=c.exports},"2bd2":function(e,t){throw new Error('Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type.\n> <?xml version="1.0" encoding="UTF-8"?>\n| <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n| \t\t xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">')},"2ea7":function(e,t,n){},"2f3b":function(e,t){throw new Error('Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type.\n> <?xml version="1.0" encoding="UTF-8"?>\n| <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n| \txsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">')},"2fa1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"vertical-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalPoolShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"48c2ae94",null);t["default"]=c.exports},3:function(e,t){},"332a":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"elevation-12",staticStyle:{background:"#FFFFFF"}},[n("v-card",{staticStyle:{background:"#ffffff"},attrs:{flat:""}},[n("v-col",{attrs:{justify:"center",align:"center"}},[n("v-btn",{staticStyle:{width:"250px","font-size":"13px",color:"#175FC7","justify-content":"center"},attrs:{color:"#ffffff",block:""},on:{click:function(t){return e.snsLogin("google")}}},[n("img",{staticStyle:{"margin-bottom":"3px","margin-right":"5px"},attrs:{width:"20px",alt:"Google sign-in",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"}}),e._v("\n                Login in with Google\n            ")]),n("div",{staticClass:"pa-2"}),n("v-btn",{staticStyle:{width:"250px","font-size":"13px",color:"white","justify-content":"center"},attrs:{block:"",color:"#000000"},on:{click:function(t){return e.snsLogin("github")}}},[e._v("\n                  Login in with Github\n            ")])],1)],1)],1)},i=[],o=n("8aa5"),l=n.n(o),r={components:{},props:{},data:()=>({drawer:null}),methods:{writeUserData(e,t,n,a,i){var o=l.a.database();o.ref("users/"+e).set({username:t,email:n,profile_picture:a,state:i})},snsLogin(e){var t=this,n=this.getComponent("App");this.getComponent("EventStormingListPage");if("google"==e){var a=new l.a.auth.GoogleAuthProvider;a.addScope("profile"),a.addScope("email"),l.a.auth().signInWithPopup(a).then(function(e){var a=e.credential.accessToken,i=e.user.uid,o=e.additionalUserInfo.profile,l=e.operationType;window.localStorage.setItem("author",o.email),window.localStorage.setItem("userName",o.name),window.localStorage.setItem("email",o.email),window.localStorage.setItem("picture",o.picture),window.localStorage.setItem("accessToken",a),window.localStorage.setItem("uid",i),n.loginDialog=!1,t.$EventBus.$emit("login",a),t.writeUserData(i,o.name,o.email,o.picture,l)}).catch(function(e){var t=e.code,n=e.message;alert("["+t+"] "+n)})}else if("github"==e){a=new l.a.auth.GithubAuthProvider;l.a.auth().signInWithPopup(a).then(function(e){var a=e.credential.accessToken,i=e.user.uid,o=e.additionalUserInfo.profile,l=e.operationType;window.localStorage.setItem("author",o.email),window.localStorage.setItem("userName",o.name),window.localStorage.setItem("email",o.email),window.localStorage.setItem("picture",o.picture),window.localStorage.setItem("accessToken",a),n.loginDialog=!1,t.$EventBus.$emit("login",a),t.writeUserData(i,o.name,o.email,o.picture,l)}).catch(function(e){"auth/account-exists-with-different-credential"===e.code&&l.a.auth().fetchSignInMethodsForEmail(e.email).then(function(e){if("google.com"==e[0]){var t=new l.a.auth.GithubAuthProvider;l.a.auth().signInWithRedirect(t).then(function(e){l.a.auth().signInWithCredential(e.credential).then(function(e){}).catch(function(e){})}).catch(function(e){})}})})}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},s=r,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8336"),p=n("b0af"),f=n("62ad"),v=Object(c["a"])(s,a,i,!1,null,null,null);t["a"]=v.exports;d()(v,{VBtn:m["a"],VCard:p["a"],VCol:f["a"]})},3758:function(e,t,n){"use strict";var a=n("ed3c"),i=n.n(a);i.a},"3a94":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-polygon",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15],[60,5],[20,5]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Polygon(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"1e774895",null);t["default"]=c.exports},"3b22":function(e,t,n){var a={"./helloWorld/Application.java":"06f5","./helloWorld/Test.java":"bd6e","./spring-boot/Dockerfile":"f623","./spring-boot/cloudbuild.yaml":"7291","./spring-boot/for-model/gateway/Dockerfile":"e38b","./spring-boot/for-model/gateway/README.md":"0161","./spring-boot/for-model/gateway/cloudbuild.yaml":"d7b6","./spring-boot/for-model/gateway/pom.xml":"2bd2","./spring-boot/for-model/gateway/src/main/java/com/example/template/Application.java":"f5c4","./spring-boot/for-model/gateway/src/main/resources/application.yml":"f741","./spring-boot/kubernetes/deployment.yml":"b84f","./spring-boot/kubernetes/service.yaml":"ac66","./spring-boot/pom.xml":"2f3b","./spring-boot/src/main/java/com/eventstorming/AbstractEvent.java":"a791","./spring-boot/src/main/java/com/eventstorming/Application.java":"6821","./spring-boot/src/main/java/com/eventstorming/Controller.java":"ba6d","./spring-boot/src/main/java/com/eventstorming/Entity.java":"a97f","./spring-boot/src/main/java/com/eventstorming/Event.java":"e2e4","./spring-boot/src/main/java/com/eventstorming/PolicyEvent.java":"e454","./spring-boot/src/main/java/com/eventstorming/PolicyHandler.java":"dd53","./spring-boot/src/main/java/com/eventstorming/Repository.java":"df59","./spring-boot/src/main/java/com/eventstorming/View.java":"805d","./spring-boot/src/main/java/com/eventstorming/ViewEvent.java":"3cfd","./spring-boot/src/main/java/com/eventstorming/ViewHandler.java":"e275","./spring-boot/src/main/java/com/eventstorming/ViewRepository.java":"428b","./spring-boot/src/main/java/com/eventstorming/config/kafka/KafkaProcessor.java":"910c","./spring-boot/src/main/resources/application.yml":"51e1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="3b22"},"3cfd":function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: ViewEventInfo\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},"3dfd":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{overflow:"hidden"},attrs:{id:"inspire"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.overlay=!1}}},[a("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"blue darken-1",dark:"",app:"",fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"700px"}},[a("v-layout",[a("v-img",{attrs:{"max-height":"45","max-width":"140",src:n("f52a")},nativeOn:{click:function(t){return e.$router.push("/")}}})],1)],1),a("v-spacer"),e.$route.params.author&&e.$route.params.projectName&&"Local"!=e.$route.params.author?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{text:"",dark:""}},n),[a("v-icon",{attrs:{dark:""}},[e._v("chat")])],1)]}}],null,!1,2279388760),model:{value:e.chatWindow,callback:function(t){e.chatWindow=t},expression:"chatWindow"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[e.loginUser.picture?a("img",{attrs:{src:e.loginUser.picture}}):e._e()]),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                                "+e._s(e.$route.params.projectName)+"\n                            ")]),a("v-list-item-subtitle",[e._v("\n                                "+e._s(e.$route.params.author)+"\n                            ")])],1)],1)],1),e._l(e.messageLists,function(t){return a("div",[t.model?a("span",[e._v("\n                        "+e._s(t.userName)+"님이 수정하였습니다.\n                    ")]):a("v-col",[t.uid==e.uid?a("v-row",{attrs:{justify:"end"}},[a("v-col",[a("v-row",{attrs:{justify:"end"}},[a("span",{staticClass:"caption",staticStyle:{"margin-bottom":"0px",display:"block"}},[e._v(e._s(t.userName))])])],1),a("v-chip",{staticStyle:{display:"block"},attrs:{color:"green","text-color":"white"}},[e._v(e._s(t.message)+"\n                            ")])],1):a("v-row",[a("v-chip",{staticStyle:{display:"block"}},[e._v(e._s(t.message)+"\n                            ")]),a("span",{staticClass:"caption",staticStyle:{"margin-bottom":"0px",display:"block"}},[e._v(e._s(t.userName))])],1)],1)],1)}),a("v-divider"),a("v-card-actions",[a("v-text-field",{attrs:{outlined:"","append-icon":"mdi-send"},on:{"click:append":e.sendMessage,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],2)],1):e._e(),a("v-btn",{attrs:{text:"",color:"white"},on:{click:function(t){return e.local()}}},[e._v("\n            English\n        ")]),e.successLogin?e._e():a("v-btn",{attrs:{fab:"",icon:""},on:{click:e.loginPage}},[a("v-avatar",{attrs:{size:"40"}},[a("v-icon",{attrs:{"x-large":""}},[e._v("mdi-account-circle")])],1)],1),e.successLogin?a("v-btn",{attrs:{fab:"",icon:""},on:{click:function(t){return e.logout()}}},[a("v-avatar",{attrs:{size:"40"}},[e.loginUser.picture?a("img",{attrs:{src:e.loginUser.picture}}):e._e()])],1):e._e(),a("v-btn",{attrs:{icon:"",color:"white"},on:{click:e.wikiOpen}},[a("v-icon",{attrs:{medium:""}},[e._v("info")])],1)],1),a("v-content",[e.progressValue?a("v-progress-linear",{attrs:{fixed:"",indeterminate:"",color:"orange",height:"10"}}):e._e(),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticStyle:{overflow:"auto",height:"65%"},attrs:{xs12:""}},[a("router-view")],1)],1)],1)],1),e.terminal?a("vue-friendly-iframe",{staticStyle:{width:"100%",left:"0",bottom:"0",display:"block",position:"fixed"},attrs:{className:"eventTerminal",src:e.terminalUrl,frameborder:"0"},on:{load:e.onLoad}}):e._e(),a("v-overlay",{attrs:{value:e.overlay,align:"end"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-layout",{staticStyle:{height:"90%",width:"90%"}},[a("youtube-media",{attrs:{"video-id":"P237N2azQNM","player-width":.7*this.$innerWidth,"player-height":.7*this.$innerHeight}})],1)],1),a("v-dialog",{staticStyle:{width:"700px",height:"700px"},model:{value:e.infoDialog,callback:function(t){e.infoDialog=t},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("How to use EventStorming-tool?")]),a("v-carousel",{attrs:{"show-arrows":"true"},model:{value:e.infoNum,callback:function(t){e.infoNum=t},expression:"infoNum"}},e._l(e.infoSlider,function(e,t){return a("v-carousel-item",{key:e,attrs:{src:e}})}),1)],1)],1),a("v-dialog",{attrs:{width:"300"},model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[a("Login")],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1,e.kubeToken="",e.kubeHost=""}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){return e.saveSetting()}}},[e._v("Save")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Connection Setting")]),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Host",hint:"Ex) https://api.k8s.bzdvops.com",outline:""},model:{value:e.kubeHost,callback:function(t){e.kubeHost=t},expression:"kubeHost"}})],1)],1)],1),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Token",outline:""},model:{value:e.kubeToken,callback:function(t){e.kubeToken=t},expression:"kubeToken"}})],1)],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{color:"error",timeout:1e4},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        Click Setting & Insert Infomation\n        "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)},i=[],o=n("bc3a"),l=n.n(o),r=n("24f8"),s=n.n(r),c=n("8aa5"),u=n.n(c),d={name:"App",props:{},data:()=>({terminalUrl:"",terminal:!1,iframeLoading:!0,infoSlider:["https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png","https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"],messageLists:[],infoNum:0,chatWindow:!1,dialog:!1,drawer:!1,infoDialog:!1,kubeHost:"",kubeToken:"",loginDialog:!1,items:[{icon:"fa-sticky-note",text:"EventStorming",route:"/"}],api:[],snackbar:!1,fab:!1,overlay:!1,successLogin:!1,message:"",uid:"",userName:"",messageRef:{},progressValue:!0}),components:{axios:l.a,https:s.a},beforeDestroy(){window.localStorage.removeItem("accessToken")},computed:{activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},loginUser(){var e={author:window.localStorage.getItem("author"),userName:window.localStorage.getItem("userName"),picture:window.localStorage.getItem("picture"),email:window.localStorage.getItem("email")};return e},authorized(){var e=this;return null==window.localStorage.getItem("accessToken")?(window.authorized=!1,!1):window.localStorage.getItem("accessToken")?(e.loginUser,window.authorized=!0,e.loginDialog=!1,!0):void 0}},created:function(){var e=this;e.authorized?(e.successLogin=!0,e.overlay=!1):e.successLogin=!1},watch:{},beforeDestroy(){},mounted(){var e=this;if(localStorage.getItem("projectName")&&(e.overlay=!1),e.$EventBus.$on("login",function(t){e.successLogin=!!t,e.authorized,e.vm.$forceUpdate()}),e.$EventBus.$on("getValue",function(){}),e.$EventBus.$on("closeChat",function(t){e.messageLists=[],e.messageRef.off()}),e.$EventBus.$on("terminalOn",function(t){var n=t;console.log(location.pathname),e.terminalUrl=location.pathname+"terminal?token="+n,e.terminal=!0}),e.$EventBus.$on("terminalOff",function(e){}),e.$EventBus.$on("progressValue",function(t){e.progressValue=t}),$(document).keydown(e=>{27==e.keyCode&&(this.overlay=!1)}),e.$route.query.access_token){localStorage.setItem("accessToken",e.$route.query.access_token);var t=window.location.protocol+"//"+window.location.host+"/";window.location.href=t}var n=e.getUid();n.then(function(t){e.userName=t.displayName,e.uid=t.uid})},methods:{onLoad(){console.log("iframe loaded"),this.iframeLoading=!1},onIframeLoad(){console.log("iframe loaded")},async sendMessage(){var e=this;if(e.message.length>0){var t=e.getUid();e.userName.length<1&&e.uid.length<1?t.then(function(t){e.userName=t.displayName,e.uid=t.uid,e.messageRef=u.a.database().ref(`/${e.chatUid}/${e.$route.params.projectName}`),e.messageRef.push({message:e.message,userName:e.userName,uid:e.uid}),e.message=""}):(e.messageRef=u.a.database().ref(`/${e.chatUid}/${e.$route.params.projectName}`),e.messageRef.push({message:e.message,userName:e.userName,uid:e.uid}),e.message="")}},getUid(){return new Promise(function(e){u.a.auth().onAuthStateChanged(function(t){e(t||"everyone")})})},logout(){var e=this;u.a.auth().onAuthStateChanged(function(e){e&&e.uid}),u.a.auth().signOut().then(function(t){console.log("logout"),window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("author"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("email"),window.localStorage.removeItem("projectName"),window.localStorage.removeItem("picture"),window.localStorage.removeItem("loadData"),window.localStorage.removeItem("uid"),e.$EventBus.$emit("login",localStorage.getItem("accessToken"));var n=window.location.protocol+"//"+window.location.host+"/";window.location.href=n}).catch(function(e){})},saveSetting(){var e=this;e.dialog=!1,this.$http.put(`${API_HOST}/kube/user/saveUserDetail`,{username:e.userInfo.user_name,host:e.kubeHost,token:e.kubeToken}).then(t=>{let n={kubeHost:e.kubeHost,kubeToken:e.kubeHost,userName:e.userInfo.user_name};e.$store.dispatch("LOGIN",n)})},loginPage(){var e=this;e.loginDialog=!0},wikiOpen(){window.open("http://uengine.org/eventstorming/#/")}}},m=d,p=(n("034f"),n("2877")),f=n("6544"),v=n.n(f),g=n("7496"),h=n("40dc"),_=n("8212"),y=n("8336"),b=n("b0af"),w=n("99d9"),E=n("5e66"),x=n("3e35"),C=n("cc20"),S=n("62ad"),k=n("a523"),O=n("a75b"),I=n("169a"),V=n("ce7e"),P=n("0e8f"),N=n("132d"),T=n("adda"),R=n("a722"),D=n("8860"),L=n("da13"),A=n("8270"),j=n("5d23"),B=n("e449"),M=n("a797"),U=n("8e36"),F=n("0fd9"),G=n("2db4"),J=n("2fa4"),H=n("e0c7"),K=n("8654"),W=n("71d9"),z=n("2a7f"),q=Object(p["a"])(m,a,i,!1,null,null,null);t["a"]=q.exports;v()(q,{VApp:g["a"],VAppBar:h["a"],VAvatar:_["a"],VBtn:y["a"],VCard:b["a"],VCardActions:w["a"],VCardTitle:w["c"],VCarousel:E["a"],VCarouselItem:x["a"],VChip:C["a"],VCol:S["a"],VContainer:k["a"],VContent:O["a"],VDialog:I["a"],VDivider:V["a"],VFlex:P["a"],VIcon:N["a"],VImg:T["a"],VLayout:R["a"],VList:D["a"],VListItem:L["a"],VListItemAvatar:A["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VMenu:B["a"],VOverlay:M["a"],VProgressLinear:U["a"],VRow:F["a"],VSnackbar:G["a"],VSpacer:J["a"],VSubheader:H["a"],VTextField:K["a"],VToolbar:W["a"],VToolbarItems:z["a"],VToolbarTitle:z["b"]})},4:function(e,t){},"402c":function(e,t,n){"use strict";var a=n("2b0e"),i=n("f309");a["a"].use(i["a"]),t["a"]=new i["a"]({icons:{iconfont:"mdi"}})},"417b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{attrs:{absolute:"",right:"",width:"390"},model:{value:e.value.drawer,callback:function(t){e.$set(e.value,"drawer",t)},expression:"value.drawer"}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.titleName))])],1)],1)],1),"org.uengine.modeling.model.Relation"!=e.value._type?n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.value.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},on:{"update:items":function(t){return e.$set(e.value,"fieldDescriptors",t)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{attrs:{small:""},on:{click:function(t){return e.UMLDeleteEntity(a)}}},[e._v("\n                        delete\n                    ")])]}}],null,!1,3148489354)}),n("v-row",{attrs:{justify:"center"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type","menu-props":{top:!0,offsetX:!1}},model:{value:e.umlEntityType,callback:function(t){e.umlEntityType=t},expression:"umlEntityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:e.umlEntityName,callback:function(t){e.umlEntityName=t},expression:"umlEntityName"}})],1)],1),n("v-layout",{attrs:{"justify-end":"",wrap:""}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.UMLEntityADD(e.umlEntityType,e.umlEntityName)}}},[e._v("ADD Attribute\n                ")])],1)],1):n("v-list",[n("v-radio-group",{model:{value:e.value.relationValue,callback:function(t){e.$set(e.value,"relationValue",t)},expression:"value.relationValue"}},e._l(e.relationList,function(e){return n("v-radio",{key:e.name,attrs:{label:e.shape,value:e.name}})}),1)],1)],1)],1)},i=[],o={name:"uml-property-panel",props:{value:Object,titleName:String,img:String},data:function(){return{entityTypeList:["Int","String","Float","Double","Long"],umlEntityType:"",umlEntityName:"",relationList:[{name:"1",shape:"------------"},{name:"2",shape:"------------\x3e"},{name:"3",shape:"------------0"}],headers:[{text:"type",value:"className",align:"center"},{text:"name",value:"name",align:"center"},{text:"Actions",value:"action",sortable:!1,align:"center"}],translateText:"",usedTranslate:!1,UMLInput:""}},methods:{UMLDeleteEntity(e){var t=this;t.value.fieldDescriptors.forEach(function(n,a){n.name==e.name&&n.type==e.type&&a>-1&&t.value.fieldDescriptors.splice(a,1)})},UMLEntityADD:function(e,t){var n=this;if(0!=e.length&&0!=t.length){let a=null;a="id"==t?{_type:"org.uengine.uml.model.FieldDescriptor",name:t,className:e,isKey:!0}:{_type:"org.uengine.model.FieldDescriptor",name:t,className:e},n.value.fieldDescriptors.push(a),this.umlEntityType="",this.umlEntityName=""}else{var a=this.$parent.getComponent("modeling-designer");a.text="TYPE & NAME INPUT REQUEST",a.snackbar=!0}}},watch:{"value.drawer":function(e){this.navigationDrawer=e},navigationDrawer:{handler:function(e,t){this.$parent.getComponent("opengraph");1==e&&(this._item=this.value,this.value.elementView&&(this.x=this.value.elementView.x,this.y=this.value.elementView.y,this.width=this.value.elementView.width,this.height=this.value.elementView.height))}}}},l=o,r=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),d=n("8fea"),m=n("ce7e"),p=n("0e8f"),f=n("132d"),v=n("a722"),g=n("8860"),h=n("da13"),_=n("8270"),y=n("5d23"),b=n("f774"),w=n("67b6"),E=n("43a6"),x=n("0fd9"),C=n("b974"),S=n("8654"),k=Object(r["a"])(l,a,i,!1,null,null,null);t["default"]=k.exports;c()(k,{VBtn:u["a"],VDataTable:d["a"],VDivider:m["a"],VFlex:p["a"],VIcon:f["a"],VLayout:v["a"],VList:g["a"],VListItem:h["a"],VListItemAvatar:_["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VNavigationDrawer:b["a"],VRadio:w["a"],VRadioGroup:E["a"],VRow:x["a"],VSelect:C["a"],VTextField:S["a"]})},"41cb":function(e,t,n){"use strict";var a=n("2b0e"),i=n("8c4f"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"6",md:"10"}},[n("v-text-field",{attrs:{label:"Serarch Project",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-col",{attrs:{cols:"1",md:"2",pro:""}},[n("v-btn",{attrs:{block:"","x-large":"",color:"green lighten-2"},nativeOn:{click:function(t){return e.newProjectCheck()}}},[e._v("New Project\n            ")])],1)],1),e._v("\n\n    Local\n    "),n("v-divider"),n("v-row",[e._l(e.filteredLocalList,function(t,a){return n("v-col",{key:a,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.img,"max-width":"400","max-height":"300"}}),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.projectName))]),n("v-list-item-subtitle",[e._v("Author : "+e._s(t.email))]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.date))])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:e.toUrl(t.userUid,t.projectId,t.projectVersion,t.type)}},[e._v("Edit")])],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}})],1)],2),n("div",[e._v("\n        Mine\n        "),n("v-divider")],1),n("v-row",[e._l(e.filteredMineList,function(t,a){return n("v-col",{key:a,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.img,"max-width":"400","max-height":"300"}}),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.projectName))]),n("v-list-item-subtitle",[e._v("Author : "+e._s(t.email))]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.date))]),n("v-list-item-subtitle",[e._v("Comment : "+e._s(t.comment))])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:e.toUrl(t.author,t.projectId,t.projectVersion,t.type)},nativeOn:{click:function(n){return e.$EventBus.$emit("chatKey",t.userUid)}}},[e._v("\n                        Edit\n                    ")]),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(n){return e.deleteConfirm(t)}}},[e._v("\n                        Delete\n                    ")])],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}})],1)],2),n("div",[e._v("\n        Shared\n        "),n("v-divider")],1),n("v-row",[e._l(e.filteredSharedList,function(t,a){return n("v-col",{key:a,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.img,"max-width":"400","max-height":"300"}}),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.projectName))]),n("v-list-item-subtitle",[e._v("Author : "+e._s(t.email))]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.date))]),n("v-list-item-subtitle",[e._v("Comment : "+e._s(t.comment))])],1)],1),n("v-card-actions",[e.isYours(t.author)?n("v-btn",{attrs:{text:"",to:e.toUrl(t.author,t.projectId,t.projectVersion,t.type)},nativeOn:{click:function(n){return e.$EventBus.$emit("chatKey",t.author)}}},[e._v("\n                        Edit\n                    ")]):e._e(),e.isYours(t.author)?e._e():n("v-btn",{attrs:{text:"",to:e.toUrl(t.author,t.projectId,t.projectVersion,t.type)},nativeOn:{click:function(n){return e.$EventBus.$emit("chatKey",t.author)}}},[e._v("\n                        View\n                    ")]),e.isYours(t.author)?n("v-btn",{attrs:{color:"red",text:""},on:{click:function(n){return e.deleteConfirm(t)}}},[e._v("\n                        Delete\n                    ")]):e._e()],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}})],1)],2),n("v-dialog",{attrs:{persistent:"","max-width":"370"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",[1==e.selectDelete.type?n("v-card-title",{staticClass:"headline"},[e._v("삭제 알림 ( 공유 )")]):n("v-card-title",{staticClass:"headline"},[e._v("삭제 알림( 개인 )")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v('현재 프로젝트 "'+e._s(e.selectDelete.name)+'" 를 삭제 하시겠습니까?')]),n("div",[e._v("사용자 : "+e._s(e.selectDelete.author))]),n("div",[e._v("최근 저장시간 : "+e._s(e.selectDelete.date))]),n("div",[e._v("삭제 후에는 복구는 불가능합니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 삭제를 진행합니다."},model:{value:e.deleteConfirmCheckBox,callback:function(t){e.deleteConfirmCheckBox=t},expression:"deleteConfirmCheckBox"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},nativeOn:{click:function(t){return e.deleteItem(t)}}},[e._v("Delete")]),n("v-btn",{attrs:{color:"green darken-1",text:""},nativeOn:{click:function(t){e.deleteDialog=!1}}},[e._v("Close")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"430"},model:{value:e.newProjectDialog,callback:function(t){e.newProjectDialog=t},expression:"newProjectDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("삭제 알림")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v("편집중인 로컬 문서( "+e._s(e.loginProjectName)+" )가 존재합니다.")]),n("div",{staticStyle:{color:"#000000"}},[e._v("로컬에 저장된 문서를 편집하시겠습니까, 새 문서를 만드시겠습니까?")]),n("div",{staticStyle:{color:"#000000"}},[e._v("새 문서로 만드는 경우는 기존 로컬문서가 상실됩니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 새 문서를 생성합니다."},model:{value:e.deleteConfirmCheckBox,callback:function(t){e.deleteConfirmCheckBox=t},expression:"deleteConfirmCheckBox"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},nativeOn:{click:function(t){return e.createNewProject()}}},[e._v("새 프로젝트")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",to:e.toUrl(e.loginAuthor,"init","-init",0)}},[e._v("\n                    현재 프로젝트\n                ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.newProjectDialog=!1}}},[e._v(" 닫기")])],1)],1)],1)],1)},l=[],r=n("8aa5"),s=n.n(r),c={name:"EventStormingListPage",data(){return{stormingLocalList:[],stormingSharedList:[],stormingMineList:[],loginProjectName:"",loginAuthor:"",search:"",deleteDialog:!1,selectDelete:[],newProjectDialog:!1,deleteConfirmCheckBox:!1,loadingDialog:!0}},created(){var e=this;e.newProjectDialog=!1,e.$EventBus.$emit("progressValue",!0),null!=window.localStorage.getItem("accessToken")?e.getList().then(function(){e.filteredLocalList,e.filteredMineList,e.filteredSharedList,e.$EventBus.$emit("progressValue",!1)}):e.getList().then(function(){e.filteredLocalList,e.$EventBus.$emit("progressValue",!1)}),e.loginAuthor=null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",e.loginProjectName=null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local"},computed:{filteredLocalList(){var e=this,t=[];for(var n in e.stormingLocalList){var a={email:e.stormingLocalList[n].author,date:e.stormingLocalList[n].date,img:e.stormingLocalList[n].img,userUid:e.stormingLocalList[n].userUid,projectId:e.stormingLocalList[n].projectId,projectVersion:e.stormingLocalList[n].projectVersion,projectName:e.stormingLocalList[n].projectName,type:e.stormingLocalList[n].type};t.push(a)}return t},filteredMineList(){var e=this,t=[];for(var n in e.stormingMineList){var a={projectId:n,projectVersion:Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1],projectName:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].projectName,img:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].img,date:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].date,email:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].email,author:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].author,userName:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].userName,comment:e.stormingMineList[n][Object.keys(e.stormingMineList[n])[Object.keys(e.stormingMineList[n]).length-1]].comment,type:!1};t.push(a)}return e.search?t.filter(t=>{return t.name.toLowerCase().includes(e.search.toLowerCase())}):t},filteredSharedList(){var e=this,t=[];for(var n in e.stormingSharedList)for(var a in e.stormingSharedList[n]){var i={author:n,projectId:a,projectVersion:Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1],projectName:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].projectName,img:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].img,date:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].date,email:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].email,userName:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].userName,comment:e.stormingSharedList[n][a][Object.keys(e.stormingSharedList[n][a])[Object.keys(e.stormingSharedList[n][a]).length-1]].comment,type:!0};t.push(i)}return e.search?t.filter(t=>{return t.name.toLowerCase().includes(e.search.toLowerCase())}):t}},watch:{},mounted:function(){var e=this;e.$EventBus.$on("login",function(t){e.getList()}),e.$EventBus.$on("updatePic",function(t){e.getList().then(function(){e.filteredLocalList})})},beforeDestroy(){this.$EventBus.$off("updatePic")},methods:{createNewProject(){var e=this;e.deleteConfirmCheckBox?(localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveImg"),localStorage.removeItem("localSaveProjectName"),e.deleteConfirmCheckBox=!1,e.$router.push({path:`${e.toUrl(e.loginAuthor,"init","-init",0)}`})):alert("삭제를 원하시면 '☐' 체크 해주세요.")},newProjectCheck(){var e=this;null!=JSON.parse(localStorage.getItem("localLoadData"))?0==JSON.parse(localStorage.getItem("localLoadData"))["definition"].length?e.$router.push({path:`${e.toUrl(e.loginAuthor,"init","-init",0)}`}):e.newProjectDialog=!0:e.$router.push({path:`${e.toUrl(e.loginAuthor,"init","-init",0)}`})},isYours(e){return localStorage.getItem("uid")==e},toUrl(e,t,n,a){return"storming/"+e+"/"+t+"/"+n+"/"+a},deleteConfirm(e){var t=this;t.selectDelete=JSON.parse(JSON.stringify(e)),t.deleteDialog=!0},deleteItem(){var e,t=this;t.deleteConfirmCheckBox?(t.selectDelete.type?e=s.a.database().ref("/saver/shared/"+t.selectDelete.author+"/"+t.selectDelete.projectId):(e=s.a.database().ref("/saver/mine/"+t.selectDelete.author+"/"+t.selectDelete.projectId),e=s.a.database().ref("/saver/versionList/"+t.selectDelete.author+"/"+t.selectDelete.projectId)),e.remove(),t.$nextTick(function(){t.getList(),t.deleteDialog=!1})):alert("삭제를 원하시면 '☐' 체크 해주세요.")},getUid(){return new Promise(function(e){s.a.auth().onAuthStateChanged(function(t){e(t?t.uid:"everyone")})})},getList(){var e=this;return new Promise(function(t){var n=localStorage.getItem("uid"),a=[{author:null!=localStorage.getItem("email")?localStorage.getItem("email"):"anonymous@sample.org",date:null!=localStorage.getItem("localSaveTime")?localStorage.getItem("localSaveTime"):"undefined",img:null!=localStorage.getItem("localSaveImg")?localStorage.getItem("localSaveImg"):"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",userUid:null!=n?n:"anonymous",projectId:"init",projectVersion:"-init",projectName:null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local",type:0},{author:"anonymous@sample.org",date:"undefined",img:"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",userUid:"anonymous",projectId:"multiTest2",projectVersion:"-init",projectName:"multiTest2",type:2}];n?(e.stormingLocalList=a,s.a.database().ref("/saver/mine/"+n).once("value").then(function(n){e.stormingMineList=n.val(),t()}),s.a.database().ref("/saver/shared/").once("value").then(function(n){e.stormingSharedList=n.val(),t()})):(e.stormingLocalList=a,t())})}}},u=c,d=n("2877"),m=n("6544"),p=n.n(m),f=n("8336"),v=n("b0af"),g=n("99d9"),h=n("ac7c"),_=n("62ad"),y=n("a523"),b=n("169a"),w=n("ce7e"),E=n("adda"),x=n("da13"),C=n("5d23"),S=n("0fd9"),k=n("2fa4"),O=n("8654"),I=Object(d["a"])(u,o,l,!1,null,"9dfec9ae",null),V=I.exports;p()(I,{VBtn:f["a"],VCard:v["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCheckbox:h["a"],VCol:_["a"],VContainer:y["a"],VDialog:b["a"],VDivider:w["a"],VImg:E["a"],VListItem:x["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VRow:S["a"],VSpacer:k["a"],VTextField:O["a"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},N=[],T={name:"Introduce"},R=T,D=Object(d["a"])(R,P,N,!1,null,"1ba2aab2",null),L=(D.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.value&&"org.uengine.uml.ClassDiagram"==e.value._type?n("class-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e(),e.value&&"org.uengine.kernel.ProcessDefinition"==e.value._type?n("process-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e()],1)}),A=[],j={props:{backend:Object,path:String},data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){this.load()},methods:{load:function(){var e=this;e.value=null,e.$nextTick(function(){var t={};e.backend.$bind("definition/raw/"+e.path+".json",t),t.$load().then(function(t){t&&(e.value=t.definition)})})}}},B=j,M=Object(d["a"])(B,L,A,!1,null,null,null),U=M.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("md-layout",[n("md-layout",{attrs:{"md-flex":"20"}},[e.id&&e.id.indexOf("@")>-1?n("md-layout",[e.isProduction?n("div",[n("md-button",{staticClass:"md-primary"},[e._v("this is production (rev. "+e._s(e.id.substring(e.id.indexOf("@")+1))+")")])],1):n("md-button",{staticClass:"md-raised md-accent",on:{click:e.markProduction}},[e._v("Mark Production (rev\n          "+e._s(e.id.substring(e.id.indexOf("@")+1))+")\n        ")])],1):e._e(),e.versions?n("md-layout",[n("md-button",{staticClass:"md-primary",on:{click:e.loadVersions}},[e._v("latest version")])],1):e._e(),e.monitor?n("md-list",{staticClass:"tree-list"},[n("bpmn-tree-list",{attrs:{trees:e.trees}})],1):e._e()],1),n("md-layout",{nativeOn:{contextmenu:function(t){return e.openMenu(t)},mousedown:function(t){return e.closeMenu(t)}}},[0==e.loaded?n("div",{staticStyle:{position:"absolute",left:"48%",top:"37%","z-index":"99999"}},[n("md-spinner",{staticStyle:{"z-index":"99999"},attrs:{"md-size":90,"md-indeterminate":""}})],1):e._e(),e.definition?n("bpmn-vue",{ref:"bpmn-vue",staticClass:"fullcanvas",style:e.cursorStyle,attrs:{definition:e.definition,monitor:e.monitor,backend:e.backend,dragPageMovable:e.dragPageMovable,loaded:e.loaded},on:{"update:definition":function(t){e.definition=t},bpmnReady:e.bindEvents,"update:loaded":function(t){e.loaded=t}}}):e._e(),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"100px"}},[n("span",{staticClass:"bpmn-icon-hand-tool hands",style:e.handsStyle,attrs:{_width:"30",_height:"30"},on:{click:e.changeMultiple}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Drag On/Off")])],1),e._l(e.dragItems,function(t){return n("span",{staticClass:"icons draggable",class:t.icon,attrs:{_component:t.component,_width:t.width,_height:t.height}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v(e._s(t.label))])],1)})],2),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"427px"}},[n("span",{staticClass:"icons fa fa-undo",staticStyle:{"margin-left":"7px"},on:{click:e.undo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Undo")])],1),n("span",{staticClass:"icons fa fa-repeat",staticStyle:{"margin-left":"7px"},on:{click:e.redo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Redo")])],1)]),n("md-layout",[e.monitor?e._e():n("md-layout",[n("md-input-container",[n("label",[e._v("Process Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.definitionName,callback:function(t){e.definitionName=t},expression:"definitionName"}})],1)],1),e.versions?n("md-layout",[n("md-input-container",[n("label",[e._v("Revision")]),n("md-select",{on:{change:e.changeVersion},model:{value:e.selectedVersion,callback:function(t){e.selectedVersion=t},expression:"selectedVersion"}},e._l(e.versions.slice().reverse(),function(t){return n("md-option",{attrs:{value:t}},[e._v("rev. "+e._s(t.ver)+"\n                "),e.productionVersionId==t.versionId?n("md-chip",[e._v("production")]):e._e()],1)}),1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openDefinitionSettings}},[n("md-icon",[e._v("settings")]),e._v("\n            Settings\n          ")],1)],1),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openProcessVariables}},[n("md-icon",[e._v("sort_by_alpha")]),e._v("\n            Vars\n          ")],1)],1),!e.monitor&&e.definition?n("md-layout",{staticStyle:{"max-width":"200px"}},[n("md-input-container",[n("label",[e._v("Language")]),n("md-select",{on:{change:e.changeLocale},model:{value:e.definition._selectedLocale,callback:function(t){e.$set(e.definition,"_selectedLocale",t)},expression:"definition._selectedLocale"}},[n("md-option",{attrs:{value:"ko"}},[e._v("Korean")]),n("md-option",{attrs:{value:"en"}},[e._v("English")])],1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",{staticStyle:{"margin-left":"30px"}},[e.monitor?e._e():n("md-button",{staticClass:"md-fab md-primary md-mini",on:{click:e.initiateProcess}},[n("md-icon",[e._v("play_arrow")])],1),e.monitor?e._e():n("md-button",{staticClass:"md-fab md-warn md-mini",on:{click:e.save}},[e.id&&-1==e.id.indexOf("@")?n("md-icon",[e._v("save")]):n("md-icon",[e._v("history")])],1)],1),e.monitor?n("md-layout",[n("md-input-container",[n("label",[e._v("Instance Name")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.instanceName,callback:function(t){e.instanceName=t},expression:"instanceName"}})],1)],1):e._e(),e.monitor?n("md-layout",[n("md-button",{attrs:{id:"instanceVariables"},on:{click:e.openInstanceVariables}},[e._v("Variables")]),e.definition?n("bpmn-instance-variables",{ref:"instanceVariables",attrs:{id:e.instanceId,definition:e.definition}}):e._e(),n("md-button",{attrs:{id:"userPicker"},on:{click:e.openUserPicker}},[e._v("Role Mappings")]),e.definition?n("user-picker",{ref:"userPicker",staticStyle:{"min-width":"70%"},attrs:{id:e.instanceId,roles:e.definition.roles}}):e._e()],1):e._e()],1)],1)],1),e._m(0),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},G=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"custom-menu"},[n("li",{attrs:{"data-action":"backToHere"}},[e._v("Back To Here")])])}],J={props:{monitor:Boolean,backend:Object,id:String,value:{default:function(){return{_type:"org.uengine.kernel.ProcessDefinition",name:{},childActivities:["java.util.ArrayList",[]],sequenceFlows:[],_selectedLocale:"ko",_changedByLocaleSelector:!1}},type:Object},instanceId:String,rootInstanceId:String},data(){return{loaded:!1,copyActivity:[],beforeTracing:[],afterTracing:[],contextMenuActivated:!1,definition:null,definitionName:null,instanceName:null,processVariables:[],dialog:!1,items:[],active:!1,mode:"editor",shapeMenu:!1,dragPageMovable:!1,cursorStyle:null,handsStyle:null,versions:null,selectedVersion:null,isProduction:!1,productionVersionId:null,dragItems:[{icon:"bpmn-icon-start-event-none",component:"bpmn-start-event",label:"Start Event",width:"30",height:"30"},{icon:"bpmn-icon-intermediate-event-none",component:"bpmn-intermediate-event",label:"Intermediate Event",width:"30",height:"30"},{icon:"bpmn-icon-end-event-none",component:"bpmn-end-event",label:"End Event",width:"30",height:"30"},{icon:"bpmn-icon-gateway-xor",component:"bpmn-exclusive-gateway",label:"Gateway",width:"40",height:"40"},{icon:"bpmn-icon-task",component:"bpmn-task",label:"Task",width:"100",height:"70"},{icon:"bpmn-icon-subprocess-expanded",component:"bpmn-subprocess",width:"200",height:"150"},{icon:"bpmn-icon-participant",component:"bpmn-role",label:"Role Lane",width:"400",height:"200"}],trees:[],bthTracingTag:""}},computed:{},mounted(){$(document).keydown(e=>{67==e.keyCode&&(e.metaKey||e.ctrlKey)&&this.copy()}),$(document).keydown(e=>{86==e.keyCode&&(e.ctrlKey||e.metaKey)&&this.paste()}),$(document).keydown(e=>{46!=e.keyCode&&8!=e.keyCode||this.deleteActivity()});var e=this;e.setMode(),$(".custom-menu li").click(function(){switch($(this).attr("data-action")){case"backToHere":e.onBackToHere();break}$(".custom-menu").hide(0)})},watch:{instanceId:function(e){this.setMode()}},methods:{changeMultiple:function(){0==this.dragPageMovable&&0==this.active?(this.dragPageMovable=!0,this.active=!0,this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):1==this.dragPageMovable&&1==this.active&&(this.dragPageMovable=!1,this.active=!1,this.cursorStyle=null,this.handsStyle=null)},openProcessVariables(){this.$refs["bpmn-vue"].openProcessVariables()},openDefinitionSettings(){this.$refs["bpmn-vue"].openDefinitionSettings()},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&($(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var l=n.pageX-a.offset().left+a[0].scrollLeft,r=n.pageY-a.offset().top+a[0].scrollTop;l/=e.scale,r/=e.scale,o={component:o.component,x:l,y:r,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.$refs["bpmn-vue"].addComponenet(o)}a.removeData("DRAG_SHAPE")}}))},copy:function(){var e=this;e.copyActivity=[],e.copySquenceFlow=[],this.definition.childActivities[1].forEach(function(t){t&&t._selected&&(e.copyActivity.push(t),e.beforeTracing=e.copyActivity.map(function(e){var t=e.tracingTag;return t}))}),e.copyActivity.length>0?e.$root.$children[0].success("Copied."):e.$root.$children[0].success("Not Selected")},deleteActivity:function(){for(var e=this,t=[],n=e.$children[0].$children[1].$children[3],a=!1,i=0;i<n.$children[0].$children.length;i++)1==n.$children[0].$children[i].drawer&&(a=!0);if(0==a){for(var o=0;o<e.definition.childActivities[1].length;o++)null!=e.definition.childActivities[1][o]&&1==e.definition.childActivities[1][o]._selected&&(t.push(e.definition.childActivities[1][o].tracingTag),e.definition.childActivities[1][o]=null);for(var l=0;l<e.definition.sequenceFlows.length;l++)if(e.definition.sequenceFlows[l])for(var r=0;r<t.length;r++)if(e.definition.sequenceFlows[l].sourceRef==t[r])for(var s=0;s<t.length;s++)e.definition.sequenceFlows[l].targetRef==t[s]&&(e.definition.sequenceFlows[l]=null);for(s=0;s<e.definition.sequenceFlows.length;s++)null!=e.definition.sequenceFlows[s]&&1==e.definition.sequenceFlows[s].selected&&(e.definition.sequenceFlows[s]=null);for(r=0;r<e.definition.messageFlows.length;r++)null!=e.definition.messageFlows[r]&&1==e.definition.messageFlows[r].selected&&(e.definition.messageFlows[r]=null)}var c=e.definition.sequenceFlows;e.definition.sequenceFlows=null,e.definition.sequenceFlows=c},paste:function(){for(var e=this,t=e.$refs["bpmn-vue"],n=!1,a=0;a<t.$children[0].$children.length;a++)1==t.$children[0].$children[a].drawer&&(n=!0);0==n&&(e.afterTracing=[],e.copyActivity.forEach(function(n){var a=JSON.parse(JSON.stringify(n)),i=parseInt(n.elementView.x+20),o=parseInt(n.elementView.y+20);a.tracingTag=t.createNewTracingTag(e.definition),a._selected=!1,a.elementView.x=i,a.elementView.y=o,a.elementView.id=a.tracingTag,e.afterTracing.push(a.tracingTag),e.definition.childActivities[1].push(a)}),e.definition.sequenceFlows.forEach(function(t,n,a){if(t)for(var i=JSON.parse(JSON.stringify(t)),o=0;o<e.beforeTracing.length;o++)if(i.sourceRef==e.beforeTracing[o])for(var l=0;l<e.beforeTracing.length;l++)i.targetRef==e.beforeTracing[l]&&(i.sourceRef=e.afterTracing[o],i.targetRef=e.afterTracing[l],i.relationView.value="",e.definition.sequenceFlows.push(i))}))},undo:function(){this.$refs["bpmn-vue"].undo()},redo:function(){this.$refs["bpmn-vue"].redo()},setMode:function(){var e=this;e.loaded=!1,e.definition=null,e.$nextTick(function(){e.monitor?e.getInstance():e.getDefinition()})},getInstance:function(){var e=this,t={};e.backend.$bind("instance/"+e.instanceId,t),t.$load().then(function(t){e.instanceName=t.name,t.definition.$load().then(function(t){e.definitionName=t.name,t.raw.$load().then(function(t){var n=t.definition;e.loadStatus(n),e.treeStructure()})})})},loadVersions:function(){var e=this,t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(t){e.productionVersionId=t.prodVerId,t.versions&&t.versions.$load().then(function(t){t&&t.length>0&&(e.versions=t,e.selectedVersion=t[t.length-1])})})},changeVersion:function(){window.open("#/definition/"+this.id+"@"+this.selectedVersion.versionId,"_blank")},markProduction:function(){var e=this,t={};e.backend.$bind("version/"+e.id.substring(e.id.indexOf("@")+1),t),t.$load().then(function(){t.makeProduction.$create().then(function(){e.$root.$children[0].success("설정되었습니다."),e.isProduction=!0},function(){e.$root.$children[0].error("저장할 수 없습니다.")})})},treeStructure:function(){var e=this,t={};e.backend.$bind("instances/search/findChild?instId="+e.rootInstanceId,t);var n=[];t.$load().then(function(t){for(var a in t)if(t[a]instanceof Object){var i=t[a].$bind.self,o=i.substring(i.lastIndexOf("/")+1,i.length);n[a]={name:t[a].defName,id:parseInt(o),rootInstId:t[a].rootInstId,mainInstId:t[a].mainInstId,children:[]}}e.trees=e.listToTree(n,e.rootInstanceId)})},listToTree:function(e,t){var n=[],a=JSON.parse(JSON.stringify(e)),i=function(n){var o=n.id;e.forEach(function(e,l){e.id!=o&&e.id!=t&&e.mainInstId==o&&(n.children.push(a[l]),i(a[l]))})};return e.forEach(function(e,o){e.id==t&&(n.push(a[o]),i(a[o]))}),n},loadStatus:function(e){var t=this;t.$root.codi("instance{/id}/variables").get({id:t.instanceId}).then(function(n){for(var a in n.data){var i=a.split(":");if(i&&i.length>1){var o=i[0],l=i[1],r=t.getActivity(o,e);r&&(r._instanceInfo||(r._instanceInfo={}),r._instanceInfo[l]=n.data[a],"_status"==l&&(r.status=n.data[a]))}}t.definition=e})},getActivity:function(e,t){var n=this;for(var a in t||(t=n.definition),t.childActivities[1])if(t.childActivities[1][a]["tracingTag"]==e)return t.childActivities[1][a]},updateElementStatus:function(e,t){},getDefinition:function(){var e=this,t=JSON.parse(JSON.stringify(e.value));t._selectedLocale="ko",t._changedByLocaleSelector=!1,e.definition=t,e.definitionName=e.definition.name.text,e.changeLocale(),this.loadVersions()},save:function(e){var t=this,n=JSON.parse(JSON.stringify(t.definition));if(t.definitionName||(t.definitionName=prompt("Specify definition name"),t.definitionName)){t.id||(t.id=t.definitionName),n.name.text=t.definitionName;var a=function(e){return e.filter(function(e){return!!e})};n.roles=a(n.roles);var i=function(e){e&&(e.sequenceFlows&&e.sequenceFlows.length&&(e.sequenceFlows=a(e.sequenceFlows)),e.messageFlows&&e.messageFlows.length&&(e.messageFlows=a(e.messageFlows)),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&(e.childActivities[1]=a(e.childActivities[1]),$.each(e.childActivities[1],function(e,n){"org.uengine.kernel.HumanActivity"==n._type&&(n.role.name=t.$refs["bpmn-vue"].getWhereRoleAmIByTracingTag(n.tracingTag)),i(n)})))};i(n,null),n.shortDescription=this.$refs["bpmn-vue"].defintionSettings.shortDescription;var o={};t.backend.$bind("definition/raw/"+t.id+".json",o),o.definition=n,o.$save().then(function(n){t.$root.$children[0].success("저장되었습니다."),t.loadVersions(),e&&"function"===typeof e&&e(n)},function(e){t.$root.$children[0].error("저장할 수 없습니다.")}),t.$refs["modeler-image-generator"].save(t.id,t.$refs["bpmn-vue"].canvas)}},initiateProcess:function(){var e=this;this.save(function(){var t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(e){e.instantiation.$create(null,{simulation:!0}).then(function(e){window.open("#/instance/"+e.instanceId+"/"+e.instanceId,"_blank")})})})},openInstanceVariables(e){this.$refs["instanceVariables"].openInstanceVariables()},openUserPicker(e){this.$refs["userPicker"].openUserPicker()},openMenu(e){var t=this;t.monitor&&t.instanceOpenMenu(e)},instanceOpenMenu(e){e.preventDefault();var t=this,n=t.definition.childActivities[1],a="",i="";for(var o in n)n[o].tracingTag==e.toElement.parentNode.id&&(a=n[o]._type,i=n[o].status,t.bthTracingTag=n[o].tracingTag,n[o].faultMessage&&n[o]._faultMessage);a=a.substring(a.lastIndexOf(".")+1,a.length),"Task"!=a&&"SendTask"!=a&&"ReceiveTask"!=a&&"UserTask"!=a&&"ManualTask"!=a&&"BusinessTask"!=a&&"ServiceTask"!=a&&"ScriptTask"!=a&&"HumanActivity"!=a&&"DefaultActivity"!=a||"Completed"==i&&$(".custom-menu").finish().show(0).css({top:e.offsetY+"px",left:e.offsetX+"px"})},closeMenu(){!$(event.target).parents(".custom-menu").length>0&&$(".custom-menu").hide(0)},onBackToHere(){var e=this,t="instance/"+e.instanceId+"/activity/"+e.bthTracingTag+"/backToHere",n={};e.backend.$bind(t,n),n.$create().then(function(){e.$root.$children[0].success("작업 내역을 선택한 위치로 되돌렸습니다."),setInterval(function(){e.$router.go(e.$router.currentRoute)},1500)})},changeLocale(){var e=this;e.definition._changedByLocaleSelector=!0,e.definition.childActivities&&e.definition.childActivities[1].forEach(function(t){t&&t.name&&t.name.localedTexts&&t.name.localedTexts[e.definition._selectedLocale]&&(t.name.text=t.name.localedTexts[e.definition._selectedLocale])})}}},H=J,K=(n("cece"),Object(d["a"])(H,F,G,!1,null,"44460452",null)),W=K.exports,z=n("72ea"),q=n("2382"),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"image-gen",staticStyle:{display:"none"}})},X=[],Z={data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){},methods:{load:function(e){return localStorage["svg-"+e]},save:function(e,t){var n=this;if(t){var a=t._RENDERER.getRootElement(),i=(new XMLSerializer).serializeToString(a);return new Promise(function(e,t){var a=n.$refs["image-gen"];o(a,i,function(){e(a.toDataURL())})})}function o(e,t,n){var a=e.getContext("2d"),i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),o=self.URL||self.webkitURL||self,l=o.createObjectURL(i),r=new Image;r.onload=function(){e.width=2e3,e.height=1e3;try{return a.drawImage(r,0,0,2e3,1e3,0,0,2e3,1e3),o.revokeObjectURL(l),n(this),$(r).remove(),e.toDataURL()}catch(t){$(r).remove()}},r.src=l}}}},Q=Z,ee=Object(d["a"])(Q,Y,X,!1,null,null,null),te=ee.exports,ne=n("dcd5"),ae=n("9ee1");a["a"].use(i["a"]),a["a"].component("modeler-router",U),a["a"].component("modeler-image-generator",te),a["a"].component("process-designer",W),a["a"].component("event-modeler",z["default"]),a["a"].component("class-modeler",q["default"]),a["a"].component("view-modeler",ne["a"]),a["a"].component("view-modeling-designer",ae["default"]);t["a"]=new i["a"]({base:"/",routes:[{path:"/",name:"EventStormingListPage",component:V},{path:"/storming/:userUid/:projectId/:projectVersion/:type",name:"EventStormingCanvas",component:z["default"]}]})},"428b":function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n| fileName: {{namePascalCase}}Repository.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},"446f":function(e,t,n){var a={"./ClassModeler.vue":"2382","./EventModeler.vue":"72ea","./UMLelements/classDefinition.vue":"884a","./elements/Actor.vue":"e8e5","./elements/AggregateDefinition.vue":"57a6","./elements/BoundedContext.vue":"1150","./elements/ClassDefinition.vue":"62f8","./elements/ClassRelation.vue":"9241","./elements/CommandDefinition.vue":"6e2d","./elements/DomainEventDefinition.vue":"84db","./elements/ExternalDefinition.vue":"cc89","./elements/PolicyDefinition.vue":"8a68","./elements/ViewDefinition.vue":"2b3a"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="446f"},5:function(e,t){},5061:function(e,t,n){},"50c8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-ellipse",props:{center:{default:function(){return[10,10]},type:Array},radiusX:{default:function(){return 10},type:Number},radiusY:{default:function(){return 5},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Ellipse(this.center,this.radiusX,this.radiusY,this.angle),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"fb6c0026",null);t["default"]=c.exports},"51e1":function(e,t){throw new Error("Module parse failed: Assigning to rvalue (3:2)\nYou may need an appropriate loader to handle this file type.\n| server:\n|   port: 8080\n> ---\n| spring:\n|   profiles: default")},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2b0e"),_plugins_vuetify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("402c"),vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bf40"),vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2__),_App_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3dfd"),_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("41cb"),_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c0d6"),_registerServiceWorker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ddb8"),vuejs_jwt__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("c051"),vuejs_jwt__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(vuejs_jwt__WEBPACK_IMPORTED_MODULE_7__),vue_js_modal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("1881"),vue_js_modal__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(vue_js_modal__WEBPACK_IMPORTED_MODULE_8__),_components_edityamlpage_vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d371"),_components_yaml_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6eb3"),_components_opengraph__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("66eb"),_components_designer_class_modeling__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("d4b0"),_components_designer_modeling__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("82a6"),_components_oauth_Login_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("332a"),mustache__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("9dbb0"),mustache__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(mustache__WEBPACK_IMPORTED_MODULE_15__),firebase_app__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("59ca"),firebase_app__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_16__),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("6c39"),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_17__),trackjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("376c"),vue_codemirror__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("8f94"),vue_codemirror__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(vue_codemirror__WEBPACK_IMPORTED_MODULE_19__),vue_youtube_embed__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("f6dd"),_components_EventStormingList_ViewEventStormingVersionPage__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("dcd5"),vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("bd62"),vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_22__),vue_simple_context_menu__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("2560"),vue_webrtc__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("6293"),vue_webrtc__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(vue_webrtc__WEBPACK_IMPORTED_MODULE_24__),_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("bc23"),_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_25__),_components_designer_view_modeling_ViewCreate__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("7cf0"),_components_designer_view_modeling_ViewUpdate__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("dd10"),_components_designer_view_modeling_ViewDelete__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("fbc9"),_components_designer_modeling_ModelingPropertyPanel__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("1c71");vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("vue-simple-context-menu",vue_simple_context_menu__WEBPACK_IMPORTED_MODULE_23__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_17___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_25__),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(mustache__WEBPACK_IMPORTED_MODULE_15___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_codemirror__WEBPACK_IMPORTED_MODULE_19___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_opengraph__WEBPACK_IMPORTED_MODULE_11__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_class_modeling__WEBPACK_IMPORTED_MODULE_12__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_modeling__WEBPACK_IMPORTED_MODULE_13__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_js_modal__WEBPACK_IMPORTED_MODULE_8___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component(vue_webrtc__WEBPACK_IMPORTED_MODULE_24__["WebRTC"].name,vue_webrtc__WEBPACK_IMPORTED_MODULE_24__["WebRTC"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("EditYaml",_components_edityamlpage_vue__WEBPACK_IMPORTED_MODULE_9__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("text-reader",_components_yaml_vue__WEBPACK_IMPORTED_MODULE_10__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("Login",_components_oauth_Login_vue__WEBPACK_IMPORTED_MODULE_14__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewEventStormingVersionPage",_components_EventStormingList_ViewEventStormingVersionPage__WEBPACK_IMPORTED_MODULE_21__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewCreate",_components_designer_view_modeling_ViewCreate__WEBPACK_IMPORTED_MODULE_26__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewUpdate",_components_designer_view_modeling_ViewUpdate__WEBPACK_IMPORTED_MODULE_27__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewDelete",_components_designer_view_modeling_ViewDelete__WEBPACK_IMPORTED_MODULE_28__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ModelingPropertyPanel",_components_designer_modeling_ModelingPropertyPanel__WEBPACK_IMPORTED_MODULE_29__["default"]);var options={keyName:"accessToken"};vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuejs_jwt__WEBPACK_IMPORTED_MODULE_7___default.a,options),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_youtube_embed__WEBPACK_IMPORTED_MODULE_20__["a"],{global:!0,componentId:"youtube-media"}),Object({NODE_ENV:"production",VUE_APP_API_HOST:"http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",VUE_APP_TRANSLATE_KEY:"AIzaSyB2_MiQOuI2clNuy0QP3yktUXxbfiVAaUk",VUE_APP_FILE_PATH:"../public/static/templates/",BASE_URL:"/"}).NODE_TLS_REJECT_UNAUTHORIZED="0",vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$EventBus=new vue__WEBPACK_IMPORTED_MODULE_0__["a"],vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$ModelingBus=new vue__WEBPACK_IMPORTED_MODULE_0__["a"],window.$Mustache=mustache__WEBPACK_IMPORTED_MODULE_15___default.a;let config={apiKey:"AIzaSyBamzK_XrEiPw2cDJC60jvGvD1mFH51BYw",authDomain:"eventstorming-tool-db.firebaseapp.com",databaseURL:"https://eventstorming-tool-db.firebaseio.com/",projectId:"eventstorming-tool-db",storageBucket:"gs://eventstorming-tool-db.appspot.com",messagingSenderId:"779007656524",appId:"1:779007656524:web:dca1266cda32bf61c3aae9",measurementId:"G-1SBM63TNCV"};firebase_app__WEBPACK_IMPORTED_MODULE_16___default.a.initializeApp(config),window.API_HOST="http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",window.vueFilePath="../public/static/templates/";const templateFiles=__webpack_require__("3b22");var tempRootPathList=[];templateFiles.keys().forEach(function(e){var t=e.replace("./","").split("/");tempRootPathList.push(t[0])}),tempRootPathList.push("GIT");var tempRootPath=new Set(tempRootPathList),rootPathList=Array.from(tempRootPath);vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$manifestsPerTemplate={},rootPathList.forEach(function(item){eval('Vue.prototype.$manifestsPerTemplate["'+item+'"] = []')}),templateFiles.keys().forEach(function(tempFiles){var tempFileStructure=tempFiles.replace("./","").split("/"),rootName=tempFileStructure[0],tmp;eval('tmp= tempFiles.replace("'+rootName+'/","")'),eval('Vue.prototype.$manifestsPerTemplate["'+rootName+'"].push(tmp)')}),vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$innerWidth=window.innerWidth,vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$innerHeight=window.innerHeight,vue__WEBPACK_IMPORTED_MODULE_0__["a"].config.productionTip=!1,new vue__WEBPACK_IMPORTED_MODULE_0__["a"]({router:_router__WEBPACK_IMPORTED_MODULE_4__["a"],store:_store__WEBPACK_IMPORTED_MODULE_5__["a"],vuetify:_plugins_vuetify__WEBPACK_IMPORTED_MODULE_1__["a"],WebRTC:vue_webrtc__WEBPACK_IMPORTED_MODULE_24__["WebRTC"],render:function(e){return e(_App_vue__WEBPACK_IMPORTED_MODULE_3__["a"])}}).$mount("#app")},"57a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Aggregate >>"}}),0===Object.keys(e.value.boundedContext).length&&JSON.stringify(e.value.boundedContext)===JSON.stringify({})||e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Aggregate",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/aggregate.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l={mixins:[o["default"]],name:"aggregate-definition",props:{},computed:{namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Aggregate"},createNew(e,t,n,a,i){return{description_text:"비즈니스 로직 처리의 도메인 객체 덩어리\n(서로 연결된 하나 이상의 엔터티 및 value objects의 집합체)",_type:this.className(),name:"",namePlural:"",namePascalCase:"",nameCamelCase:"",alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},boundedContext:{},aggregateRoot:{_type:"org.uengine.modeling.model.AggregateRoot",fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}]},events:[],commands:[]}},computedElement(){return _.cloneDeep(this.value.aggregateRoot.fieldDescriptors)}},data:function(){return{itemH:200,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.name":function(e,t){this.namePanel=e},"value.boundedContext":{deep:!0,handler:function(){this.checkValue=!0}},openPanel:function(e){var t=this;0==e&&(t.$nextTick(function(){var e={state:"updateAggregate",element:JSON.parse(JSON.stringify(t.value))};null!=t.value.boundedContext.id&&t.$EventBus.$emit(t.value.boundedContext.id,e),t.value.events.length>0&&t.value.events.forEach(function(n){t.$EventBus.$emit(`${n.elementView.id}`,e)}),t.value.commands.length>0&&t.value.commands.forEach(function(n){t.$EventBus.$emit(`${n.elementView.id}`,e)})}),t.checkValue=!1)}},mounted:function(){var e=this;e=this;this.$nextTick(function(){this.namePanel=e.value.name}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if(t.state.includes("Bounded")){if("updateBounded"==t.state){e.value.boundedContext.name=t.element.name,e.value.boundedContext.id=t.element.elementView.id,e.value.events.length>0&&e.value.events.forEach(function(e){e.boundedContext.name=t.element.name,e.boundedContext.id=t.element.elementView.id}),e.value.commands.length>0&&e.value.commands.forEach(function(e){e.boundedContext.name=t.element.name,e.boundedContext.id=t.element.elementView.id});var n={state:"updateAggregate",element:JSON.parse(JSON.stringify(e.value))};e.$EventBus.$emit(e.value.boundedContext.id,n)}}else e.managedAgg(t).then(function(t){if(null!=e.value.boundedContext&&null!=e.value.boundedContext.id){var n={state:"updateAggregate",element:JSON.parse(JSON.stringify(e.value))};e.$EventBus.$emit(e.value.boundedContext.id,n)}})})},methods:{difference(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},managedAgg(e){var t=this;return new Promise(function(n){"deleteEvent"==e.state&&t.value.events.some(function(a,i){a.elementView.id==e.element.elementView.id&&(console.log(t.value.events[i]),t.value.events[i]=null,t.value.events=t.value.events.filter(e=>e),n())}),"addEvent"==e.state&&(t.value.events.push(e.element),n()),"updateEvent"==e.state&&t.value.events.some(function(a,i){a.elementView.id==e.element.elementView.id&&(t.value.events[i]=e.element,n())}),"deleteCommand"==e.state&&t.value.commands.some(function(a,i){a.elementView.id==e.element.elementView.id&&(t.value.commands[i]=null,t.value.commands=t.value.commands.filter(e=>e),n())}),"addCommand"==e.state&&(t.value.commands.push(e.element),n()),"updateCommand"==e.state&&t.value.commands.some(function(a,i){a.elementView.id==e.element.elementView.id&&(t.value.commands[i]=e.element,n())}),n()})},deleteAggregate(){var e=this;return new Promise(function(t){var n={state:"deleteAggregate",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.boundedContext.id&&e.$EventBus.$emit(`${e.value.boundedContext.id}`,n),e.value.events.length>0&&e.value.events.forEach(function(t){e.$EventBus.$emit(`${t.elementView.id}`,n)}),e.value.commands.length>0&&e.value.commands.forEach(function(t){e.$EventBus.$emit(`${t.elementView.id}`,n)}),e.$EventBus.$off(`${e.value.elementView.id}`),e.$emit("update:value",null),t()})}},beforeDestroy(){}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"26d02f20",null);t["default"]=c.exports},6:function(e,t){},6034:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"geometry-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e,t=this;if($.isEmptyObject(t.geometrys))return null;{e=new OG.shape.GeomShape;let n=Object.keys(t.geometrys);e.label=t.label,e.SHAPE_ID=t.shapdId,n.length<2?e.createShape=function(){return this.geom?this.geom:(this.geom=t.geometrys[n[0]].createGeometry(),this.geom)}:e.createShape=function(){if(this.geom)return this.geom;var e=[];for(var n in t.geometrys)e.push(t.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(e),this.geom}}return e}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"0a379a78",null);t["default"]=c.exports},"62f8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,height:e.titleH+(e.value.fieldDescriptors?e.value.fieldDescriptors.length*e.itemH:0)},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,fill:"#FFFFFF","fill-opacity":0,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH/2,"sub-top":0,"sub-left":0,"sub-style":{"font-weight":"bold"},text:e.value.classReference?e.value.classReference:e.value.name}}),n("edge-element",{attrs:{vertices:[[0,e.titleH-(e.value.classReference?10:0)],["100%",e.titleH-(e.value.classReference?10:0)]],label:"","sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.titleH+a*e.itemH,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.type}}):e._e()})],2)],1),n("modeling-property-panel",{attrs:{titleName:"Event",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),l=(n("9dbb0"),{mixins:[o["default"]],name:"class-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Class"},className(){return"org.uengine.uml.model.ClassDefinition"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Class",fieldDescriptors:[{type:"Long",name:"id",namePascalCase:"Id",id:!0}],elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",editing:!1,code:"",eventToPolicy:"",boundedContext:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){this.value.fieldDescriptors&&this.value.fieldDescriptors.forEach(function(e){e.attributes||(e.attributes={})})},watch:{referenceClassName:function(){this.updateClassInfo()},"value.fieldDescriptors":function(e){this.value.fieldDescriptors=e}},mounted:function(){},methods:{removeAttribute:function(e){this.value.fieldDescriptors.splice(this.value.fieldDescriptors.indexOf(e),1)},updateClassInfo:function(){if(this.reference){var e,t=this.referenceClassName.split("#"),n=t[0],a=t[1],i=this,o=encodeURI(window.backend.$bind.ref+"/definition/raw/"+n+".ClassDiagram.json"),l=new XMLHttpRequest;i=this;l.open("GET",o,!1),l.setRequestHeader("access_token",localStorage["access_token"]),l.onload=function(){e=JSON.parse(l.responseText);var t=e.definition;for(var n in t.classDefinitions[1]){var o=t.classDefinitions[1][n];if(o.name==a){o.elementView.x=i.value.elementView.x,o.elementView.y=i.value.elementView.y,o.classReference=i.referenceClassName,i.value=o;break}}},l.send()}}}}),r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"6f5b03f0",null);t["default"]=c.exports},"658f":function(e,t,n){},"66eb":function(e,t,n){"use strict";const a={install(e,t={}){const a=n("aae7"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),i)e.component(i[o].default.name,i[o].default);e.OGComponents=i,e.OGBus=new e,e.OGLiveComponents={},window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},6821:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},"692c":function(e,t,n){},"6e2d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",connectable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5099F7",fill:"#5099F7","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Command >>"}}),0===Object.keys(e.value.aggregate).length&&JSON.stringify(e.value.aggregate)===JSON.stringify({})||e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Command",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/command.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l=n("64ae"),r=n("761a"),s=(n("9dbb0"),{mixins:[o["default"]],name:"command-definition",props:{},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Command"},createNew(e,t,n,a,i){return{description_text:"행동, 결정 등의 값들에 대한 정의\n(UI 혹은 API)",_type:this.className(),name:"",namePlural:"",namePascalCase:"",nameCamelCase:"",aggregate:{},boundedContext:{},alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),"z-index":999},isRestRepository:!1,controllerInfo:{apiPath:"",method:"GET"},restRepositoryInfo:{method:"GET"},relationEventInfo:[],editing:!1}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png"}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.name":function(e,t){this.namePanel=e},"value.boundedContext":function(){this.checkValue=!0},"value.relationEventInfo":{deep:!0,handler:function(){this.checkValue=!0}},"value.aggregate":{deep:!0,handler:function(e,t){var n=this;if(0==Object.keys(e).length);else if(e.id==t.id);else{var a={state:"addCommand",element:JSON.parse(JSON.stringify(n.value))},i={state:"deleteCommand",element:JSON.parse(JSON.stringify(n.value))};null!=t.id&&n.$EventBus.$emit(t.id,i),n.$EventBus.$emit(e.id,a),this.checkValue=!0}}},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){var e={state:"updateCommand",element:JSON.parse(JSON.stringify(t.value))};0!=Object.keys(t.value.aggregate).length&&t.$EventBus.$emit(`${t.value.aggregate.id}`,e),t.value.relationEventInfo.length>0&&t.value.relationEventInfo.forEach(function(n){t.$EventBus.$emit(n.eventValue.elementView.id,e)}),t.checkValue=!1})}},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("updateEvent"==t.state&&(console.log(t),e.value.relationEventInfo.forEach(function(n,a){n.eventValue.elementView.id==t.element.elementView.id&&(e.value.relationEventInfo[a].eventValue=JSON.parse(JSON.stringify(t.element)))})),"deleteAggregate"==t.state)e.value.aggregate={};else if("updateAggregate"==t.state){var n={id:t.element.elementView.id,name:t.element.name,namePlural:t.element.namePlural,namePascalCase:t.element.namePascalCase,nameCamelCase:t.element.nameCamelCase,fieldDescriptors:t.element.aggregateRoot.fieldDescriptors,boundedContext:t.element.boundedContext};e.value.aggregate=n}else if("deleteRelation"==t.state){var a=t.element.relationView.id;e.value.relationEventInfo.some(function(t,n){t.relationId!=a||(e.value.relationEventInfo[n]=null)}),e.value.relationEventInfo=e.value.relationEventInfo.filter(e=>e)}else t.state;e.$nextTick(function(){var t=e.getComponent("modeling-designer");t.editing=!0})})},methods:{setNameCase:function(e){var t=this;t.value.name=e,t.value.namePascalCase=l.pascalCase(e),t.value.nameCamelCase=l.camelCase(e),t.value.namePlural=l.camelCase(r(e))},deleteCommand(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);var n={state:"deleteCommand",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.aggregate.id&&e.$EventBus.$emit(e.value.aggregate.id,n),null!=e.value.boundedContext.id&&e.$EventBus.$emit(e.value.boundedContext.id,n),e.value.relationEventInfo.length>0&&e.value.relationEventInfo.forEach(function(t){null!=t.relationId&&(e.$EventBus.$emit(`${t.relationId}`,n),Object.keys(t.eventValue).length>0&&e.$EventBus.$emit(`${t.eventValue.elementView.id}`,n))}),e.$emit("update:value",null),t()})}}}),c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"234603f0",null);t["default"]=d.exports},"6eb3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-reader",staticStyle:{"max-width":"300px","text-align":"center","margin-left":"10px","margin-top":"16px"}},[n("label",{attrs:{for:"ex_file"}},[e._v("Upload")]),n("input",{attrs:{id:"ex_file",type:"file"},on:{change:e.loadTextFromFile}})])},i=[],o={name:"text-reader",props:{importType:String,plainText:String,fileName:String},components:{},data(){return{single:""}},beforeDestroy:function(){},mounted(){},watch:{},methods:{loadTextFromFile(e){if("yaml"==this.importType){this.$emit("update:plainText","");const t=e.target.files[0],n=new FileReader;this.$emit("update:fileName",t.name),n.onload=(e=>this.$emit("load",e.target.result)),n.readAsText(t)}else if("json"==this.importType){const t=e.target.files[0];this.$emit("update:fileName",t.name.replace(".json",""));const n=new FileReader;n.onload=(e=>this.$emit("load",JSON.parse(e.target.result))),n.readAsText(t)}}}},l=o,r=(n("c9bd"),n("2877")),s=Object(r["a"])(l,a,i,!1,null,"24f0e208",null);t["a"]=s.exports},7:function(e,t){},"700f":function(e,t,n){var a={"./Element.vue":"b815","./ModelingDesigner.vue":"279b","./ModelingPropertyPanel.vue":"1c71","./ModelingRelation.vue":"cacc","./StormingSubController.vue":"d4c4","./UMLDesigner.vue":"a742","./UMLPropertyPanel.vue":"417b","./ViewModelingDesigner.vue":"9ee1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="700f"},7291:function(e,t){throw new Error("Module parse failed: Unexpected character '#' (2:2)\nYou may need an appropriate loader to handle this file type.\n| steps:\n>   ### Test\n|   #  - id: 'test'\n|   #    name: 'gcr.io/cloud-builders/mvn'")},"72ea":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modeling-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"event-designer",props:{},data(){return{value:{},url:"",elementTypes:[{icon:"bpmn-icon-start-event-none",component:"domain-event-definition",label:"Event",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`},{icon:"bpmn-icon-start-event-none",component:"command-definition",label:"Command",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/command.png`},{icon:"bpmn-icon-start-event-none",component:"policy-definition",label:"Policy",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/policy.png`},{icon:"bpmn-icon-start-event-none",component:"aggregate-definition",label:"Aggregate",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/aggregate.png`},{icon:"bpmn-icon-start-event-none",component:"external-definition",label:"External",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/external.png`},{icon:"bpmn-icon-start-event-none",component:"view-definition",label:"View",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/view.png`},{icon:"bpmn-icon-start-event-none",component:"bounded-context-definition",label:"Bounded Context",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/bounded2.png`},{icon:"bpmn-icon-start-actor-none",component:"actor-definition",label:"Actor",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/actor.png`}]}},created:function(){},mounted:function(){},methods:{}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,null,null);t["default"]=s.exports},7312:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-elements",props:{},computed:{opengraphRole:function(){return"sub-elements"}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"41d2dc3a",null);t["default"]=s.exports},"76e0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-beziercurve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.BezierCurve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"17b7b182",null);t["default"]=c.exports},"7a78":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"edge-element",props:{_style:Object},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return e.vertices&&e.vertices.length>1?new OG.shape.EdgeShape(e.vertices[0],e.vertices[e.vertices.length-1],e.label):new OG.shape.EdgeShape(null,null,e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"0b3ddb4e",null);t["default"]=c.exports},"7c87":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-rect",props:{upperLeft:{default:function(){return[0,0]},type:Array},width:{default:function(){return 100},type:Number},height:{default:function(){return 100},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Rectangle(this.upperLeft,this.width,this.height),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"51d5d3c6",null);t["default"]=c.exports},"7cf0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px"}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.createRules.length?n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventList,"item-text":"name","return-object":"",prefix:"CREATE WHEN",dense:""},model:{value:e.createItem.when,callback:function(t){e.$set(e.createItem,"when",t)},expression:"createItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("SET")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.createItem.fieldMapping,function(t,a){return n("tr",[a!=e.createItem.fieldMapping.length-1||e.saveBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.createItem.fieldMapping.length-1||e.saveBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.createItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.createItem.fieldMapping,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"30px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.test()}}},[e.saveBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.createItem.fieldMapping)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewCreate",props:{value:Object,createItem:Object,index:Number},data:function(){return{saveBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.createItem.when).length>0&&-1!=this.eventList.findIndex(e=>e.elementView.id===this.createItem.when.elementView.id)?this.eventList[this.eventList.findIndex(e=>e.elementView.id===this.createItem.when.elementView.id)].fieldDescriptors:[]},eventList:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},created(){},methods:{test(){this.saveBtn?this.saveBtn=!1:this.saveBtn=!0},removeMainRow(e){var t=this;t.value.createRules[e]=null,t.value.createRules=t.value.createRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},l=o,r=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),f=n("132d"),v=n("5d23"),g=n("0fd9"),h=n("1f4f"),_=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=_.exports;c()(_,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:f["a"],VListItemSubtitle:v["b"],VRow:g["a"],VSimpleTable:h["a"]})},"7de3":function(e,t,n){"use strict";var a=n("658f"),i=n.n(a);i.a},"7e07":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-point",props:{coordinate:{default:function(){return[20,5]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Point(this.coordinate),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"9fbe743c",null);t["default"]=c.exports},8:function(e,t){},"805d":function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},"809c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"circle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.CircleShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"3e947b43",null);t["default"]=c.exports},"82a6":function(e,t,n){"use strict";const a={install(e,t={}){const a=n("700f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default);e.modelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},"84db":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F1A746",fill:"#F1A746","fill-opacity":1,r:"1"}}}),n("sub-elements",[0===Object.keys(e.value.aggregate).length||e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e(),n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Event >>"}})],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Event",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l=(n("2ef0"),n("64ae")),r=n("761a"),s=(n("9dbb0"),{mixins:[o["default"]],name:"domain-event-definition",props:{},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Event"},createNew(e,t,n,a,i,o){return{description_text:"도메인 전문가가 정의함. \n이벤트 퍼블리싱",_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",aggregate:{},boundedContext:{},fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}],elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0},alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",checkAlert:!0,relationPolicyInfo:[],relationCommandInfo:[],trigger:"@PrePersist",editing:!1}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.editUserImg})},beforeUpdate(){console.log("updated")},updated:function(){var e=this;console.log("updatsssed"),e.$nextTick(function(){e.editUserImg})},watch:{"value.name":function(e,t){this.namePanel=e},"value.relationPolicyInfo":{deep:!0,handler:function(){this.checkValue=!0}},"value.relationCommandInfo":{deep:!0,handler:function(){this.checkValue=!0}},"value.aggregate":{deep:!0,handler:function(e,t){var n=this;if(0==Object.keys(e).length);else if(e.id==t.id);else{this.checkValue=!0;var a={state:"addEvent",element:JSON.parse(JSON.stringify(n.value))},i={state:"deleteEvent",element:JSON.parse(JSON.stringify(n.value))};null!=t.id&&n.$EventBus.$emit(t.id,i),n.$EventBus.$emit(e.id,a),0==n.value.fieldDescriptors.length&&(n.value.fieldDescriptors=JSON.parse(JSON.stringify(e.fieldDescriptors)))}}},"value.boundedContext":{deep:!0,handler:function(){this.checkValue=!0}},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){var e={state:"updateEvent",element:JSON.parse(JSON.stringify(t.value))};null!=t.value.aggregate.id&&t.$EventBus.$emit(t.value.aggregate.id,e),t.value.relationPolicyInfo.length>0&&t.value.relationPolicyInfo.forEach(function(n){console.log(n),t.$EventBus.$emit(n.policyValue.elementView.id,e)}),void 0!=t.value.relationCommandInfo&&t.value.relationCommandInfo.length>0&&t.value.relationCommandInfo.forEach(function(n){t.$EventBus.$emit(n.commandValue.elementView.id,e)}),t.checkValue=!1})}},mounted:function(){var e=this;e.getComponent("modeling-designer");e.$nextTick(function(){e.editUserImg}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("deleteRelation"==t.state)if("org.uengine.modeling.model.Policy"==t.element.targetElement._type){var n=t.element.targetElement.elementView.id;e.value.relationPolicyInfo.some(function(t,a){t.policyValue.elementView.id!=n||(e.value.relationPolicyInfo[a]=null)}),e.value.relationPolicyInfo=e.value.relationPolicyInfo.filter(e=>e)}else{n=t.element.targetElement.elementView.id;e.value.relationCommandInfo.some(function(t,a){t.commandValue.elementView.id!=n||(e.value.relationCommandInfo[a]=null)}),e.value.relationCommandInfo=e.value.relationCommandInfo.filter(e=>e)}else if("updateAggregate"==t.state)console.log("updateAggregate"),e.value.aggregate.id=t.element.elementView.id,e.value.aggregate.name=t.element.name,e.value.aggregate.namePlural=t.element.namePlural,e.value.aggregate.namePascalCase=t.element.namePascalCase,e.value.aggregate.nameCamelCase=t.element.nameCamelCase,e.value.aggregate.fieldDescriptors=t.element.aggregateRoot.fieldDescriptors;else if("deleteAggregate"==t.state)e.value.aggregate={};else if("updateCommand"==t.state)e.value.relationCommandInfo.some(function(n,a){n.commandValue.elementView.id!=t.element.elementView.id||(e.value.relationCommandInfo[a].commandValue=t.element)});else if("deleteCommand"==t.state){n=t.element.elementView.id;e.value.relationCommandInfo.some(function(t,a){t.commandValue.elementView.id!=n||(e.value.relationCommandInfo[a]=null)}),e.value.relationCommandInfo=e.value.relationCommandInfo.filter(e=>e)}else if("updatePolicy"==t.state)console.log(t),e.value.relationPolicyInfo.some(function(n,a){n.policyValue.elementView.id!=t.element.elementView.id||(e.value.relationPolicyInfo[a].policyValue=t.element)});else if("deletePolicy"==t.state){n=t.element.elementView.id;e.value.relationPolicyInfo.some(function(t,a){t.policyValue.elementView.id!=n||(e.value.relationPolicyInfo[a]=null)}),e.value.relationPolicyInfo=e.value.relationPolicyInfo.filter(e=>e)}else"updateBounded"==t.state&&(console.log(t),e.value.boundedContext.name=t.element.name,e.value.boundedContext.id=t.element.elementView.id);"editUser"==t.state?(e.editUserImg.push(t.picture),e.$nextTick(function(){e.newadd,console.log("edit user Push")})):"closeEditUser"==t.state&&e.editUserImg.splice(e.editUserImg.indexOf(t.picture),1)})},methods:{setNameCase:function(e){var t=this;t.value.name=e,t.value.namePascalCase=l.pascalCase(e),t.value.nameCamelCase=l.camelCase(e),t.value.namePlural=l.camelCase(r(e))},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},deleteEvent(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);var n={state:"deleteEvent",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.aggregate.id&&e.$EventBus.$emit(`${e.value.aggregate.id}`,n),null!=e.value.boundedContext.id&&e.$EventBus.$emit(`${e.value.boundedContext.id}`,n),e.value.relationPolicyInfo.length>0&&e.value.relationPolicyInfo.forEach(function(t){e.$EventBus.$emit(`${t.policyValue.elementView.id}`,n),e.$EventBus.$emit(`${t.relationId}`,n)}),e.$emit("update:value",null),t()})}}}),c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"2372d4b2",null);t["default"]=d.exports},"884a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",connectable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.setHeight,angle:e.value.elementView.angle,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){e.setHeight=t},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,labelChanged:e.onLabelChanged}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#000000","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.itemH+10,"sub-style":{"font-weight":"bold"},text:"Class"}}),n("edge-element",{attrs:{vertices:[[0,e.titleH-(e.value.classReference?10:0)],["100%",e.titleH-(e.value.classReference?10:0)]],"sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.titleH+13*a,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.className}}):e._e()}),n("edge-element",{attrs:{vertices:[[0,e.setHeight/2+10],["100%",e.setHeight/2+10]],"sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.setHeight/1.5+13*a,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.className}}):e._e()})],2)],1),n("uml-property-panel",{attrs:{titleName:"UML-class",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),l={mixins:[o["default"]],name:"uml-class-definition",props:{},computed:{namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.uml.model.Class"},createNew(e,t,n,a,i,o){return{_type:this.className(),name:"Class",namePascalCase:"",fieldDescriptors:[],elementView:{_type:this.className(),id:e,x:t,y:n,width:200,height:150,style:JSON.stringify({}),angle:0},drawer:!1,selected:!1,editing:!1}}},data:function(){return{itemH:10,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,setHeight:100}},created:function(){},watch:{"value.fieldDescriptors":function(){var e=20*this.value.fieldDescriptors.length;this.setHeight=100+e,this.value.elementView.x=this.value.elementView.x+1,this.$nextTick(function(){this.value.elementView.x=this.value.elementView.x-1})}},mounted:function(){},methods:{}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"2cb596d3",null);t["default"]=c.exports},"8a68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#BB94BF",fill:"#BB94BF","fill-opacity":1,r:"1"}}}),n("sub-elements",[null!=e.value.boundedContext.id||e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e(),n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Policy >>"}})],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Policy",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l=n("64ae"),r=n("761a"),s=(n("9dbb0"),{mixins:[o["default"]],name:"policy-definition",props:{},computed:{namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Policy"},createNew(e,t,n,a,i){return{description_text:"업무정책\n이벤트에 대한 반응 (subscribe)\n",_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",aggregate:{},boundedContext:{},alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},editing:!1,relationEventInfo:[]}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png"}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.relationEventInfo":{deep:!0,handler:function(){this.checkValue=!0}},"value.name":function(e,t){this.namePanel=e},"value.boundedContext":{deep:!0,handler:function(e,t){var n=this;if(e.id==t.id);else{this.checkValue=!0;var a={state:"addPolicy",element:n.value},i={state:"deletePolicy",element:n.value};null!=t.id&&n.$EventBus.$emit(t.id,i),void 0!=e.id&&n.$EventBus.$emit(e.id,a)}}},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){t.setNameCase(t.namePanel);var e={state:"updatePolicy",element:JSON.parse(JSON.stringify(t.value))};null!=t.value.boundedContext.id&&t.$EventBus.$emit(`${t.value.boundedContext.id}`,e),t.value.relationEventInfo.length>0&&t.value.relationEventInfo.forEach(function(n){t.$EventBus.$emit(n.eventValue.elementView.id,e)}),this.checkValue=!1})}},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("addRelation"==t.state)null!=e.value.boundedContext.id&&e.$EventBus.$emit(e.value.boundedContext.id,{state:"updatePolicy",element:e.value});else if("deleteRelation"==t.state){var n=t.element.sourceElement.elementView.id;e.value.relationEventInfo.some(function(t,a){t.relationId!=n||(e.value.relationEventInfo[a]=null)}),e.value.relationEventInfo=e.value.relationEventInfo.filter(e=>e),null!=e.value.boundedContext.id&&e.$EventBus.$emit(e.value.boundedContext.id,{state:"updatePolicy",element:e.value})}if("updateEvent"==t.state)console.log(t),e.value.relationEventInfo.forEach(function(n,a){n.eventValue.elementView.id==t.element.elementView.id&&(e.value.relationEventInfo[a].eventValue=JSON.parse(JSON.stringify(t.element)))}),null!=e.value.boundedContext.id&&e.$EventBus.$emit(e.value.boundedContext.id,{state:"updatePolicy",element:e.value});else if("deleteEvent"==t.state){n=t.element.elementView.id;e.value.relationEventInfo.some(function(t,a){t.eventValue.elementView.id!=n||(e.value.relationEventInfo[a]=null)}),e.value.relationEventInfo=e.value.relationEventInfo.filter(e=>e)}else if("updateBounded"==t.state){console.log("no selected"),e.value.selected=!1,e.value.boundedContext.name=t.element.name,e.value.boundedContext.id=t.element.elementView.id;var a={state:"updatePolicy",element:e.value};e.$EventBus.$emit(t.element.elementView.id,a)}})},methods:{setNameCase:function(e){var t=this;t.value.name=e,t.value.namePascalCase=l.pascalCase(e),t.value.nameCamelCase=l.camelCase(e),t.value.namePlural=l.camelCase(r(e))},deletePolicy(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);var n={state:"deletePolicy",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.boundedContext.id&&e.$EventBus.$emit(`${e.value.boundedContext.id}`,n),e.value.relationEventInfo.length>0&&e.value.relationEventInfo.forEach(function(t){e.$EventBus.$emit(`${t.eventValue.elementView.id}`,n),e.$EventBus.$emit(`${t.relationId}`,n)}),e.$emit("update:value",null),t()})}}}),c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"67459d76",null);t["default"]=d.exports},"8e15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"group-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=new OG.shape.GroupShape;if(t.label=e.label,t.SHAPE_ID=e.shapdId,!$.isEmptyObject(e.geometrys)){let n=Object.keys(e.geometrys);n.length<2?t.createShape=function(){return this.geom?this.geom:(this.geom=e.geometrys[n[0]].createGeometry(),this.geom)}:t.createShape=function(){if(this.geom)return this.geom;var t=[];for(var n in e.geometrys)t.push(e.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(t),this.geom}}return t}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"673653ce",null);t["default"]=c.exports},"910c":function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}/config/kafka\n| ---\n| package {{options.package}}.config.kafka;")},9241:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["org.uengine.modeling.model.Event"==e.value.sourceElement._type&&"org.uengine.modeling.model.Event"!=e.value.targetElement._type?n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",vertices:e.vertices,from:e.value.from,to:e.value.to,_style:e.style_,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value,"from",t)},"update:to":function(t){return e.$set(e.value,"to",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,removeShape:function(t){return e.onRemoveShape(e.value)}}}):e._e()],1)},i=[],o=n("b815"),l=n("417b"),r={components:{UmlPropertyPanel:l["default"]},mixins:[o["default"]],name:"class-relation",props:{value:Object},created:function(){this.value&&this.value.relationView&&(this.value.from=this.value.relationView.from,this.value.to=this.value.relationView.to)},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Relation"},style_(){var e={};return"org.uengine.modeling.model.Policy"==this.value.targetElement._type?e={"arrow-end":"block","stroke-width":"1.3","stroke-dasharray":"- ","font-size":20}:"org.uengine.modeling.model.Command"==this.value.targetElement._type&&(e={"arrow-end":"block","font-size":20}),e},createNew(e,t,n,a){return{_type:this.className(),name:"",sourceElement:t,targetElement:n,from:t.elementView.id,to:n.elementView.id,relationView:{id:e,style:JSON.stringify({"arrow-start":"none","arrow-end":"none"}),value:a,from:t.elementView.id,to:n.elementView.id,needReconnect:!0},sourceMultiplicity:1,targetMultiplicity:1}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{}},watch:{},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.relationView.id}`,function(t){"deleteEvent"==t.state&&e.deleteRelation(),"deletePolicy"==t.state&&e.deleteRelation(),"deleteCommand"==t.state&&e.deleteRelation(),"deleteRelation"==t.state&&e.deleteRelation()});var t={state:"addRelation",element:JSON.parse(JSON.stringify(e.value))};e.$EventBus.$emit(e.value.sourceElement.elementView.id,t),e.$EventBus.$emit(e.value.targetElement.elementView.id,t)},methods:{deleteRelation(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.relationView.id}`);var n={state:"deleteRelation",element:e.value};e.value.from&&e.$EventBus.$emit(e.value.from,n),e.value.to&&e.$EventBus.$emit(e.value.to,n),e.$emit("update:value",null),t()})}}},s=r,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,"fc148544",null);t["default"]=u.exports},9484:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"html-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HtmlShape(e.html,e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"1b013ddf",null);t["default"]=c.exports},"967c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"svg-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=$("<div>").append($(e.$el).find("svg").clone()).html();return new OG.shape.SvgShape(t,e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"593c910d",null);t["default"]=c.exports},"9ea8":function(e,t,n){"use strict";var a=n("da11"),i=n.n(a);i.a},"9ee1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!1,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!1,resizable:!0,selectable:!0,deleteable:!1,connectable:!1,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",attrs:{value:e.value.definition[a]},on:{"update:value":function(t){return e.$set(e.value.definition,a,t)}}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",attrs:{value:e.value.relation[a]},on:{"update:value":function(t){return e.$set(e.value.relation,a,t)}}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-spacer"),n("v-spacer"),n("v-spacer"),n("v-spacer"),n("v-row",{staticStyle:{"margin-top":"10px","margin-right":"5px",width:"30%"},attrs:{justify:"end",align:"start"}},[n("v-text-field",{attrs:{width:300,disabled:"",label:"Project Name"},on:{click:e.unselectedAll},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1)])],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),l=n("ac57"),r=n("21a6"),s=n("94ed"),c=(n("2ef0"),n("761a"),n("df7c"),{name:"view-modeling-designer",components:{TextReader:o["a"],saveAs:r["saveAs"],CodeViewer:l["a"],mdiAbTesting:s["a"]},props:{versionValue:Object},data(){return{isShare:!1,onlineSaveDialog:!1,isLoadVersion:!1,author:"",serverComment:"",serverDate:"",editing:!0,canvas:null,dragPageMovable:!1,value:{definition:[],relation:[]},projectName:"",generateZipDialog:!1,undoRedoStorage:5,undoRedoArray:[],undoRedoIndex:0,undoRedoLastIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",model:[],fullPathList:[],treeList:[],getCodeList:[],openCode:[],template:"",treeOpen:!0,gitUrl:"",gitPath:[],gitCode:[],checkName:!0}},beforeDestroy:function(){this.canvas.removeSlider()},computed:{id:{get:function(){return this.projectName}}},created:function(){var e=this;this.$nextTick(function(){e.versionValue&&(e.value=JSON.parse(e.versionValue))})},mounted(){var e=this;this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.opengraph.printTimer(t,(new Date).getTime()),this.$route.params.projectName&&this.$route.params.author&&(e.projectName=this.$route.params.projectName,null==window.localStorage.getItem("author")?e.author=this.$route.params.author:e.author=window.localStorage.getItem("author"))})},watch:{},methods:{loadParser:function(e){var t=this;e.relation||(e.relation=[]),e.definition||(e.definition=[]),t.value=e,t.value.relation.forEach(function(e,n){t.value.definition.forEach(function(t,n){t.elementView.id==e.sourceElement.elementView.id&&(e.sourceElement=t),t.elementView.id==e.targetElement.elementView.id&&(e.targetElement=t)})}),t.value.definition.forEach(function(e,n){"org.uengine.modeling.model.BoundedContext"==e._type&&e.aggregates.forEach(function(n,a){t.value.definition.forEach(function(t){n.elementView.id==t.elementView.id&&(e.aggregates[a]=t)})})}),t.value.definition.forEach(function(e,n){"org.uengine.modeling.model.Aggregate"==e._type&&(e.events.length>0&&e.events.forEach(function(n,a){t.value.definition.some(function(t){n.elementView.id==t.elementView.id&&(e.events[a]=t)})}),e.commands.length>0&&e.commands.forEach(function(n,a){t.value.definition.some(function(t){n.elementView.id==t.elementView.id&&(e.commands[a]=t)})}),e.policies.length>0&&e.policies.forEach(function(n,a){t.value.definition.some(function(t){n.elementView.id==t.elementView.id&&(e.policies[a]=t)})}))})},unselectedAll:function(e){this.value.definition.forEach(function(e){e.selected=!1}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){var n=new Blob([t.data],{type:"application/zip"}),a=e.projectName+".zip";Object(r["saveAs"])(n,a)})},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var l=a.slice(o,o+n),r=new Array(l.length),s=0;s<l.length;s++)r[s]=l.charCodeAt(s);var c=new Uint8Array(r);i.push(c)}var u=new Blob(i,{type:t});return u},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var l=n.pageX-a.offset().left+a[0].scrollLeft,r=n.pageY-a.offset().top+a[0].scrollTop;l/=e.scale,r/=e.scale,o={component:o.component,x:l,y:r,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}}),u=c,d=(n("7de3"),n("2877")),m=n("6544"),p=n.n(m),f=n("b0af"),v=n("a722"),g=n("0fd9"),h=n("2fa4"),_=n("8654"),y=n("3a2f"),b=Object(d["a"])(u,a,i,!1,null,"0329119b",null);t["default"]=b.exports;p()(b,{VCard:f["a"],VLayout:v["a"],VRow:g["a"],VSpacer:h["a"],VTextField:_["a"],VTooltip:y["a"]})},a742:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!0,resizable:!0,selectable:!0,connectable:!0,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.definition[a],callback:function(t){e.$set(e.value.definition,a,t)},expression:"value.definition[index]"}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.relation[a],callback:function(t){e.$set(e.value.relation,a,t)},expression:"value.relation[index]"}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-divider"),n("text-reader",{staticStyle:{display:"inline-block"},attrs:{importType:"json",fileName:e.projectName},on:{load:function(t){e.value=t},"update:fileName":function(t){e.projectName=t},"update:file-name":function(t){e.projectName=t}}}),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px"},attrs:{color:"info"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("SAVE\n            ")])],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}])},[n("span",[e._v(e._s(t.label))])])})],2)],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),l=n("ac57"),r=n("11c1"),s=n("782e"),c=n.n(s),u=n("21a6"),d=n("21a6"),m=n("7c39"),p={name:"uml-designer",components:{TextReader:o["a"],saveAs:u["saveAs"],Pusher:c.a,CodeViewer:l["a"]},props:{elementTypes:Array},data(){return{files:{md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker"},code:"",active:[],canvas:null,dragPageMovable:!1,relationVueComponentName:"modeling-relation",value:{definition:[],relation:[]},items:[],enableHistoryAdd:!1,undoing:!1,undoed:!1,tmpValue:[],projectName:"",noPushUndo:!1,undoRedoArray:[],undoRedoIndex:0,currentIndex:0,undoIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",userId:"",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pusher:{},connectCount:0,connectInfo:[],show:!1,channel:{},members:[],valueTmp:{},pathTmp:[],maxWidth:0,maxHeight:0}},beforeDestroy:function(){this.canvas.removeSlider()},computed:{definitionSet(){return this.inputValue(this.active)},drawer:{get:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(e.value.definition));return n.length>0&&n.some(function(e,n){e.drawer&&(t=!0)}),t}},id:{get:function(){return this.projectName}}},created:function(){},mounted(){var e=this;this.userId=Object(r["v4"])(),e.$ModelingBus.$on("MoveEvent",function(){e.$nextTick(function(){e.undoRedoArray.push(JSON.parse(JSON.stringify(e.value))),e.currentIndex=e.currentIndex+1,e.undoRedoIndex=e.currentIndex,e.value.definition.forEach(function(e){null!=e&&e.selected})})}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,e.undoRedoArray.push({definition:[],relation:[]}),this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?this.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?this.paste():46==t.keyCode||8==t.keyCode?this.deleteActivity():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.redo():e.undo())})})},watch:{open(e){}},methods:{inputValue(e){var t=[e];return t},codeModalShow(){this.$modal.show("code-modal")},umlModalShow(){this.$modal.show("uml-modal")},generateZip(){var e=this;e.codeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var t=new m,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){})}),t.generateAsync({type:"blob"}).then(function(e){Object(u["saveAs"])(e,"archive.zip")})},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){var a=t+"/"+e.name;n.reverse(e.children,a)}else e.code&&n.pathTmp.push({path:t+"/"+e.name,code:e.code})})},codeModalhide(){this.$modal.hide("code-modal")},unselectedAll:function(){this.value.definition.forEach(function(e){null!=e&&(e.selected=!1)}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},connectshow:function(){var e=this;1==e.show?e.show=!1:e.show=!0},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){var n=new Blob([t.data],{type:"application/zip"}),a=e.projectName+".zip";Object(u["saveAs"])(n,a)})},syncOthers(e){let t=this.userId,n=e;const a={newVal:n,userId:t};fetch("http://localhost:4000/paint",{method:"post",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(()=>console.log("throw"))},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){null!=t&&1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var l=a.slice(o,o+n),r=new Array(l.length),s=0;s<l.length;s++)r[s]=l.charCodeAt(s);var c=new Uint8Array(r);i.push(c)}var u=new Blob(i,{type:t});return u},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));null!=e.tempValue&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(t),e.redoArray.push(t)})}},download:function(){var e=this,t=JSON.stringify(e.value),n=this.projectName+".json",a=new File([t],n,{type:"text/json;charset=utf-8"});d.saveAs(a)},deleteBoundary(e,t){e.forEach(function(e,n){t.boundedContext==e.inputText&&"org.uengine.uml.model.bounded"==e._type&&e.dataList.forEach(function(n,a){n.inputText==t.inputText&&n._type==t._type&&(e.dataList[a]=null,e.dataList=e.dataList.filter(e=>e))})})},deleteActivity:function(){var e=this;if(!e.drawer){let t=[],n=JSON.parse(JSON.stringify(e.value.definition)),a=JSON.parse(JSON.stringify(e.value.relation));n.forEach(function(a,i){a.selected&&(a.boundedContext&&e.deleteBoundary(n,a),t.push(a.elementView.id),n[i]=null)}),n=n.filter(e=>e),t.forEach(function(e,t){a.forEach(function(t,n){t.to!=e&&t.from!=e||(a[n]=null)})}),a=a.filter(e=>e),a.forEach(function(e,t){e.selected&&(a[t]=null)}),a=a.filter(e=>e),e.value.definition=n,e.value.relation=a}},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var l=n.pageX-a.offset().left+a[0].scrollLeft,r=n.pageY-a.offset().top+a[0].scrollTop;l/=e.scale,r/=e.scale,o={component:o.component,x:l,y:r,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i,o=this,l=!1;if(e.shape?a=e:(l=!0,a=e.element),a&&t&&n){var r="["+a.shape.geom.vertices.toString()+"]",s={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:r,isFilled:!0,relationView:{style:JSON.stringify({}),value:r}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,l?(o.canvas.removeShape(a,!0),this.addElement(s,null,JSON.parse(JSON.stringify(i)))):(o.canvas.removeShape(a,!0),this.addElement(s))}},undoRedo:function(e){var t=this;t.drawer||("redo"==e?t.undoRedoIndex<t.undoRedoArray.length-1?(t.undoRedoIndex=t.undoRedoIndex+1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.undoRedoIndex]))):(t.text="Last element",t.snackbar=!0,t.timeout=500):"undo"==e&&(t.undoRedoIndex>0?(t.undoRedoIndex=t.undoRedoIndex-1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.undoRedoIndex]))):(t.text="Last Element",t.snackbar=!0,t.timeout=500)))},addElement:function(e,t,n){this.enableHistoryAdd=!0;var a,i=this,o=i.getComponentByName(e.component);a="class-relation"==e.component?o.computed.createNew(e.sourceElement.value,e.targetElement.value,e.vertices):o.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height),null==i.value&&(i.value={definition:[],relation:[]}),"org.uengine.uml.model.relation"==a._type?i.value["relation"].push(a):i.value["definition"].push(a),i.undoRedoIndex!=i.currentIndex?(i.undoRedoArray.splice(i.undoRedoIndex+1,i.currentIndex-i.undoRedoIndex),i.undoRedoIndex=i.undoRedoIndex+1,i.currentIndex=i.undoRedoIndex):i.undoRedoIndex=i.undoRedoIndex+1,i.undoRedoArray.push(JSON.parse(JSON.stringify(i.value))),i.currentIndex=i.undoRedoArray.length-1},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}},f=p,v=(n("aa7c"),n("2877")),g=n("6544"),h=n.n(g),_=n("8336"),y=n("b0af"),b=n("ce7e"),w=n("a722"),E=n("3a2f"),x=Object(v["a"])(f,a,i,!1,null,"3e6f32e4",null);t["default"]=x.exports;h()(x,{VBtn:_["a"],VCard:y["a"],VDivider:b["a"],VLayout:w["a"],VTooltip:E["a"]})},a791:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},a97f:function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},aa7c:function(e,t,n){"use strict";var a=n("2ea7"),i=n.n(a);i.a},aae7:function(e,t,n){var a={"./Opengraph.vue":"0f68","./geometry/BezierCurve.vue":"76e0","./geometry/Circle.vue":"ce2d","./geometry/Curve.vue":"dbf9","./geometry/Ellipse.vue":"50c8","./geometry/Geometry.vue":"b5db","./geometry/Line.vue":"b020","./geometry/Point.vue":"7e07","./geometry/PolyLine.vue":"bef4","./geometry/Polygon.vue":"3a94","./geometry/Rectangle.vue":"7c87","./shape/CircleElement.vue":"809c","./shape/EdgeElement.vue":"7a78","./shape/EllipseElement.vue":"0233","./shape/GeometryElement.vue":"6034","./shape/GroupElement.vue":"8e15","./shape/HorizontalLaneElement.vue":"bca5","./shape/HorizontalPoolElement.vue":"c49b","./shape/HtmlElement.vue":"9484","./shape/ImageElement.vue":"2479","./shape/OpengraphElement.vue":"d57a","./shape/RectangleElement.vue":"d4bc","./shape/SubController.vue":"0af2","./shape/SubElements.vue":"7312","./shape/SvgElement.vue":"967c","./shape/TextElement.vue":"ba54","./shape/VerticalLaneElement.vue":"e2fb","./shape/VerticalPoolElement.vue":"2fa1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="aae7"},ac57:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.value[0]?n("v-card",[e.value[0]?n("v-card-title",[e._v("\n            "+e._s(e.value[0].name)+"\n        ")]):e._e(),e.value[0].name.includes(".png")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):e.value[0].name.includes(".jpg")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[e.value[0]?n("codemirror",{ref:"codemirror",attrs:{value:e.value[0].code,options:e.cmOption,height:"700"},on:{ready:e.onCmReady,Focus:e.onCmFocus,input:e.onCmCodeChange}}):e._e()],1)],1):e._e()],1)},i=[],o=(n("ced0"),n("47ac"),n("959b"),n("dc5b"),n("02f0"),n("d5e0"),n("db91"),n("a7be"),n("7ba3"),n("4ba6"),{props:{value:Array},data(){return{}},computed:{cmOption(){if(this.value.length>0){if(this.value[0].name.includes(".java"))var e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-java",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:!0,scrollbarStyle:null,lineWiseCopyCut:!0};else if(this.value[0].name.includes(".yml")||this.value[0].name.includes(".yaml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-yaml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".md"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-markdown",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".properties"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-properties",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("mvnw"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-sh",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".xml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/xml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("Dockerfile"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-dockerfile",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".json"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/json",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".py"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-python",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".png")||this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/png;base64,${this.value[0].code}`;else if(this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/jpg;base64,${this.value[0].code}`;return e}}},watch:{},methods:{onScroll(e){},onCmReady(e){},onCmFocus(e){},onCmCodeChange(e){}},mounted(){},beforeDestroy(){console.log("aaa")}}),l=o,r=(n("b7f0"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("99d9"),m=n("a523"),p=n("adda"),f=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=f.exports;c()(f,{VCard:u["a"],VCardText:d["b"],VCardTitle:d["c"],VContainer:m["a"],VImg:p["a"]})},ac66:function(e,t){throw new Error("Module parse failed: Unexpected token (9:10)\nYou may need an appropriate loader to handle this file type.\n| spec:\n|   ports:\n>     - port: 8080\n|       targetPort: 8080\n|   selector:")},b020:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-line",props:{from:{default:function(){return[20,5]},type:Array},to:{default:function(){return[30,15]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Line(this.from,this.to),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"2b051ce0",null);t["default"]=c.exports},b5db:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"geometry",props:{},computed:{},data:function(){return{props:JSON.parse(JSON.stringify(this.$props)),id:this.uuid(),element:null}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)(e[a]||t[a])&&("object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(n=!0):e[a]!=t[a]&&(n=!0));n&&this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeGeometry(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addGeometry(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"2a0d85a7",null);t["default"]=s.exports},b7f0:function(e,t,n){"use strict";var a=n("dc1b"),i=n.n(a);i.a},b815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("0c1e"),l=o["a"],r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"cf9f7536",null);t["default"]=s.exports},b84f:function(e,t){throw new Error("Module parse failed: Unexpected token (18:14)\nYou may need an appropriate loader to handle this file type.\n|     spec:\n|       containers:\n>         - name: {{name}}\n|           image: username/{{name}}:latest\n|           ports:")},ba54:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"text-element",props:{},computed:{},data:function(){return{}},watch:{text:function(e){this.props.text=e}},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.TextShape(e.text)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"309d446e",null);t["default"]=c.exports},ba6d:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n| fileName: {{namePascalCase}}Controller.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},bc3e:function(e,t,n){"use strict";var a=n("ead6"),i=n.n(a);i.a},bca5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"horizontal-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalLaneShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"38b855d8",null);t["default"]=c.exports},bd6e:function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/src/main/java\n| ---\n| public class Test{")},bef4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-polyline",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.PolyLine(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"639fddc5",null);t["default"]=c.exports},c0d6:function(e,t,n){"use strict";var a=n("2b0e"),i=n("2f62"),o=n("bc3a"),l=n.n(o);a["a"].prototype.$http=l.a,a["a"].use(i["a"]),t["a"]=new i["a"].Store({state:{accessToken:null,kubeHost:"",kubeToken:"",username:"",storeAuthorized:!1},getters:{getAuth(e){return e.storeAuthorized}},mutations:{LOGIN(e,t){e.kubeHost=t.kubeHost,e.kubeToken=t.kubeToken,e.username=t.userName,e.storeAuthorized=!0,l.a.defaults.headers.common["kubehost"]=e.kubeHost,l.a.defaults.headers.common["kubetoken"]=e.kubeToken},LOGOUT(e){e.kubeHost="",e.kubeToken="",e.storeAuthorized=!1}},actions:{LOGIN({commit:e},t){e("LOGIN",t)},LOGOUT({commit:e}){e("LOGOUT")}}})},c49b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"horizontal-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalPoolShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"60498d48",null);t["default"]=c.exports},c9bd:function(e,t,n){"use strict";var a=n("5061"),i=n.n(a);i.a},cacc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:null,vertices:e.vertices,from:e.value.sourceElement.elementView.id,to:e.value.targetElement.elementView.id,_style:e.style,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value.sourceElement.elementView,"id",t)},"update:to":function(t){return e.$set(e.value.targetElement.elementView,"id",t)},"update:_style":function(t){e.style=t},"update:label":function(t){return e.$set(e.value,"name",t)}}})],1)},i=[],o=n("b815"),l={mixins:[o["default"]],name:"modeling-relation",props:{value:Object},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{sourceElement:e,targetElement:t,selected:!1,relationView:{style:JSON.stringify({}),value:n}}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{},mounted:function(){},methods:{}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"d911706c",null);t["default"]=c.exports},cc89:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#ED73B6",fill:"#ED73B6","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< External >>"}}),0===Object.keys(e.value.aggregate).length&&JSON.stringify(e.value.aggregate)===JSON.stringify({})||e.value.name.length<1?n("image-element",{attrs:{image:e.value.alertURL,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"External",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/external.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l={mixins:[o["default"]],name:"external-definition",props:{},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.External"},createNew(e,t,n,a,i){return{description_text:"외부 시스템\n",_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",aggregate:{},boundedContext:{},elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0},alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",editing:!1}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png"}},created:function(){var e=this;this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name)})},watch:{"value.boundedContext":function(){this.checkValue=!0},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){JSON.parse(JSON.stringify(t.value));t.value.checkValue=!1})},"value.name":function(e,t){this.namePanel=e}},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"delete"==t.state&&"org.uengine.modeling.model.Aggregate"==t.element._type&&(e.value.aggregate={}),e.$nextTick(function(){var t=e.getComponent("modeling-designer");t.editing=!0})})},methods:{deleteExternal(){var e=this;e.getComponent("modeling-designer");return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);var n={state:"deleteExternal",element:JSON.parse(JSON.stringify(e.value))};null!=e.value.aggregate.id&&e.$EventBus.$emit(e.value.aggregate.id,n),e.$emit("update:value",null),t()})}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"5b745ce2",null);t["default"]=c.exports},ce2d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-circle",props:{center:{default:function(){return[10,10]},type:Array},radius:{default:function(){return 5},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Circle(this.center,this.radius),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"42108a06",null);t["default"]=c.exports},cece:function(e,t,n){"use strict";var a=n("1fac"),i=n.n(a);i.a},d371:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticStyle:{"max-width":"65%"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("codemirror",{ref:"myCm",attrs:{options:{theme:"darcula",lineNumbers:!0,lineWrapping:!0},value:e.yaml_text},on:{focus:function(t){return e.onYamlFocus()}},model:{value:e.yaml_text,callback:function(t){e.yaml_text=t},expression:"yaml_text"}}),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[0==e.importFile?n("v-btn",{attrs:{color:"success",block:""},on:{click:function(t){e.importFile=!0}}},[e._v("\n                                LocalFile\n                            ")]):e._e(),1==e.importFile?n("text-reader",{attrs:{fileName:e.fileName,plainText:e.yaml_text,importType:"yaml"},on:{"update:fileName":function(t){e.fileName=t},"update:file-name":function(t){e.fileName=t},"update:plainText":function(t){e.yaml_text=t},"update:plain-text":function(t){e.yaml_text=t},load:function(t){e.yaml_text=t}}}):e._e()],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"success",block:""},on:{click:e.download}},[e._v("Download")])],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.$EventBus.$emit("deployStart")}}},[e._v("Deploy\n                            ")])],1)],1)],1)],1)],1),n("v-flex",{staticStyle:{width:"35%"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._l(e.ui_list,function(t){return["string"==t.ui_type&&"add"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"list"==t.ui_type&&"add"==e.status?n("v-autocomplete",{attrs:{items:e.depList,label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"==t.ui_type&&"edit"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name,readonly:""},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?"number"==t.ui_type?n("v-text-field",{attrs:{type:"number",label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e():n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}),"select"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?e._e():n("v-select",{attrs:{items:e.items,label:t.ui_name,label:"Service Type"},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})]})],2)],1)],1)],1)],1)},i=[],o=n("6eb3"),l=n("651e"),r=n.n(l),s=n("8241"),c=n.n(s),u=n("8f94"),d=(n("ced0"),n("7ba3"),n("21a6")),m=n("21a6"),p={name:"EditYaml",props:["plainText","types","status","namespace"],data(){return{fab:!1,temp_text:"",ui_list:[],yaml_text:"",json_data:"",cursor_pos:"",channel:"yaml",auto_edit:!0,importFile:!1,items:["ClusterIP","NodePort","LoadBalancer","ExternalName"],depList:[]}},created:function(){var e=this;if(e.$EventBus.$on("postYAML",function(){e.$emit("update:plainText",e.yaml_text)}),"add"==e.status)if("pod"==e.types)e.createPod();else if("service"==e.types){e.createService();var t=e.namespace;"All"==t&&(t="default"),e.$http.get(`${API_HOST}/kube/v1/`+e.types+"/namespaces/"+t).then(t=>{t.data.forEach(function(t){e.depList.push(t.name)})})}else"deployment"==e.types&&e.createDeployment()},beforeDestroy:function(){this.$EventBus.$off("postYAML")},computed:{codemirror:function(){return this.$refs.myCm.codemirror},activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},fileName:{get:function(){var e,t=this;return t.ui_list.some(function(t){if(t.ui_name.includes("name"))return e=t.val}),e},set:function(e){var t=this;t.ui_list.some(function(n){if(n.ui_name.includes("name"))return n.val=e,t.uiToJson()})}}},components:{TextReader:o["a"],yaml:r.a,json2yaml:c.a,codemirror:u["codemirror"],saveAs:d["saveAs"]},methods:{createPod(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,name","spec,containers,0,name"],ui_name:"pod name",ui_type:"string",val:"name"},{key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:"0"},{key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:"image"}],e.yaml_text="apiVersion: v1\nkind: Pod\nmetadata:\n  name: \n  labels:\n    name: \nspec:\n  containers:\n  - name: \n    image: \n    ports:\n    - containerPort: 80"},download(){var e=this,t=e.yaml_text,n=e.fileName+".yaml",a=new File([t],n,{type:"text/yaml;charset=utf-8"});m.saveAs(a)},onYamlFocus(){let e=this;e.channel="yaml"},onUiFocus(){let e=this;e.channel="ui"},modifyJson(e,t,n){let a=this;if(t.length<=0)e=n;else{let i=t.splice(0,1);null==e[i]&&(e[i]={}),e[i]=a.modifyJson(e[i],t,n)}return e},findJson(e,t){let n=this,a=t.splice(0,1);return t.length<=0?e[a]:(null==e[a]&&(e[a]={}),n.findJson(e[a],t))},uiToJson(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,l=i.key_lists;for(let n in l){let a=l[n].split(",");t=e.modifyJson(t,a,o)}}e.json_data=t},getArrVal(e,t){for(let n in e)if(e[n]!=t)return e[n];return t},compareArrVals(e){let t=e.splice(0,1);for(let n in e)if(e[n]!=t)return!1;return!0},jsonToUi(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,l=i.key_lists,r=[];for(let n in l){let a=l[n].split(",");r.push(e.findJson(t,a))}let s=e.getArrVal(r,o);if(e.ui_list[a].val=s,!e.compareArrVals(r)){for(let n in l){let a=l[n].split(",");t=e.modifyJson(t,a,s)}e.json_data=t}}},yamlFilter(e){let t=e.split("\n");t.splice(0,1);for(let n in t)t[n]=t[n].substring(2,t[n].length);return e=t.join("\n"),e=e.replace(/ null/g," "),e},createDeployment(){let e=this;e.ui_list=[{key_lists:[,"metadata,name","metadata,labels,app","spec,selector,matchLabels,app","spec,template,metadata,labels,app","spec,template,spec,containers,0,name"],ui_name:"deployment name",ui_type:"string",val:"name"},{key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:"image_name"},{key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:"1"},{key_lists:["spec,template,spec,containers,0,ports,0,containerPort"],ui_name:"port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  selector:\n    matchLabels:\n      app:  \n  replicas: 1\n  template:\n    metadata:\n      labels: \n          app: \n    spec:\n      containers:\n        - name: \n          image: \n          ports: \n            - containerPort: 80"},createService(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,app"],ui_name:"service name",ui_type:"string",val:"name"},{key_lists:["spec,type"],ui_name:"service type",ui_type:"select",val:""},{key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"list",val:"dep"},{key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:"80"},{key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: v1\nkind: Service\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  type:\n  ports:\n    - port: 80\n      targetPort: 80\n  selector:\n    app: "},newLoad(e){let t,n=this;if("object"==e)t=e;else try{t=r.a.load(e)}catch(o){return}let a=t["kind"],i=[{key_lists:["metadata,name"],ui_name:a+" main name",ui_type:"string",val:n.findJson(t,"metadata,name".split(","))}];"service"==a.toLowerCase()?(i.push({key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"string",val:n.findJson(t,"spec,selector,app".split(","))}),i.push({key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:n.findJson(t,"spec,ports,0,port".split(","))}),i.push({key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"string",val:n.findJson(t,"spec,ports,0,targetPort".split(","))}),i.push({key_lists:["spec,type"],ui_name:"type",ui_type:"string",val:n.findJson(t,"spec,type".split(","))})):"deployment"==a.toLowerCase()?(i.push({key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:n.findJson(t,"spec,template,spec,containers,0,image".split(","))}),i.push({key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:n.findJson(t,"spec,replicas".split(","))})):"pod"==a.toLowerCase()&&(i.push({key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:n.findJson(t,"spec,containers,0,ports,0,containerPort".split(","))}),i.push({key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:n.findJson(t,"spec,containers,0,image".split(","))})),n.ui_list=i},templateLoad(){var e=this;"pod"==e.types?e.createPod():"deployment"==e.types?e.createDeployment():"service"==e.types&&e.createService()}},watch:{plainText:{immediate:!0,handler(e,t){var n=this;""!=e&&(n.newLoad(e),void 0==t&&(n.yaml_text=n.yamlFilter(e)),n.json_data=r.a.load(e))}},yaml_text:{handler(e){if(""!=e){var t=this;if(t.auto_edit)try{t.yaml_text!=t.temp_text&&(t.temp_text=t.yaml_text,t.cursor_pos=t.codemirror.getCursor("start"),t.json_data=r.a.load(t.yaml_text)),t.jsonToUi(),this.$nextTick(function(){t.codemirror.setCursor(t.cursor_pos),t.codemirror.refresh()})}catch(n){}}}},ui_list:{handler:function(){let e=this;"ui"==e.channel&&e.uiToJson();for(let n in e.ui_list){let t=e.ui_list[n].val;if("string"==typeof t){let a=t.match(/^0[0-9]+/);a&&(e.ui_list[n].val=parseInt(a))}}let t=c.a.stringify(JSON.parse(JSON.stringify(e.json_data)));e.yaml_text=e.yamlFilter(t)},deep:!0}}},f=p,v=(n("3758"),n("2877")),g=n("6544"),h=n.n(g),_=n("c6a6"),y=n("8336"),b=n("b0af"),w=n("99d9"),E=n("a523"),x=n("0e8f"),C=n("a722"),S=n("b974"),k=n("8654"),O=Object(v["a"])(f,a,i,!1,null,null,null);t["a"]=O.exports;h()(O,{VAutocomplete:_["a"],VBtn:y["a"],VCard:b["a"],VCardText:w["b"],VContainer:E["a"],VFlex:x["a"],VLayout:C["a"],VSelect:S["a"],VTextField:k["a"]})},d4b0:function(e,t,n){"use strict";const a={install(e,t={}){const a=n("446f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default),e._components[i[o].default.name]=i[o].default;e.classModelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},d4bc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"rectangle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.RectangleShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"5ffc7c32",null);t["default"]=c.exports},d4c4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.clone.wrench?n("sub-controller",{attrs:{image:"wrench.png"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleClick(t)}}}):e._e(),n("vue-simple-context-menu",{ref:"vueSimpleContextMenu",attrs:{elementId:"myUniqueId",options:e.options},on:{"option-clicked":e.optionClicked}})],1)},i=[],o={name:"storming-sub-controller",props:{type:String,className:String,calleeDefinitionId:String},computed:{},data:function(){return{clone:{gateway:!1,wrench:!1},options:[{name:"IDE"}]}},watch:{},mounted:function(){this.clone.wrench=!0},methods:{end(){},handleClick(e){console.log(e),e.pageY=e.pageY-62,this.$refs.vueSimpleContextMenu.showMenu(e)},optionClicked(e){var t=this;console.log(t.className),console.log(t),"Get Pods"==e.option.name?t.getPods():"IDE"==e.option.name?t.ide():"Serivce"==e.option.name&&t.service()},getPods(){$("iframe").get(0).contentWindow.wt.term.term.send("kubectl get po \r")},ide(){var e=this;e.$EventBus.$once("returnDeployData",function(e){var t;console.log(e),e.fullPathList.forEach(function(e){e.fullPath.includes("kubernetes/deployment")&&(t=e.key)}),e.getCodeList.forEach(function(e){e.key==t&&e.code})}),e.$EventBus.$emit("deploy",e.$parent.$parent.value.elementView.id)},service(){var e=this;console.log(e.$parent.$parent.value.elementView.id),e.$EventBus.$once("returnDeployData",function(e){var t,n;e.fullPathList.forEach(function(e){e.fullPath.includes("kubernetes/service")&&(t=e.key)}),e.getCodeList.forEach(function(e){e.key==t&&(n=e.code)}),console.log(n)}),e.$EventBus.$emit("service",e.$parent.$parent.value.elementView.id)},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"c25a9d9c",null);t["default"]=s.exports},d57a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"opengraph-element",props:{redraw:{default:function(){return!1},type:Boolean},id:String,parentId:String,x:{default:function(){return 0},type:Number},y:{default:function(){return 0},type:Number},width:{default:function(){return 10},type:Number},height:{default:function(){return 10},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object},label:{default:function(){return""},type:String},image:String,vertices:{default:function(){return[]},type:Array},html:String,xml:String,text:String,watchData:Object,from:String,to:String,fromPosition:{default:function(){return[50,50]},type:Array},toPosition:{default:function(){return[50,50]},type:Array},subZIndex:Number,subWidth:{default:function(){return"100%"},type:[String,Number]},subHeight:{default:function(){return"100%"},type:[String,Number]},subTop:{default:function(){return"0px"},type:[String,Number]},subBottom:[String,Number],subLeft:{default:function(){return"0px"},type:[String,Number]},subRight:[String,Number],subAlign:String,subVerticalAlign:String,subStyle:{default:function(){return{}},type:Object},selectable:{default:function(){return!1},type:Boolean},movable:{default:function(){return!1},type:Boolean},resizable:{default:function(){return!1},type:Boolean},resizex:{default:function(){return!0},type:Boolean},resizey:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!1},type:Boolean},enableFrom:{default:function(){return!0},type:Boolean},enableTo:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!1},type:Boolean},connectCloneable:{default:function(){return!1},type:Boolean},connectRequired:{default:function(){return!0},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},copyable:{default:function(){return!0},type:Boolean}},computed:{opengraphRole:function(){return"opengraph-element"},_id:function(){return this.id?this.id:this.immidiateId}},data:function(){return{innerRedraw:!1,props:JSON.parse(JSON.stringify(this.$props)),elementRole:null,shapdId:"OG.shape."+this.uuShapeId(),immidiateId:this.uuid(),canvasComponent:null,parentElementComponent:null,parentControllerComponent:null,element:null,bindElementEvent:!1,shape:null,geometrys:{},subshapes:{},subcontrollers:{}}},watch:{$props:{handler:function(e,t){"opengraph-element"==this.elementRole&&(this.props=JSON.parse(JSON.stringify(e)))},deep:!0},props:{handler:function(e,t){if("opengraph-element"==this.elementRole)if(this.innerRedraw)this.innerRedraw=!1;else{var n=!1,a=[];if(1==e["redraw"])n=!0,a.push("redraw");else for(var i in e)(e[i]||t[i])&&("object"==typeof e[i]?t[i]&&JSON.stringify(e[i])==JSON.stringify(t[i])||(n=!0,a.push(i)):e[i]!=t[i]&&(n=!0,a.push(i)));n&&(this.element?this.updateShape():this.drawShape())}},deep:!0}},destroyed:function(){var e=this;"opengraph-element"==e.elementRole?e.canvasComponent&&e.canvasComponent.removeElement(e._id):"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.removeSubShapes(e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.removeControllerElement()},mounted:function(){var e=this;this.setElementRole(),"opengraph-element"==this.elementRole?this.drawShape():"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.addSubShapes(this,e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.addCloneElement(this)},methods:{addGeometry:function(e,t){this.geometrys[t]=e},removeGeometry:function(e){delete this.geometrys[e]},addSubShapes:function(e,t){this.subshapes[t]=e},removeSubShapes:function(e){delete this.subshapes[e]},addSubContollers:function(e,t){this.subcontrollers[t]=e},removeSubContollers:function(e){delete this.subcontrollers[e]},emitElement:function(){this.innerRedraw=!0;var e=this;if(!e.element)return;let t=e.canvasComponent.canvas.getBoundary(e.element);if(t){if(e.$emit("update:redraw",!1),e.element.shape instanceof OG.shape.EdgeShape){let t=JSON.parse("["+e.element.shape.geom.vertices.toString()+"]");e.$emit("update:vertices",t);var n,a,i,o,l=$(e.element).attr("_from"),r=$(e.element).attr("_to");l&&(n=l.split("_TERMINAL_")[0],i=l.split("_TERMINAL_")[1].split("_"),i=[parseFloat(i[0]),parseFloat(i[1])]),r&&(a=r.split("_TERMINAL_")[0],o=r.split("_TERMINAL_")[1].split("_"),o=[parseFloat(o[0]),parseFloat(o[1])]),e.$emit("update:from",n),e.$emit("update:to",a),e.$emit("update:fromPosition",i),e.$emit("update:toPosition",o)}else e.$emit("update:id",e._id),e.$emit("update:width",t.getWidth()),e.$emit("update:height",t.getHeight()),e.$emit("update:x",t.getCentroid().x),e.$emit("update:y",t.getCentroid().y);var s=JSON.parse(JSON.stringify(e.element.shape.geom.style.map));e.$emit("update:_style",s);var c,u=e.canvasComponent.canvas.getRenderer().getParent(e.element);c=u?u.id:null,e.$emit("update:parentId",c),this.props=JSON.parse(JSON.stringify(this.props))}},setElementRole:function(){var e,t=this,n=function(a){e=a.$parent,e&&("canvas"==e.opengraphRole?(t.canvasComponent=e,t.elementRole="opengraph-element"):"sub-elements"==e.opengraphRole?(t.elementRole="sub-elements",n(e)):"sub-controller"==e.opengraphRole?(t.elementRole="sub-controller",t.parentControllerComponent=e):"opengraph-element"==e.opengraphRole?t.parentElementComponent=e:n(e))};if(n(this),t.parentElementComponent&&"sub-elements"!=t.elementRole)throw new Error("Child element in element should be in sub-elements.");if(!t.parentElementComponent&&!t.canvasComponent&&!t.parentControllerComponent)throw new Error("Not found canvas for element.");!t.parentElementComponent&&t.canvasComponent&&t.canvasComponent.addElement(this,t._id)},updateShape:function(){var e=this;e._id!=e.element.id&&(e.canvasComponent.canvas._HANDLER.deselectAll(),e.element=e.canvasComponent.canvas.updateId(e.element,e._id)),this.drawShape()},drawShape:function(){var e=this,t=new Date,n=e.generateShape();if(n.clone=function(){return e.generateShape()},n){n.createSubShape=function(){return e.generateSubShapes()},n.createController=function(){return e.generateSubController()},e.bindShapeProperties(n),e.bindShapeEvents(n);var a=JSON.parse(JSON.stringify(e._style));switch(n.TYPE){case OG.Constants.SHAPE_TYPE.GEOM:case OG.Constants.SHAPE_TYPE.GROUP:if(e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId),n instanceof OG.HorizontalLaneShape){var i=e.canvasComponent.canvas.getRenderer().getParent(e.element);if(i&&i.shape instanceof OG.HorizontalLaneShape){var o=null;$.each(i.childNodes,function(e,t){if("g"==t.tagName)return o=t,!1}),i.insertBefore(e.element,o||i.firstChild)}}break;case OG.Constants.SHAPE_TYPE.EDGE:if(e.vertices&&e.vertices.length>1){var l=new OG.geometry.PolyLine(e.vertices);l.type="PolyLine",n.geom=l}var r,s,c,u,d,m;e.from&&(r=e.canvasComponent.canvas.getElementById(e.from),c=e.from+"_TERMINAL_"+e.fromPosition[0]+"_"+e.fromPosition[1],d=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(c)),e.to&&(s=e.canvasComponent.canvas.getElementById(e.to),u=e.to+"_TERMINAL_"+e.toPosition[0]+"_"+e.toPosition[1],m=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(u)),(!e.vertices||e.vertices.length<2)&&r&&s?e.element=e.canvasComponent.canvas.connect(r,s,a,e.label,d,m,!0,e._id):e.element=r&&s?e.canvasComponent.canvas.connect(r,s,a,e.label,d,m,!0,e._id,n):e.canvasComponent.canvas.drawShape(null,n,null,a,e._id,null,!0);break;case OG.Constants.SHAPE_TYPE.HTML:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.IMAGE:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.TEXT:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.SVG:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break}this.setGroup(),this.bindElementEvents(),this.emitElement(),window.Vue.OGBus.$emit("renderingTime",this.canvasComponent.id,(new Date).getTime()-t)}},setGroup:function(){var e=this;if(e.element&&!e.parentId&&!e.canvasComponent.canvas.getRenderer().isEdge(e.element)&&!e.canvasComponent.canvas.getRenderer().isLane(e.element)){var t=e.canvasComponent.canvas.getRenderer().getFrontForBoundary(e.canvasComponent.canvas.getRenderer().getBoundary(e.element));t&&(e.canvasComponent.canvas.getRenderer().isLane(t)&&(t=e.canvasComponent.canvas.getRenderer().getRootLane(t)),e.canvasComponent.canvas.getRenderer()._CONFIG.GROUP_DROPABLE&&t.shape.GROUP_DROPABLE&&t.id!==e.element.id&&t.appendChild(e.element))}},bindShapeProperties:function(e){e.SELECTABLE=this.selectable,e.MOVABLE=this.movable,e.RESIZABLE=this.resizable,e.RESIZEX=this.resizex,e.RESIZEY=this.resizey,e.CONNECTABLE=this.connectable,e.ENABLE_FROM=this.enableFrom,e.ENABLE_TO=this.enableTo,e.SELF_CONNECTABLE=this.selfConnectable,e.CONNECT_CLONEABLE=this.connectCloneable,e.CONNECT_REQUIRED=this.connectRequired,e.CONNECT_STYLE_CHANGE=this.connectStyleChange,e.DELETABLE=this.deletable,e.LABEL_EDITABLE=this.labelEditable,e.COPYABLE=this.copyable,e.AXIS=this.axis},bindShapeEvents:function(e){var t=this;e.onResize=function(e){t.$emit("resize",t,e)},e.onDrawLabel=function(e){t.$emit("drawLabel",t,e)},e.onLabelChanged=function(e,n){t.$emit("labelChanged",t,e,n)},e.onBeforeRemoveShape=function(){var e;return t.$emit("beforeRemoveShape",t,function(t){e=t}),e},e.onRemoveShape=function(){t.$emit("removeShape",t)},e.onDrawShape=function(){t.$emit("drawShape",t)},e.onBeforeLabelChange=function(e,n){var a;return t.$emit("beforeLabelChange",t,e,n,function(e){a=e}),a},e.onRedrawShape=function(){t.$emit("redrawShape",t)},e.onBeforeConnectShape=function(e,n,a){var i;return t.$emit("beforeConnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a,function(e){i=e}),i},e.onConnectShape=function(e,n,a){t.$emit("connectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onDisconnectShape=function(e,n,a){t.$emit("disconnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onGroup=function(e){t.$emit("group",t.canvasComponent.getElementById(e.id)||e)},e.onUnGroup=function(){t.$emit("unGroup",t)},e.onMoveShape=function(e){t.$emit("moveShape",t,e)},e.onRotateShape=function(e){t.$emit("rotateShape",t,e)},e.onPasteShape=function(e,n){t.$emit("pasteShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n)},e.onAddToGroup=function(e,n,a){for(var i=[],o=0;o<n.length;o++)i.push(t.canvasComponent.getElementById(n[o].id)||n[o]);t.$emit("addToGroup",t.canvasComponent.getElementById(e.id)||e,i,a)},e.onAddedToGroup=function(e,n,a){t.$emit("addedToGroup",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,a)},e.onSelectShape=function(){t.$emit("selectShape",t)},e.onDeSelectShape=function(){t.$emit("deSelectShape",t)}},bindElementEvents:function(){var e=this;e.bindElementEvent||(e.bindElementEvent=!0,$(e.element).bind("click",function(t){t.stopPropagation(),e.$emit("click",t,e)}),$(e.element).unbind("dblclick"),$(e.element).bind("dblclick",function(t){t.stopPropagation(),e.$emit("dblclick",t,e)}))},generateSubController:function(){var e=this,t=[];if(!e.subcontrollers||$.isEmptyObject(e.subcontrollers))return t;for(var n in e.subcontrollers){var a=e.subcontrollers[n],i=a.cloneable;i?e.addCloneableController(a,t):e.addClickController(a,t)}return t},addClickController:function(e,t){var n=this;t.push({image:e.image,action:function(t,a){e.$emit("click",t,n)}})},addCloneableController:function(e,t){var n=this,a=e.cloneComponent.generateShape();a.onDuplicated=function(t,a,i){e.$emit("clone",n.canvasComponent.getElementById(t.id)||t,n.canvasComponent.getElementById(a.id)||a,n.canvasComponent.getElementById(i.id)||i)},t.push({image:e.image,create:{shape:a,width:e.cloneComponent.width,height:e.cloneComponent.height,style:JSON.parse(JSON.stringify(e.cloneComponent._style))}})},generateSubShapes:function(){var e=this,t=[];if(!e.subshapes||$.isEmptyObject(e.subshapes))return t;for(var n in e.subshapes){let a=e.subshapes[n].generateShape();t.push({shape:a,vertices:e.subshapes[n].vertices,width:e.subshapes[n].subWidth,height:e.subshapes[n].subHeight,top:e.subshapes[n].subTop,bottom:e.subshapes[n].subBottom,left:e.subshapes[n].subLeft,right:e.subshapes[n].subRight,align:e.subshapes[n].subAlign,"vertical-align":e.subshapes[n].subVerticalAlign,"z-index":e.subshapes[n].subZIndex,style:JSON.parse(JSON.stringify(e.subshapes[n].subStyle))})}return t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},uuShapeId:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"s"+e()+e()+e()+e()+e()+e()+e()+e()}}},l=o,r=n("2877"),s=Object(r["a"])(l,a,i,!1,null,"fcf76732",null);t["default"]=s.exports},d7b6:function(e,t){throw new Error("Module parse failed: Unexpected token (2:6)\nYou may need an appropriate loader to handle this file type.\n| steps:\n>   - id: 'build'\n|     name: 'gcr.io/cloud-builders/mvn'\n|     args: [")},da11:function(e,t,n){},dbf9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),l={mixins:[o["default"]],name:"geometry-curve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Curve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"bf351644",null);t["default"]=c.exports},dc1b:function(e,t,n){},dcd5:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",[n("v-divider")],1),n("v-row",[e._l(e.filteredVersionList,function(t,a){return n("v-col",{key:a,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.versionImg,"max-width":"400","max-height":"300"}}),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Ver."+e._s(t.versionNum)+"\n                            "),n("div",{staticStyle:{"font-size":"15px",float:"right"}},[e._v(e._s(t.versionEmail))])]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.versionDate))]),""+t.versionType!="0"?n("v-list-item-subtitle",[e._v("Comment : "+e._s(t.versionComment)+"\n                        ")]):e._e()],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(n){return e.versionModalShow(t.versionValue)}}},[e._v("\n                        View\n                    ")])],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}})],1)],2),n("v-layout",[n("modal",{attrs:{name:"view-modeling-designer-modal",height:"80%",width:"80%"}},[n("view-modeling-designer",{attrs:{versionValue:e.versionValue}})],1)],1)],1)},i=[],o=n("8aa5"),l=n.n(o),r={name:"ViewEventStormingVersionPage",props:{},data(){return{versionList:[],name:"",search:"",loginAuthor:"",onLogin:!1,deleteDialog:!1,selectDelete:[],checkAllVersion:!1,versionValue:{},parmUid:"",parmProjectId:"",parmVersion:"",parmType:""}},created(){var e=this;e.parmUid=this.$route.params.userUid,e.parmProjectId=this.$route.params.projectId,e.parmVersion=this.$route.params.projectVersion,e.parmType=this.$route.params.type,e.getVersionList(),e.$nextTick(function(){e.filteredVersionList})},computed:{filteredVersionList(){var e=this;return e.search?e.versionList.filter(t=>{return t.name.toLowerCase().includes(e.search.toLowerCase())}):e.versionList?e.versionList:void 0}},mounted:function(){},methods:{versionModalShow(e){this.versionValue=e,this.$modal.show("view-modeling-designer-modal")},getVersionList(){var e=this,t=[],n={definition:[],relation:[]},a=1;if(e.versionList=[],"0"==e.parmType){var i={versionNum:1,versionName:null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"Local",versionDate:null!=localStorage.getItem("localSaveTime")?localStorage.getItem("localSaveTime"):"undefined",versionComment:"",versionEmail:null!=localStorage.getItem("email")?localStorage.getItem("email"):"anonymous",versionImg:"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",versionType:"0",versionValue:null!=localStorage.getItem("localLoadData")?localStorage.getItem("localLoadData"):n};t.push(i)}else l.a.database().ref("/saver/versionList/"+e.parmUid+"/"+e.parmProjectId).once("value").then(function(n){for(var i in n.val()){var o={versionNum:a++,versionName:i,versionDate:n.val()[i].date,versionComment:n.val()[i].comment,versionEmail:n.val()[i].email,versionImg:n.val()[i].img,versionValue:n.val()[i].value,versionType:e.parmType};t.push(o)}});e.versionList=t},toUrl(e,t,n,a){return"storming/"+t+"/"+e+"/"+n+"/"+a},getUid(){return new Promise(function(e){l.a.auth().onAuthStateChanged(function(t){e(t?t.uid:"everyone")})})}}},s=r,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8336"),p=n("b0af"),f=n("99d9"),v=n("62ad"),g=n("a523"),h=n("ce7e"),_=n("adda"),y=n("a722"),b=n("da13"),w=n("5d23"),E=n("0fd9"),x=Object(c["a"])(s,a,i,!1,null,"75cee4e3",null);t["a"]=x.exports;d()(x,{VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCol:v["a"],VContainer:g["a"],VDivider:h["a"],VImg:_["a"],VLayout:y["a"],VListItem:b["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VRow:E["a"]})},dd10:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px"}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.updateRules.length?n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventList,"item-text":"name","return-object":"",prefix:"UPDATE WHEN"},model:{value:e.updateItem.when,callback:function(t){e.$set(e.updateItem,"when",t)},expression:"updateItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("SET")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.updateItem.fieldMapping,function(t,a){return n("tr",[a!=e.updateItem.fieldMapping.length-1||e.saveBtnn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.updateItem.fieldMapping.length-1||e.saveBtnn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.updateItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.updateItem.fieldMapping,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.testt()}}},[e.saveBtnn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.updateItem.fieldMapping)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("WHERE")]),n("v-simple-table",{staticStyle:{"margin-left":"30px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.updateItem.where,function(t,a){return n("tr",[a!=e.updateItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.updateItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.updateItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.updateItem.where,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.test()}}},[e.saveBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.updateItem.where)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewUpdate",props:{value:Object,updateItem:Object,index:Number},data:function(){return{saveBtnn:!1,saveBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.updateItem.when).length>0&&-1!=this.eventList.findIndex(e=>e.elementView.id===this.updateItem.when.elementView.id)?this.eventList[this.eventList.findIndex(e=>e.elementView.id===this.updateItem.when.elementView.id)].fieldDescriptors:[]},eventList:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},methods:{testt(){this.saveBtnn?this.saveBtnn=!1:this.saveBtnn=!0},test(){this.saveBtn?this.saveBtn=!1:this.saveBtn=!0},removeMainRow(e){var t=this;t.value.updateRules[e]=null,t.value.updateRules=t.value.updateRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},removeConditionRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addConditionRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].conditionViewField).length&&0!==Object.keys(e[e.length-1].conditionEventField).length){var t={conditionViewField:{},conditionEventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},l=o,r=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),f=n("132d"),v=n("5d23"),g=n("0fd9"),h=n("1f4f"),_=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=_.exports;c()(_,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:f["a"],VListItemSubtitle:v["b"],VRow:g["a"],VSimpleTable:h["a"]})},dd53:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},ddb8:function(e,t,n){"use strict";var a=n("9483");Object(a["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}})},df59:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n| fileName: {{namePascalCase}}Repository.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},e275:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n| fileName: {{namePascalCase}}ViewHandler.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},e2e4:function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: Event\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},e2fb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),l={mixins:[o["default"]],name:"vertical-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalLaneShape(e.label)}}},r=l,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,"43ef5574",null);t["default"]=c.exports},e38b:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM openjdk:8u212-jdk-alpine\n| COPY target/*SNAPSHOT.jar app.jar\n| EXPOSE 8080")},e454:function(e,t){throw new Error("Module parse failed: Unexpected token (2:39)\nYou may need an appropriate loader to handle this file type.\n| forEach: RelationEventInfo\n> fileName: {{eventValue.namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},e8e5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",deletable:"",resizable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,_style:{"label-angle":e.value.elementView.angle}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("circle-element",{attrs:{"sub-align":"center","sub-height":22,"sub-width":22,"sub-top":"28px"}}),n("geometry-line",{attrs:{from:[50,35.5],to:[50,63]}}),n("geometry-line",{attrs:{from:[28,42],to:[72,42]}}),n("geometry-line",{attrs:{from:[50,63],to:[72,80]}}),n("geometry-line",{attrs:{from:[50,63],to:[27,80]}}),n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Actor >>"}}),n("text-element",{attrs:{sub_style:{"font-weight":"bold"},"sub-verticle-align":"bottom","sub-height":e.titleH,"sub-top":110,"sub-left":0,text:e.value.classReference?e.value.classReference:e.namePanel}})],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Actor"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),l=n("d4bc"),r=n("809c"),s=n("7a78"),c=n("0233"),u=n("b020"),d=n("7312"),m={components:{SubElements:d["default"],GeometryLine:u["default"],EllipseElement:c["default"],EdgeElement:s["default"],CircleElement:r["default"],RectangleElement:l["default"]},mixins:[o["default"]],name:"actor-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Actor"},className(){return"org.uengine.modeling.model.Actor"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",innerAggregate:{event:[],command:[],view:[],policy:[],external:[]},elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:140,style:JSON.stringify({})},boundedContext:""}}},data:function(){return{itemH:200,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){var e=this;this.$nextTick(function(){this.namePanel=e.value.name})},watch:{"value.name":function(e,t){this.namePanel=e}},mounted:function(){},methods:{deleteActor(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.elementView.id}`);JSON.parse(JSON.stringify(e.value));e.$emit("update:value",null),t()})}}},p=m,f=n("2877"),v=Object(f["a"])(p,a,i,!1,null,"38f9c2f7",null);t["default"]=v.exports},ead6:function(e,t,n){},ed3c:function(e,t,n){},f52a:function(e,t,n){e.exports=n.p+"img/logochange2.08cb66cb.png"},f5c4:function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (1:7)\nYou may need an appropriate loader to handle this file type.\n> path: /src/main/java/com/example\n| ---\n| package {{options.package}};")},f623:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM openjdk:8u212-jdk-alpine\n| COPY target/*SNAPSHOT.jar app.jar\n| EXPOSE 8080")},f741:function(e,t){throw new Error("Module parse failed: Assigning to rvalue (4:2)\nYou may need an appropriate loader to handle this file type.\n|   port: 8088\n| \n> ---\n| spring:\n|   profiles: default")},f94c:function(e,t,n){"use strict";var a=n("692c"),i=n.n(a);i.a},fbc9:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px"}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.deleteRules.length?n("v-btn",{attrs:{text:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventList,"item-text":"name","return-object":"",prefix:"DELETE WHEN"},model:{value:e.deleteItem.when,callback:function(t){e.$set(e.deleteItem,"when",t)},expression:"deleteItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"30px"}},[e._v("WHERE")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.deleteItem.where,function(t,a){return n("tr",[a!=e.deleteItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.deleteItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.deleteItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.deleteItem.where,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.test()}}},[e.saveBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.deleteItem.where)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewDelete",props:{value:Object,deleteItem:Object,index:Number},data:function(){return{saveBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.deleteItem.when).length>0&&-1!=this.eventList.findIndex(e=>e.elementView.id===this.deleteItem.when.elementView.id)?this.eventList[this.eventList.findIndex(e=>e.elementView.id===this.deleteItem.when.elementView.id)].fieldDescriptors:[]},eventList:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},methods:{test(){this.saveBtn?this.saveBtn=!1:this.saveBtn=!0},removeMainRow(e){var t=this;t.value.deleteRules[e]=null,t.value.deleteRules=t.value.deleteRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},l=o,r=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),f=n("132d"),v=n("5d23"),g=n("0fd9"),h=n("1f4f"),_=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=_.exports;c()(_,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:f["a"],VListItemSubtitle:v["b"],VRow:g["a"],VSimpleTable:h["a"]})}});
//# sourceMappingURL=app.d2f0449a.js.map