(function(e){function t(t){for(var a,r,l=t[0],s=t[1],u=t[2],d=0,p=[];d<l.length;d++)r=l[d],i[r]&&p.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0233":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"ellipse-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.EllipseShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"43e79b7e",null);t["default"]=u.exports},"0af2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-controller",props:{cloneable:{default:function(){return!1},type:Boolean},image:String},computed:{opengraphRole:function(){return"sub-controller"}},data:function(){return{id:this.uuid(),element:null,cloneComponent:null}},watch:{$props:{handler:function(){this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeSubContollers(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addSubContollers(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},addCloneElement:function(e){this.cloneComponent=e},removeControllerElement:function(){this.cloneComponent=null},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"1f6879e8",null);t["default"]=s.exports},"0f68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.canvas?e._t("default"):e._e(),n("div",{staticClass:"canvas-wrapper"},[n("div",{staticClass:"canvas-container",attrs:{id:e.id}})]),n("v-card",{staticStyle:{position:"relative",height:"200px"}},[n("v-card-text",{staticStyle:{position:"absolute"},attrs:{id:e.sliderId}})],1)],2)},i=[],o={name:"opengraph",props:{slider:{default:function(){return!1},type:Boolean},width:{default:function(){return 4e3},type:Number},height:{default:function(){return 4e3},type:Number},scale:{default:function(){return 1},type:Number},scaleMin:{default:function(){return.1},type:Number},scaleMax:{default:function(){return 10},type:Number},backgroundColor:{default:function(){return"#f9f9f9"},type:String},backgroundImage:String,imageBase:{default:function(){return location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/"},type:String},poolDropEvent:{default:function(){return!1},type:Boolean},automaticGuidance:{default:function(){return!0},type:Boolean},spotOnSelect:{default:function(){return!1},type:Boolean},autoSliderUpdate:{default:function(){return!0},type:Boolean},autoHistory:{default:function(){return!1},type:Boolean},wheelScalable:{default:function(){return!1},type:Boolean},dragPageMovable:{default:function(){return!1},type:Boolean},focusCanvasOnSelect:{default:function(){return!1},type:Boolean},checkBridgeEdge:{default:function(){return!1},type:Boolean},stickGuide:{default:function(){return!0},type:Boolean},navigator:{default:function(){return!1},type:Boolean},selectable:{default:function(){return!0},type:Boolean},dragSelectable:{default:function(){return!0},type:Boolean},movable:{default:function(){return!0},type:Boolean},resizable:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!0},type:Boolean},selfCloneable:{default:function(){return!1},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},groupDropable:{default:function(){return!0},type:Boolean},dragGridable:{default:function(){return!0},type:Boolean},enableHotkey:{default:function(){return!0},type:Boolean},enableHotkeyCtrlZ:{default:function(){return!0},type:Boolean},enableHotkeyDelete:{default:function(){return!0},type:Boolean},enableHotkeyCtrlA:{default:function(){return!0},type:Boolean},enableHotkeyCtrlC:{default:function(){return!0},type:Boolean},enableHotkeyCtrlV:{default:function(){return!0},type:Boolean},enableHotkeyCtrlD:{default:function(){return!0},type:Boolean},enableHotkeyCtrlG:{default:function(){return!0},type:Boolean},enableHotkeyCtrlU:{default:function(){return!0},type:Boolean},enableHotkeyArrow:{default:function(){return!0},type:Boolean},enableHotkeyShiftArrow:{default:function(){return!0},type:Boolean},enableContextmenu:{default:function(){return!0},type:Boolean},enableRootContextmenu:{default:function(){return!0},type:Boolean},defaultStyleShape:{default:function(){return{cursor:"default"}},type:Object},defaultStyleGeometry:{default:function(){return{stroke:"black","fill-r":".5","fill-cx":".5","fill-cy":".5",fill:"white","fill-opacity":0,"label-position":"center"}},type:Object},defaultStyleText:{default:function(){return{stroke:"none","text-anchor":"middle"}},type:Object},defaultStyleHtml:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleImage:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleSvg:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1.5,"stroke-opacity":1,"edge-type":"plain","arrow-start":"none","arrow-end":"block","stroke-dasharray":"","label-position":"center","stroke-linejoin":"round",cursor:"pointer"}},type:Object},defaultStyleGroup:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"white","fill-opacity":0,"stroke-dasharray":"- ","shape-rendering":"crispEdges",cursor:"move"}},type:Object},defaultStyleGuideUl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nwse-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideRc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLwc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleVirtualEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1,"stroke-opacity":1,"stroke-dasharray":"- ","stroke-linejoin":"round","arrow-start":"none","arrow-end":"none"}},type:Object},defaultStyleRubberBand:{default:function(){return{stroke:"#0000FF",opacity:.2,fill:"#0077FF"}},type:Object},defaultStyleDropOverBbox:{default:function(){return{stroke:"#0077FF",fill:"none",opacity:.3,"shape-rendering":"crispEdges"}},type:Object},defaultStyleLabel:{default:function(){return{"font-size":12,"font-color":"black",fill:"none"}},type:Object},defaultStyleConnectGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"none","stroke-dasharray":"- ","shape-rendering":"crispEdges"}},type:Object},defaultStyleConnectGuideSpotCircle:{default:function(){return{r:7,stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.5,cursor:"pointer"}},type:Object},defaultStyleConnectGuideSpotRect:{default:function(){return{stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.2,cursor:"ns-resize",w:20,h:10}},type:Object},defaultStyleConnectableHighlight:{default:function(){return{}},type:Object}},data:function(){let e=this.uuid(),t=e+"-slider";return{props:JSON.parse(JSON.stringify(this.$props)),id:e,sliderId:t,canvas:null,elements:{},container:null,timerMap:{renderingTime:{}}}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)"object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(console.log(a,e[a],t[a]),n=!0):e[a]!=t[a]&&(n=!0,console.log(a,e[a],t[a]));n&&this.canvas&&this.setCanvasConfiguration(this.canvas)},deep:!0}},computed:{opengraphRole:function(){return"canvas"}},mounted:function(){this.render(),this.bindEvents();var e=this;window.Vue.OGBus.$on("renderingTime",function(t,n){e.timerMap.renderingTime[t]||(e.timerMap.renderingTime[t]=0),e.timerMap.renderingTime[t]+=n})},methods:{setCanvasConfiguration:function(e){var t=this;e._CONTAINER=$(this.$el).find(".canvas-wrapper")[0],this.container=e._CONTAINER,e._CONFIG.CANVAS_BACKGROUND=this.backgroundColor,e._CONFIG.IMAGE_BASE=this.imageBase,e._CONFIG.SCALE_MIN=this.scaleMin,e._CONFIG.SCALE_MAX=this.scaleMax,$(e.getRootElement()).css({"background-color":t.backgroundColor}),t.backgroundImage&&$(e.getRootElement()).css({"background-image":t.backgroundImage}),e.setCanvasSize([t.width,t.height]),e._CONFIG.POOL_DROP_EVENT=this.poolDropEvent,e._CONFIG.AUTOMATIC_GUIDANCE=this.automaticGuidance,e._CONFIG.SPOT_ON_SELECT=this.spotOnSelect,e._CONFIG.AUTO_SLIDER_UPDATE=this.autoSliderUpdate,e._CONFIG.AUTO_HISTORY=this.autoHistory,e._CONFIG.WHEEL_SCALABLE=this.wheelScalable,e._CONFIG.DRAG_PAGE_MOVABLE=this.dragPageMovable,e._CONFIG.FOCUS_CANVAS_ONSELECT=this.focusCanvasOnSelect,e._CONFIG.CHECK_BRIDGE_EDGE=this.checkBridgeEdge,e._CONFIG.STICK_GUIDE=this.stickGuide,e._CONFIG.SELECTABLE=this.selectable,e._CONFIG.DRAG_SELECTABLE=this.dragSelectable,e._CONFIG.MOVABLE=this.movable,e._CONFIG.RESIZABLE=this.resizable,e._CONFIG.CONNECTABLE=this.connectable,e._CONFIG.SELF_CONNECTABLE=this.selfConnectable,e._CONFIG.CONNECT_CLONEABLE=this.selfCloneable,e._CONFIG.CONNECT_STYLE_CHANGE=this.connectStyleChange,e._CONFIG.LABEL_EDITABLE=this.labelEditable,e._CONFIG.GROUP_DROPABLE=this.groupDropable,e._CONFIG.DRAG_GRIDABLE=this.dragGridable,e._CONFIG.ENABLE_CONTEXTMENU=this.enableContextmenu,e._CONFIG.ENABLE_ROOT_CONTEXTMENU=this.enableRootContextmenu,e._CONFIG.ENABLE_HOTKEY=this.enableHotkey,e._CONFIG.ENABLE_HOTKEY_CTRL_Z=this.enableHotkeyCtrlZ,e._CONFIG.ENABLE_HOTKEY_DELETE=this.enableHotkeyDelete,e._CONFIG.ENABLE_HOTKEY_CTRL_A=this.enableHotkeyCtrlA,e._CONFIG.ENABLE_HOTKEY_CTRL_C=this.enableHotkeyCtrlC,e._CONFIG.ENABLE_HOTKEY_CTRL_V=this.enableHotkeyCtrlV,e._CONFIG.ENABLE_HOTKEY_CTRL_D=this.enableHotkeyCtrlD,e._CONFIG.ENABLE_HOTKEY_CTRL_G=this.enableHotkeyCtrlG,e._CONFIG.ENABLE_HOTKEY_CTRL_U=this.enableHotkeyCtrlU,e._CONFIG.ENABLE_HOTKEY_ARROW=this.enableHotkeyArrow,e._CONFIG.ENABLE_HOTKEY_SHIFT_ARROW=this.enableHotkeyShiftArrow,e._CONFIG.DEFAULT_STYLE.SHAPE=this.defaultStyleShape,e._CONFIG.DEFAULT_STYLE.GEOM=this.defaultStyleGeometry,e._CONFIG.DEFAULT_STYLE.TEXT=this.defaultStyleText,e._CONFIG.DEFAULT_STYLE.HTML=this.defaultStyleHtml,e._CONFIG.DEFAULT_STYLE.IMAGE=this.defaultStyleImage,e._CONFIG.DEFAULT_STYLE.SVG=this.defaultStyleSvg,e._CONFIG.DEFAULT_STYLE.EDGE=this.defaultStyleEdge,e._CONFIG.DEFAULT_STYLE.GROUP=this.defaultStyleGroup,e._CONFIG.DEFAULT_STYLE.GUIDE_BBOX=this.defaultStyleGuideBbox,e._CONFIG.DEFAULT_STYLE.GUIDE_UL=this.defaultStyleGuideUl,e._CONFIG.DEFAULT_STYLE.GUIDE_UR=this.defaultStyleGuideUr,e._CONFIG.DEFAULT_STYLE.GUIDE_LL=this.defaultStyleGuideLl,e._CONFIG.DEFAULT_STYLE.GUIDE_LR=this.defaultStyleGuideLr,e._CONFIG.DEFAULT_STYLE.GUIDE_LC=this.defaultStyleGuideLc,e._CONFIG.DEFAULT_STYLE.GUIDE_UC=this.defaultStyleGuideUc,e._CONFIG.DEFAULT_STYLE.GUIDE_RC=this.defaultStyleGuideRc,e._CONFIG.DEFAULT_STYLE.GUIDE_LWC=this.defaultStyleGuideLwc,e._CONFIG.DEFAULT_STYLE.GUIDE_VIRTUAL_EDGE=this.defaultStyleVirtualEdge,e._CONFIG.DEFAULT_STYLE.RUBBER_BAND=this.defaultStyleRubberBand,e._CONFIG.DEFAULT_STYLE.DROP_OVER_BBOX=this.defaultStyleDropOverBbox,e._CONFIG.DEFAULT_STYLE.LABEL=this.defaultStyleLabel,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_BBOX=this.defaultStyleConnectGuideBbox,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_CIRCLE=this.defaultStyleConnectGuideSpotCircle,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_RECT=JSON.parse(JSON.stringify(this.defaultStyleConnectGuideSpotRect)),e._CONFIG.DEFAULT_STYLE.CONNECTABLE_HIGHLIGHT=this.defaultStyleConnectableHighlight,this.slider?(console.log(e._CONTAINER),e._CONFIG.SLIDER||(e.addSlider({slider:$("#"+this.sliderId),left:20,width:200,height:300,appendTo:"body",position:{my:"bottom",at:"bottom",of:e._CONTAINER}}),$("#"+this.sliderId).css("position","absolute"))):e.removeSlider()},getElementById:function(e){return this.elements[e]},render:function(){OG.renderer.RaphaelRenderer.prototype.getContainer=function(){return this._PAPER.canvas.parentNode.parentNode};var e=new OG.Canvas(this.id,[this.width,this.height],this.backgroundColor,this.backgroundImage?"url("+this.backgroundImage+")":null);this.setCanvasConfiguration(e),e.initConfig({}),this.canvas=e,this.$emit("canvasReady",this)},bindEvents:function(){var e=this;e.canvas&&(e.canvas.onDrawShape(function(t,n){e.$emit("drawShape",e.getElementById(n.id)||n)}),e.canvas.onAddHistory(function(t){for(var n in e.$ModelingBus.$emit("MoveEvent"),e.elements)e.elements[n].emitElement();e.$emit("userAction"),e.$nextTick(function(){e.canvas.setCanvasSize([4e3,4e3])})}),e.canvas.onDivideLane(function(t,n){e.$emit("divideLane",e.getElementById(n.id)||n)}),e.canvas.onDrawLabel(function(t,n,a){e.$emit("drawLabel",e.getElementById(n.id)||n,a)}),e.canvas.onLabelChanged(function(t,n,a,i){e.$emit("labelChanged",e.getElementById(n.id)||n,a,i)}),e.canvas.onBeforeLabelChange(function(t,n,a,i){e.$emit("beforeLabelChange",e.getElementById(n.id)||n,a,i)}),e.canvas.onRedrawShape(function(t,n){e.$emit("redrawShape",e.getElementById(n.id)||n)}),e.canvas.onRemoveShape(function(t,n){e.$emit("removeShape",e.getElementById(n.id)||n)}),e.canvas.onRotateShape(function(t,n,a){e.$emit("Rotate",e.getElementById(n.id)||n,a)}),e.canvas.onMoveShape(function(t,n,a){e.$emit("moveShape",e.getElementById(n.id)||n,a)}),e.canvas.onResizeShape(function(t,n,a){console.log("resize"),e.$emit("resizeShape",e.getElementById(n.id)||n,a)}),e.canvas.onBeforeConnectShape(function(t,n,a,i){var o;return e.$emit("beforeConnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i,function(e){o=e}),o}),e.canvas.onBeforeRemoveShape(function(t,n){var a;return e.$emit("beforeRemoveShape",e.getElementById(n.id)||n,function(e){a=e}),a}),e.canvas.onConnectShape(function(t,n,a,i){e.$emit("connectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onDisconnectShape(function(t,n,a,i){e.$emit("disconnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onGroup(function(t,n){e.$emit("group",e.getElementById(n.id)||n)}),e.canvas.onUnGroup(function(t,n){for(var a=[],i=0;i<n.lenght;i++)a.push(e.getElementById(n[i].id)||n[i]);e.$emit("unGroup",a)}),e.canvas.onCollapsed(function(t,n){e.$emit("collapsed",e.getElementById(n.id)||n)}),e.canvas.onExpanded(function(t,n){e.$emit("expanded",e.getElementById(n.id)||n)}),e.canvas.onDuplicated(function(t,n,a,i){e.$emit("clone",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}))},addElement:function(e,t){this.elements[t]=e},removeElement:function(e){var t,n=this;if(this.$emit("beforeDestroyElement",n.getElementById(e),function(e){t=e}),"boolean"!=typeof t||t){delete this.elements[e];var a=this.canvas.getElementById(e);a&&($(a).removeAttr("_toedge"),$(a).removeAttr("_fromedge"),this.canvas.removeShape(a,!0))}else console.log("beforeDestroyElement, prevent remove!!",e)},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},printTimer:function(e,t){var n=t-e;console.log("Total progress time",n),console.log("Canvas Rendering time",JSON.stringify(this.timerMap,null,2)),this.timerMap={renderingTime:{}}}}},r=o,l=(n("ff1c"),n("2877")),s=n("6544"),u=n.n(s),c=n("b0af"),d=n("99d9"),p=Object(l["a"])(r,a,i,!1,null,"728b094f",null);t["default"]=p.exports;u()(p,{VCard:c["a"],VCardText:d["b"]})},1:function(e,t){},1150:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("group-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,_style:{stroke:"black"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addToGroup:e.onAddToGroup}},[n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,"sub-style":{"font-weight":"bold","font-size":"16"},text:e.value.inputText}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,aggregateList:e.aggregateList},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=n("8e15"),l={components:{GroupElement:r["default"]},mixins:[o["default"]],name:"bounded-context-definition",props:{},computed:{defaultStyle(){return{}},type(){return"bounded"},className(){return"org.uengine.uml.model.bounded"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Bounded Context",elementView:{_type:"org.uengine.uml.model.bounded",id:e,x:t,y:n,width:300,height:300,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"Bounded Context"+t,dataList:[],restApi:String}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,aggregateList:[]}},created:function(){},watch:{"value.dataList":function(){var e=this;e.value.dataList.length>1&&e.value.dataList.forEach(function(t){t.boundedContext=e.value.inputText})},"value.inputText":function(e){var t=this;this.value.elementView.x=this.value.elementView.x+1,this.$nextTick(function(){this.value.elementView.x=this.value.elementView.x-1}),t.value.dataList.length>1&&t.value.dataList.forEach(function(t){t.boundedContext=e})}},mounted:function(){var e=this.value.elementView.id,t=$("#"+e);t.parent().children().first().before(t)},methods:{}},s=l,u=n("2877"),c=Object(u["a"])(s,a,i,!1,null,"a5cefaf2",null);t["default"]=c.exports},"1c10":function(e,t,n){},"1c71":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"Class"==e.value.name?n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{attrs:{absolute:"",right:"",width:"390"},model:{value:e.navigationDrawer,callback:function(t){e.navigationDrawer=t},expression:"navigationDrawer"}},[n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.action",fn:function(t){t.item;return[n("v-icon",{attrs:{small:""},on:{click:function(e){}}},[e._v("\n                        delete\n                    ")])]}}],null,!1,3285296258)}),n("v-layout",{staticStyle:{align:"center"},attrs:{"justify-center":"",row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-left":"10px","margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Value",required:""},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1)],1),n("v-layout",{attrs:{"justify-end":"",wrap:""}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.UMLEntityADD(e.entityType,e.entityName)}}},[e._v("ADD Attribute\n                ")])],1)],1)],1)],1):n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{attrs:{absolute:"",right:"",width:"390"},model:{value:e.navigationDrawer,callback:function(t){e.navigationDrawer=t},expression:"navigationDrawer"}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.titleName))])],1)],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-divider"),"Relation"==e.value.name&&"org.uengine.uml.model.Domain"==e.value.sourceElement._type?n("v-card",[n("v-card-text",[n("span",{staticClass:"headline"},[e._v("Type")]),n("v-layout",[n("v-col",[n("v-radio-group",{staticStyle:{"padding-left":"10px"},model:{value:e.radioCheck,callback:function(t){e.radioCheck=t},expression:"radioCheck"}},[n("v-radio",{attrs:{label:"Event-Driven(Pub/Sub)",value:"RestAPI"}}),n("v-radio",{attrs:{label:"Request & Response(Restful)",value:"Restful"}})],1),n("v-select",{attrs:{disabled:"Restful"!=e.radioCheck,items:e.restApiList,label:"Request & Response(Restful)"},model:{value:e.restApiType,callback:function(t){e.restApiType=t},expression:"restApiType"}})],1)],1)],1)],1):n("v-card",{attrs:{outlined:""}},[n("v-card-text",[e.titleName?n("span",{staticClass:"headline"},[e._v(e._s(e.titleName)+" Name")]):e._e(),n("v-textarea",{attrs:{name:"input-7-1",outline:"",label:"Input Text","auto-grow":""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e.usedTranslate?n("v-card",{attrs:{outlined:""}},[n("v-card-text",{on:{click:function(t){return e.changeTranslate()}}},[e._v("\n                            추천 단어 : "+e._s(e.translateText)+"\n                        ")]),n("v-card-text",[e._v("\n                            선택시 변경 됩니다.\n                        ")])],1):e._e(),"Event"==e.value.name||"Aggregate"==e.value.name?n("span",{staticClass:"headline"},[e._v("Attributes")]):e._e(),"Event"==e.value.name||"Aggregate"==e.value.name?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.entity,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return["id"!=a.name?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteEntity(e.entity,a)}}},[e._v("\n                                        delete\n                                    ")]):e._e()]}}],null,!1,1053864923)}),n("v-row",{attrs:{justify:"center"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1)],1),n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.entityADD(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1)],1)],1):e._e(),"Command"==e.value.name?n("v-layout",[n("v-autocomplete",{attrs:{items:e.restApiList,label:"REST API TYPE","persistent-hint":""},model:{value:e.restApiType,callback:function(t){e.restApiType=t},expression:"restApiType"}})],1):e._e(),"Event"==e.value.name||"Policy"==e.value.name||"Command"==e.value.name||"external"==e.value.name?n("span",{staticClass:"headline"},[e._v("Associated Aggregate")]):e._e(),"Event"==e.value.name||"Policy"==e.value.name||"Command"==e.value.name||"external"==e.value.name?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-autocomplete",{staticStyle:{"margin-left":"20px","margin-right":"20px"},attrs:{items:e.aggregateList,label:"Select Aggregate","persistent-hint":""},model:{value:e.aggregate,callback:function(t){e.aggregate=t},expression:"aggregate"}})],1)],1):"Aggregate"==e.value.name?n("v-layout",[n("v-divider",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{dark:""}}),n("v-btn",{attrs:{block:"",color:"info",rounded:""},on:{click:function(t){return e.umlDiagramOpen()}}},[e._v(" Edit Domain Model by UML")])],1):e._e(),"Event"==e.value.name?n("span",{staticClass:"headline"},[e._v("Trigger")]):e._e(),"Event"==e.value.name?n("v-layout",{attrs:{flat:""}},[n("v-radio-group",{staticStyle:{"padding-left":"10px"},model:{value:e.publishType,callback:function(t){e.publishType=t},expression:"publishType"}},[n("v-row",[n("v-col",[n("v-radio",{attrs:{label:"Pre Persist",value:"@PrePersist"}}),n("v-radio",{attrs:{label:"Pre Update",value:"@PreUpdate"}}),n("v-radio",{attrs:{label:"Pre Delete",value:"@PreDelete"}})],1),n("v-col",[n("v-radio",{attrs:{label:"Post Persist",value:"@PostPersist"}}),n("v-radio",{attrs:{label:"Post Update",value:"@PostUpdate"}}),n("v-radio",{attrs:{label:"Post Delete",value:"@PostDelete"}})],1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)},i=[],o=n("36b0")("AIzaSyCS67nhTX1VfLgtEb-YbMDxFQ7pHGn-jeA"),r=n("99ac"),l={name:"modeling-property-panel",props:{drawer:Boolean,value:Object,titleName:String,inputText:String,publishType:String,connectAggregateName:String,connectAggregateEntity:Array,otherList:Array,img:String,innerAggregate:Object,entity:Array,fieldDescriptors:Array},computed:{aggregateList:function(){var e=this.$parent.getComponent("modeling-designer"),t=[];return e.value.definition.forEach(function(e){"org.uengine.uml.model.Aggregate"==e._type&&t.push(e.inputText)}),t},commandNameList:function(){var e=this.$parent.getComponent("modeling-designer"),t=[],n=!1;return this.innerAggregate.command.forEach(function(a){0==e.value.relation.length?t.push(a.inputText):(e.value.relation.forEach(function(i,o){i.from==a.elementView.id&&(n=!0),e.value.relation.length-1==o&&0==n&&t.push(a.inputText)}),n=!1)}),t},domainNameList:function(){var e=this.$parent.getComponent("modeling-designer"),t=[],n=!1;return this.innerAggregate.event.forEach(function(a){0==e.value.relation.length?t.push(a.inputText):(e.value.relation.forEach(function(i,o){i.to==a.elementView.id&&(n=!0),e.value.relation.length-1==o&&0==n&&t.push(a.inputText)}),n=!1)}),t}},data:function(){return{radioCheck:"",navigationDrawer:!1,_item:this.value,preventWatch:!1,x:null,y:null,width:null,height:null,style:[],active:null,tracingTag:null,input:"",angle:null,selectAggregate:"",selectEvent:"",selectCommand:"",connectedList:[],connectedListName:{},componentKey:0,restApiList:["GET","POST","PATCH","DELETE"],restApiType:"",entityTypeList:["int","String","float","double","long"],entityType:"",entityName:"",aggregate:"",headers:[{text:"type",value:"type",align:"center"},{text:"name",value:"name",align:"center"},{text:"Actions",value:"action",sortable:!1,align:"center"}],translateText:"",usedTranslate:!1,UMLInput:""}},created:function(){},mounted:function(){},watch:{radioCheck:function(e){var t=this;"RestAPI"==e&&t.restApiTypeSet(t.value,"Pub/Sub")},restApiType:function(e){var t=this;console.log(t.value,e),"org.uengine.uml.model.Command"==t.value._type?t.value.restApi=e:"org.uengine.uml.model.relation"==t.value._type&&t.restApiTypeSet(t.value,e)},publishType:function(e){console.log(e),this.$emit("update:publishType",e)},inputText:function(e){this.input!=e&&(this.input=e)},input:function(e){var t=this;t.translateText="","Event"==this.value.name?o.detectLanguage(e,function(n,a){"ko"==a.language&&o.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=_.camelCase(r(n.translatedText).past_participle,{pascalCase:!0})})}):"policy"==this.value.name?o.detectLanguage(e,function(n,a){"ko"==a.language&&o.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=_.camelCase(n.translatedText,{pascalCase:!0})})}):o.detectLanguage(e,function(n,a){"ko"==a.language&&o.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=n.translatedText})}),"Aggregate"==this.titleName?this.$emit("update:inputText",e):"Boundary Context"==this.titleName?this.$emit("update:inputText",e):(this.value.name,this.selectAggregate.length>0?(this.$emit("update:inputText",e),this.$emit("update:aggregateText","\n \n \n Aggregate:\n"+this.selectAggregate)):this.$emit("update:inputText",e))},selectAggregate:function(e){this.$emit("update:aggregate",e),this.$emit("update:inputText",this.input),this.$emit("update:aggregateText","\n \n \n Aggregate:\n"+e)},drawer:function(e){this.navigationDrawer=e,this.inputText!=this.input&&(this.input=this.inputText)},navigationDrawer:{handler:function(e,t){this.$parent.getComponent("opengraph");"Aggregate"==this.titleName&&this.getRelation(),1==e?(this._item=this.value,this.value.elementView&&(this.x=this.value.elementView.x,this.y=this.value.elementView.y,this.width=this.value.elementView.width,this.height=this.value.elementView.height),this.$emit("update:drawer",e)):this.$emit("update:drawer",!1)}},x:function(e){this._item.elementView.x=e,this.$emit("update:value",this._item)},y:function(e){this._item.elementView.y=e,this.$emit("update:value",this._item)},width:function(e){this._item.elementView.width=e,this.$emit("update:value",this._item)},height:function(e){this._item.elementView.height=e,this.$emit("update:value",this._item)},angle:function(e){this._item.elementView.angle=e,this.$emit("update:value",this._item)},style:{handler:function(e,t){var n={};e&&e.length&&$.each(e,function(e,t){n[t.key]=t.value});var a=this._item.elementView||this._item.relationView;a.style=JSON.stringify(n),this.$emit("update:value",this._item)},deep:!0},aggregate:function(e){this.$emit("update:connectAggregateName",e)}},mounted:function(){},methods:{umlDiagramOpen(){var e=this;console.log("aa"),e.$ModelingBus.$emit("umlDiagram")},deleteEntity(e,t){var n=this;n.entity.forEach(function(e,a){e.name==t.name&&e.type==t.type&&(a>-1&&n.entity.splice(a,1),n.$emit("update:entity",n.entity))}),console.log(t)},UMLDeleteEntity(e,t){var n=this;n.UMLEntity.forEach(function(e,a){e.name==t.name&&e.type==t.type&&(a>-1&&n.UMLEntity.splice(a,1),n.$emit("update:UMLEntity",n.UMLEntity))})},restApiTypeSet(e,t){e.sourceElement.relationInfo=t,e.targetElement.relationInfo=t,e.targetElement.relationEventInfo=e.sourceElement,e.relationType=t},changeTranslate(){this.input=this.translateText,this.usedTranslate=!1},entityADD:function(e,t){var n=this;if(0!=e.length&&0!=t.length){let a={type:e,name:t,upName:t.charAt(0).toUpperCase()+t.slice(1)};n.entity.push(a),this.entityType="",this.entityName=""}else{var a=this.$parent.getComponent("modeling-designer");a.text="TYPE & NAME INPUT REQUEST",a.snackbar=!0}},UMLEntityADD:function(e,t){var n=this;if(0!=e.length&&0!=t.length){let a={type:e,name:t,upName:t.charAt(0).toUpperCase()+t.slice(1)};n.fieldDescriptors.push(a),this.entityType="",this.entityName=""}else{var a=this.$parent.getComponent("modeling-designer");a.text="TYPE & NAME INPUT REQUEST",a.snackbar=!0}},entitySub:function(e){var t=this;t.entity[e]=null,t.entity=t.entity.filter(e=>e)},addRelation:function(e,t){var n,a,i=this.$parent.getComponent("modeling-designer"),o=(this.$parent.getComponent("opengraph"),this);o.innerAggregate.command.forEach(function(t){t.inputText==e&&(n=t.elementView.id)}),o.innerAggregate.event.forEach(function(e){e.inputText==t&&(a=e.elementView.id)});var r=i.canvas.getElementById(n),l=i.canvas.getElementById(a);i.canvas._RENDERER._CANVAS.connect(r,l,null,null,null,null,null,null,null),this.selectCommand="",this.selectEvent="",this.getRelation(),this.$forceUpdate()},getRelation(){var e=this;e.connectedList=[];var t=this.$parent.getComponent("modeling-designer");let n=this.innerAggregate.command,a=this.innerAggregate.domain,i=t.value.relation;n.forEach(function(t){i.forEach(function(n){t.elementView.id==n.from&&a.forEach(function(a){a.elementView.id==n.to&&e.connectedList.push({to:t,from:a})})})})}}},s=l,u=(n("9ea8"),n("2877")),c=n("6544"),d=n.n(c),p=n("c6a6"),m=n("8336"),f=n("b0af"),h=n("99d9"),g=n("62ad"),v=n("8fea"),y=n("ce7e"),b=n("0e8f"),w=n("132d"),E=n("a722"),S=n("8860"),x=n("da13"),A=n("8270"),C=n("5d23"),O=n("f774"),T=n("67b6"),N=n("43a6"),k=n("0fd9"),V=n("b974"),R=n("8654"),I=n("a844"),L=Object(u["a"])(s,a,i,!1,null,null,null);t["default"]=L.exports;d()(L,{VAutocomplete:p["a"],VBtn:m["a"],VCard:f["a"],VCardText:h["b"],VCol:g["a"],VDataTable:v["a"],VDivider:y["a"],VFlex:b["a"],VIcon:w["a"],VLayout:E["a"],VList:S["a"],VListItem:x["a"],VListItemAvatar:A["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VNavigationDrawer:O["a"],VRadio:T["a"],VRadioGroup:N["a"],VRow:k["a"],VSelect:V["a"],VTextField:R["a"],VTextarea:I["a"]})},2:function(e,t){},2382:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uml-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"class-designer",props:{},data(){return{value:{},elementTypes:[{icon:"bpmn-icon-start-event-none",component:"class-definition",label:"Class",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},{icon:"bpmn-icon-start-event-none",component:"class-definition",label:"relation",width:"100",height:"100"}]}},created:function(){},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},2479:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"image-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.ImageShape(e.image,e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"7060f785",null);t["default"]=u.exports},"279b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[n("modal",{attrs:{name:"uml-modal",height:"80%",width:"80%"}},[n("class-modeler")],1),n("modal",{attrs:{name:"code-modal",height:"auto",width:"80%"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Code Preview")])]),n("v-card-text",[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"overflow-auto",staticStyle:{"margin-right":"15px","border-right":"1px solid black","max-height":"800px"},attrs:{lg:3,md:6,sm:2,id:"scroll-target"}},[n("v-treeview",{staticStyle:{"font-size":"15px","line-height":"15px"},attrs:{items:e.codeList,active:e.active,activatable:"","item-key":"name","open-on-click":"","return-object":"","open-all":""},on:{"update:active":function(t){e.active=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.file?n("v-icon",[e._v("\n                                        "+e._s(e.files[a.file])+"\n                                    ")]):n("v-icon",[e._v("\n                                        "+e._s(i?"mdi-folder-open":"mdi-folder")+"\n                                    ")])]}}])})],1),n("v-col",{attrs:{lg:8,md:8,sm:9}},[n("code-viewer",{model:{value:e.definitionSet,callback:function(t){e.definitionSet=t},expression:"definitionSet"}})],1)],1)],1)],1)],1),e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!0,resizable:!0,selectable:!0,connectable:!0,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.definition[a],callback:function(t){e.$set(e.value.definition,a,t)},expression:"value.definition[index]"}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.relation[a],callback:function(t){e.$set(e.value.relation,a,t)},expression:"value.relation[index]"}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-divider"),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px","font-variant-caps":"normal"},attrs:{color:"info"},nativeOn:{click:function(t){return e.codeModalShow(t)}}},[e._v("code\n                Preview\n            ")]),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px"},attrs:{color:"info"},nativeOn:{click:function(t){return e.generateZip(t)}}},[e._v("Download Archive\n            ")]),n("v-flex",{staticStyle:{display:"inline-block","max-width":"400px"},attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{label:"Project Name","single-line":""},on:{click:e.unselectedAll},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1),n("text-reader",{staticStyle:{display:"inline-block"},attrs:{importType:"json",fileName:e.projectName},on:{load:function(t){e.value=t},"update:fileName":function(t){e.projectName=t},"update:file-name":function(t){e.projectName=t}}}),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px"},attrs:{color:"info"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("SAVE\n            ")])],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}])},[n("span",[e._v(e._s(t.label))])])})],2)],1),n("v-snackbar",{attrs:{color:e.color,"multi-line":"multi-line"===e.mode,timeout:e.timeout,vertical:"vertical"===e.mode},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n        "),n("v-btn",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),r=n("ac57"),l=n("11c1"),s=n("782e"),u=n.n(s),c=n("21a6"),d=n("21a6"),p=n("7c39"),m={name:"modeling-designer",components:{TextReader:o["a"],saveAs:c["saveAs"],Pusher:u.a,CodeViewer:r["a"]},props:{elementTypes:Array},data(){return{files:{md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker"},code:"",active:[],canvas:null,dragPageMovable:!1,relationVueComponentName:"modeling-relation",value:{definition:[],relation:[]},UMLValue:{},items:[],enableHistoryAdd:!1,undoing:!1,undoed:!1,undoIndex:0,tmpValue:[],projectName:"",noPushUndo:!1,redoArray:[],undoArray:[],undoRedoArray:[],undoRedoIndex:0,currentIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",userId:"",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pusher:{},connectCount:0,connectInfo:[],show:!1,channel:{},members:[],valueTmp:{},pathTmp:[],maxWidth:0,maxHeight:0}},beforeDestroy:function(){this.canvas.removeSlider()},computed:{definitionSet(){return this.inputValue(this.active)},drawer:{get:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(e.value.definition));return n.length>0&&n.some(function(e,n){e.drawer&&(t=!0)}),t}},id:{get:function(){return this.projectName}},codeList:{get:function(){var e=this;let t=JSON.parse(JSON.stringify(e.items));return console.log(e.items),e.value.definition.forEach(function(e){var n={name:"",file:"txt",type:"",code:""};if("org.uengine.uml.model.bounded"==e._type){var a=[{name:"src",children:[{name:"main",children:[{name:"resources",children:[{name:"application.yml",file:"txt",code:"server:\n  port: 8080\n\n\neventTopic: eventTopic\n\n---\nspring:\n  profiles: default\n  kafka:\n#    bootstrap-servers: http://35.200.47.242:31090\n    bootstrap-servers: localhost:9092\n    consumer:\n      enable-auto-commit: true\n  jpa:\n    properties:\n      hibernate:\n        show_sql: true\n        format_sql: true\n\nlogging:\n  level:\n    org:\n      hibernate:\n        type: trace  \nserver:\n  port: 8085\n---\nspring:\n  profiles: docker\n  kafka:\n    bootstrap-servers: my-kafka.kafka.svc.cluster.local:9092\n    consumer:\n      enable-auto-commit: true\neventTopic: eventTopicDocker"}]},{name:"java",children:[{name:"com",children:[{name:"example",children:[{name:"template",children:[{name:"config"},{name:"Application.java",file:"java",code:"package com.example.template;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Lazy;\n\nimport javax.annotation.PostConstruct;\n\n@SpringBootApplication\npublic class Application {\n\n    protected static ApplicationContext applicationContext;\n    public static void main(String[] args) {\n        applicationContext = SpringApplication.run(Application.class, args);\n\n        }\n  }\n"},{name:"AbstractEvent.java",file:"java",code:"package com.example.template;\n\nimport org.springframework.stereotype.Service;\n\npublic class AbstractEvent {\n\n    String eventType;\n    String timestamp;\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    public void setEventType(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(String timestamp) {\n        this.timestamp = timestamp;\n    }\n\n}"}]}]}]}]}]}]},{name:"Dockerfile",file:"docker",code:'FROM openjdk:8u212-jdk-alpine\nCOPY target/*SNAPSHOT.jar app.jar\nEXPOSE 8080\nENTRYPOINT ["java","-Xmx400M","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar","--spring.profiles.active=docker"]'},{name:"README.md",file:"md",code:""},{name:"cloudbuild.yaml",file:"txt",code:"steps:\n  ### Test\n#  - id: 'test'\n#    name: 'gcr.io/cloud-builders/mvn'\n#    args: [\n#      'test',\n#      '-Dspring.profiles.active=test'\n#    ]\n  ### Build\n  - id: 'build'\n    name: 'gcr.io/cloud-builders/mvn'\n    args: [\n      'clean',\n      'package',\n      '-Dmaven.test.skip=true'\n    ]\n#    waitFor: ['test']\n  ### docker Build\n  - id: 'docker build'\n    name: 'gcr.io/cloud-builders/docker'\n    args:\n      - 'build'\n      - '--tag=gcr.io/$PROJECT_ID/$_PROJECT_NAME:$COMMIT_SHA'\n      - '.'\n  ### Publish\n  - id: 'publish'\n    name: 'gcr.io/cloud-builders/docker'\n    entrypoint: 'bash'\n    args:\n      - '-c'\n      - |\n        docker push gcr.io/$PROJECT_ID/$_PROJECT_NAME:$COMMIT_SHA\n  ### deploy\n  - id: 'deploy'\n    name: 'gcr.io/cloud-builders/gcloud'\n    entrypoint: 'bash'\n    args:\n      - '-c'\n      - |\n        PROJECT=$$(gcloud config get-value core/project)\n        gcloud container clusters get-credentials \"$${CLOUDSDK_CONTAINER_CLUSTER}\" \\\n          --project \"$${PROJECT}\" \\\n          --zone \"$${CLOUDSDK_COMPUTE_ZONE}\"\n        cat <<EOF | kubectl apply -f -\n        apiVersion: v1\n        kind: Service\n        metadata:\n          name: $_PROJECT_NAME\n          labels:\n            app: $_PROJECT_NAME\n        spec:\n          ports:\n            - port: 8080\n              targetPort: 8080\n          selector:\n            app: $_PROJECT_NAME\n        EOF\n        cat <<EOF | kubectl apply -f -\n        apiVersion: apps/v1\n        kind: Deployment\n        metadata:\n          name: $_PROJECT_NAME\n          labels:\n            app: $_PROJECT_NAME\n        spec:\n          replicas: 1\n          selector:\n            matchLabels:\n              app: $_PROJECT_NAME\n          template:\n            metadata:\n              labels:\n                app: $_PROJECT_NAME\n            spec:\n              containers:\n                - name: $_PROJECT_NAME\n                  image: gcr.io/$PROJECT_ID/$_PROJECT_NAME:$COMMIT_SHA\n                  ports:\n                    - containerPort: 8080\n        EOF\noptions:\n  env:\n    #    # location/name of GKE cluster (used by all kubectl commands)\n    - CLOUDSDK_COMPUTE_ZONE=asia-northeast1-a\n    - CLOUDSDK_CONTAINER_CLUSTER=standard-cluster-1"},{name:"mvnw",file:"shell",code:'#!/bin/sh\n# ----------------------------------------------------------------------------\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# "License"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n# ----------------------------------------------------------------------------\n\n# ----------------------------------------------------------------------------\n# Maven2 Start Up Batch script\n#\n# Required ENV vars:\n# ------------------\n#   JAVA_HOME - location of a JDK home dir\n#\n# Optional ENV vars\n# -----------------\n#   M2_HOME - location of maven2\'s installed home dir\n#   MAVEN_OPTS - parameters passed to the Java VM when running Maven\n#     e.g. to debug Maven itself, use\n#       set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n#   MAVEN_SKIP_RC - flag to disable loading of mavenrc files\n# ----------------------------------------------------------------------------\n\nif [ -z "$MAVEN_SKIP_RC" ] ; then\n\n  if [ -f /etc/mavenrc ] ; then\n    . /etc/mavenrc\n  fi\n\n  if [ -f "$HOME/.mavenrc" ] ; then\n    . "$HOME/.mavenrc"\n  fi\n\nfi\n\n# OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\nmingw=false\ncase "`uname`" in\n  CYGWIN*) cygwin=true ;;\n  MINGW*) mingw=true;;\n  Darwin*) darwin=true\n    # Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home\n    # See https://developer.apple.com/library/mac/qa/qa1170/_index.html\n    if [ -z "$JAVA_HOME" ]; then\n      if [ -x "/usr/libexec/java_home" ]; then\n        export JAVA_HOME="`/usr/libexec/java_home`"\n      else\n        export JAVA_HOME="/Library/Java/Home"\n      fi\n    fi\n    ;;\nesac\n\nif [ -z "$JAVA_HOME" ] ; then\n  if [ -r /etc/gentoo-release ] ; then\n    JAVA_HOME=`java-config --jre-home`\n  fi\nfi\n\nif [ -z "$M2_HOME" ] ; then\n  ## resolve links - $0 may be a link to maven\'s home\n  PRG="$0"\n\n  # need this for relative symlinks\n  while [ -h "$PRG" ] ; do\n    ls=`ls -ld "$PRG"`\n    link=`expr "$ls" : \'.*-> \\(.*\\)$\'`\n    if expr "$link" : \'/.*\' > /dev/null; then\n      PRG="$link"\n    else\n      PRG="`dirname "$PRG"`/$link"\n    fi\n  done\n\n  saveddir=`pwd`\n\n  M2_HOME=`dirname "$PRG"`/..\n\n  # make it fully qualified\n  M2_HOME=`cd "$M2_HOME" && pwd`\n\n  cd "$saveddir"\n  # echo Using m2 at $M2_HOME\nfi\n\n# For Cygwin, ensure paths are in UNIX format before anything is touched\nif $cygwin ; then\n  [ -n "$M2_HOME" ] &&\n    M2_HOME=`cygpath --unix "$M2_HOME"`\n  [ -n "$JAVA_HOME" ] &&\n    JAVA_HOME=`cygpath --unix "$JAVA_HOME"`\n  [ -n "$CLASSPATH" ] &&\n    CLASSPATH=`cygpath --path --unix "$CLASSPATH"`\nfi\n\n# For Mingw, ensure paths are in UNIX format before anything is touched\nif $mingw ; then\n  [ -n "$M2_HOME" ] &&\n    M2_HOME="`(cd "$M2_HOME"; pwd)`"\n  [ -n "$JAVA_HOME" ] &&\n    JAVA_HOME="`(cd "$JAVA_HOME"; pwd)`"\n  # TODO classpath?\nfi\n\nif [ -z "$JAVA_HOME" ]; then\n  javaExecutable="`which javac`"\n  if [ -n "$javaExecutable" ] && ! [ "`expr \\$javaExecutable\\ \'\\([^ ]*\\)\'" = "no" ]; then\n    # readlink(1) is not available as standard on Solaris 10.\n    readLink= `which readlink`\n    if [ ! `expr "$readLink" : \'\\([^ ]*\\)\'` = "no" ]; then\n      if $darwin ; then\n        javaHome="`dirname $javaExecutable\\`        javaExecutable="`cd $javaHome\\ && pwd -P `/javac"\n      else\n        javaExecutable="`readlink -f $javaExecutable `"\n      fi\n      javaHome="`dirname $javaExecutable\\ `"\n      javaHome=`expr "$javaHome" : \'\\(.*\\)/bin\'`\n      JAVA_HOME="$javaHome"\n      export JAVA_HOME\n    fi\n  fi\nfi\n\nif [ -z "$JAVACMD" ] ; then\n  if [ -n "$JAVA_HOME"  ] ; then\n    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then\n      # IBM\'s JDK on AIX uses strange locations for the executables\n      JAVACMD="$JAVA_HOME/jre/sh/java"\n    else\n      JAVACMD="$JAVA_HOME/bin/java"\n    fi\n  else\n    JAVACMD="`which java`"\n  fi\nfi\n\nif [ ! -x "$JAVACMD" ] ; then\n  echo "Error: JAVA_HOME is not defined correctly." >&2\n  echo "  We cannot execute $JAVACMD" >&2\n  exit 1\nfi\n\nif [ -z "$JAVA_HOME" ] ; then\n  echo "Warning: JAVA_HOME environment variable is not set."\nfi\n\nCLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher\n\n# traverses directory structure from process work directory to filesystem root\n# first directory with .mvn subdirectory is considered project base directory\nfind_maven_basedir() {\n\n  if [ -z "$1" ]\n  then\n    echo "Path not specified to find_maven_basedir"\n    return 1\n  fi\n\n  basedir="$1"\n  wdir="$1"\n  while [ "$wdir" != \'/\' ] ; do\n    if [ -d "$wdir"/.mvn ] ; then\n      basedir=$wdir\n      break\n    fi\n    # workaround for JBEAP-8937 (on Solaris 10/Sparc)\n    if [ -d "${wdir}" ]; then\n      wdir=`cd "$wdir/.."; pwd`\n    fi\n    # end of workaround\n  done\n  echo "${basedir}"\n}\n\n# concatenates all lines of a file\nconcat_lines() {\n  if [ -f "$1" ]; then\n    echo "$(tr -s \'\\n\' \' \' < "$1")"\n  fi\n}\n\nBASE_DIR=`find_maven_basedir "$(pwd)"`\nif [ -z "$BASE_DIR" ]; then\n  exit 1;\nfi\n\n##########################################################################################\n# Extension to allow automatically downloading the maven-wrapper.jar from Maven-central\n# This allows using the maven wrapper in projects that prohibit checking in binary data.\n##########################################################################################\nif [ -r "$BASE_DIR/.mvn/wrapper/maven-wrapper.jar" ]; then\n    if [ "$MVNW_VERBOSE" = true ]; then\n      echo "Found .mvn/wrapper/maven-wrapper.jar"\n    fi\nelse\n    if [ "$MVNW_VERBOSE" = true ]; then\n      echo "Couldn\'t find .mvn/wrapper/maven-wrapper.jar, downloading it ..."\n    fi\n    jarUrl="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.4.2/maven-wrapper-0.4.2.jar"\n    while IFS="=" read key value; do\n      case "$key" in (wrapperUrl) jarUrl="$value"; break ;;\n      esac\n    done < "$BASE_DIR/.mvn/wrapper/maven-wrapper.properties"\n    if [ "$MVNW_VERBOSE" = true ]; then\n      echo "Downloading from: $jarUrl"\n    fi\n    wrapperJarPath="$BASE_DIR/.mvn/wrapper/maven-wrapper.jar"\n\n    if command -v wget > /dev/null; then\n        if [ "$MVNW_VERBOSE" = true ]; then\n          echo "Found wget ... using wget"\n        fi\n        wget "$jarUrl" -O "$wrapperJarPath"\n    elif command -v curl > /dev/null; then\n        if [ "$MVNW_VERBOSE" = true ]; then\n          echo "Found curl ... using curl"\n        fi\n        curl -o "$wrapperJarPath" "$jarUrl"\n    else\n        if [ "$MVNW_VERBOSE" = true ]; then\n          echo "Falling back to using Java to download"\n        fi\n        javaClass="$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java"\n        if [ -e "$javaClass" ]; then\n            if [ ! -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then\n                if [ "$MVNW_VERBOSE" = true ]; then\n                  echo " - Compiling MavenWrapperDownloader.java ..."\n                fi\n                # Compiling the Java class\n                ("$JAVA_HOME/bin/javac" "$javaClass")\n            fi\n            if [ -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then\n                # Running the downloader\n                if [ "$MVNW_VERBOSE" = true ]; then\n                  echo " - Running MavenWrapperDownloader.java ..."\n                fi\n                ("$JAVA_HOME/bin/java" -cp .mvn/wrapper MavenWrapperDownloader "$MAVEN_PROJECTBASEDIR")\n            fi\n        fi\n    fi\nfi\n##########################################################################################\n# End of extension\n##########################################################################################\n\nexport MAVEN_PROJECTBASEDIR=${MAVEN_BASEDIR:-"$BASE_DIR"}\nif [ "$MVNW_VERBOSE" = true ]; then\n  echo $MAVEN_PROJECTBASEDIR\nfi\nMAVEN_OPTS="$(concat_lines "$MAVEN_PROJECTBASEDIR/.mvn/jvm.config") $MAVEN_OPTS"\n\n# For Cygwin, switch paths to Windows format before running java\nif $cygwin; then\n  [ -n "$M2_HOME" ] &&\n    M2_HOME=`cygpath --path --windows "$M2_HOME"`\n  [ -n "$JAVA_HOME" ] &&\n    JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"`\n  [ -n "$CLASSPATH" ] &&\n    CLASSPATH=`cygpath --path --windows "$CLASSPATH"`\n  [ -n "$MAVEN_PROJECTBASEDIR" ] &&\n    MAVEN_PROJECTBASEDIR=`cygpath --path --windows "$MAVEN_PROJECTBASEDIR"`\nfi\n\nWRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain\n\nexec "$JAVACMD" \\\n  $MAVEN_OPTS \\\n  -classpath "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \\\n  "-Dmaven.home=${M2_HOME}" "-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}" \\\n  ${WRAPPER_LAUNCHER} $MAVEN_CONFIG "$@"'},{name:"mvnw.cmd",file:"shell",code:"@REM ----------------------------------------------------------------------------\n@REM Licensed to the Apache Software Foundation (ASF) under one\n@REM or more contributor license agreements.  See the NOTICE file\n@REM distributed with this work for additional information\n@REM regarding copyright ownership.  The ASF licenses this file\n@REM to you under the Apache License, Version 2.0 (the\n@REM \"License\"); you may not use this file except in compliance\n@REM with the License.  You may obtain a copy of the License at\n@REM\n@REM    http://www.apache.org/licenses/LICENSE-2.0\n@REM\n@REM Unless required by applicable law or agreed to in writing,\n@REM software distributed under the License is distributed on an\n@REM \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n@REM KIND, either express or implied.  See the License for the\n@REM specific language governing permissions and limitations\n@REM under the License.\n@REM ----------------------------------------------------------------------------\n\n@REM ----------------------------------------------------------------------------\n@REM Maven2 Start Up Batch script\n@REM\n@REM Required ENV vars:\n@REM JAVA_HOME - location of a JDK home dir\n@REM\n@REM Optional ENV vars\n@REM M2_HOME - location of maven2's installed home dir\n@REM MAVEN_BATCH_ECHO - set to 'on' to enable the echoing of the batch commands\n@REM MAVEN_BATCH_PAUSE - set to 'on' to wait for a key stroke before ending\n@REM MAVEN_OPTS - parameters passed to the Java VM when running Maven\n@REM     e.g. to debug Maven itself, use\n@REM set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n@REM MAVEN_SKIP_RC - flag to disable loading of mavenrc files\n@REM ----------------------------------------------------------------------------\n\n@REM Begin all REM lines with '@' in case MAVEN_BATCH_ECHO is 'on'\n@echo off\n@REM set title of command window\ntitle %0\n@REM enable echoing my setting MAVEN_BATCH_ECHO to 'on'\n"+'@if "%MAVEN_BATCH_ECHO%" == "on"  echo %MAVEN_BATCH_ECHO%\n\n@REM set %HOME% to equivalent of $HOME\nif "%HOME%" == "" (set "HOME=%HOMEDRIVE%%HOMEPATH%")\n\n@REM Execute a user defined script before this one\nif not "%MAVEN_SKIP_RC%" == "" goto skipRcPre\n@REM check for pre script, once with legacy .bat ending and once with .cmd ending\nif exist "%HOME%\\mavenrc_pre.bat" call "%HOME%\\mavenrc_pre.bat"\nif exist "%HOME%\\mavenrc_pre.cmd" call "%HOME%\\mavenrc_pre.cmd"\n:skipRcPre\n\n@setlocal\n\nset ERROR_CODE=0\n\n@REM To isolate internal variables from possible post scripts, we use another setlocal\n@setlocal\n\n@REM ==== START VALIDATION ====\nif not "%JAVA_HOME%" == "" goto OkJHome\n\necho.\necho Error: JAVA_HOME not found in your environment. >&2\necho Please set the JAVA_HOME variable in your environment to match the >&2\necho location of your Java installation. >&2\necho.\ngoto error\n\n:OkJHome\nif exist "%JAVA_HOME%\\bin\\java.exe" goto init\n\necho.\necho Error: JAVA_HOME is set to an invalid directory. >&2\necho JAVA_HOME = "%JAVA_HOME%" >&2\necho Please set the JAVA_HOME variable in your environment to match the >&2\necho location of your Java installation. >&2\necho.\ngoto error\n\n@REM ==== END VALIDATION ====\n\n:init\n\n@REM Find the project base dir, i.e. the directory that contains the folder ".mvn".\n@REM Fallback to current working directory if not found.\n\nset MAVEN_PROJECTBASEDIR=%MAVEN_BASEDIR%\nIF NOT "%MAVEN_PROJECTBASEDIR%"=="" goto endDetectBaseDir\n\nset EXEC_DIR=%CD%\nset WDIR=%EXEC_DIR%\n:findBaseDir\nIF EXIST "%WDIR%"\\.mvn goto baseDirFound\ncd ..\nIF "%WDIR%"=="%CD%" goto baseDirNotFound\nset WDIR=%CD%\ngoto findBaseDir\n\n:baseDirFound\nset MAVEN_PROJECTBASEDIR=%WDIR%\ncd "%EXEC_DIR%"\ngoto endDetectBaseDir\n\n:baseDirNotFound\nset MAVEN_PROJECTBASEDIR=%EXEC_DIR%\ncd "%EXEC_DIR%"\n\n:endDetectBaseDir\n\nIF NOT EXIST "%MAVEN_PROJECTBASEDIR%\\.mvn\\jvm.config" goto endReadAdditionalConfig\n\n@setlocal EnableExtensions EnableDelayedExpansion\nfor /F "usebackq delims=" %%a in ("%MAVEN_PROJECTBASEDIR%\\.mvn\\jvm.config") do set JVM_CONFIG_MAVEN_PROPS=!JVM_CONFIG_MAVEN_PROPS! %%a\n@endlocal & set JVM_CONFIG_MAVEN_PROPS=%JVM_CONFIG_MAVEN_PROPS%\n\n:endReadAdditionalConfig\n\nSET MAVEN_JAVA_EXE="%JAVA_HOME%\\bin\\java.exe"\nset WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\\.mvn\\wrapper\\maven-wrapper.jar"\nset WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain\n\nset DOWNLOAD_URL="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.4.2/maven-wrapper-0.4.2.jar"\nFOR /F "tokens=1,2 delims==" %%A IN (%MAVEN_PROJECTBASEDIR%\\.mvn\\wrapper\\maven-wrapper.properties) DO (\n\tIF "%%A"=="wrapperUrl" SET DOWNLOAD_URL=%%B \n)\n\n@REM Extension to allow automatically downloading the maven-wrapper.jar from Maven-central\n@REM This allows using the maven wrapper in projects that prohibit checking in binary data.\nif exist %WRAPPER_JAR% (\n    echo Found %WRAPPER_JAR%\n) else (\n    echo Couldn\'t find %WRAPPER_JAR%, downloading it ...\n\techo Downloading from: %DOWNLOAD_URL%\n    powershell -Command "(New-Object Net.WebClient).DownloadFile(\'%DOWNLOAD_URL%\', \'%WRAPPER_JAR%\')"\n    echo Finished downloading %WRAPPER_JAR%\n)\n@REM End of extension\n\n%MAVEN_JAVA_EXE% %JVM_CONFIG_MAVEN_PROPS% %MAVEN_OPTS% %MAVEN_DEBUG_OPTS% -classpath %WRAPPER_JAR% "-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%" %WRAPPER_LAUNCHER% %MAVEN_CONFIG% %*\nif ERRORLEVEL 1 goto error\ngoto end\n\n:error\nset ERROR_CODE=1\n\n:end\n@endlocal & set ERROR_CODE=%ERROR_CODE%\n\nif not "%MAVEN_SKIP_RC%" == "" goto skipRcPost\n@REM check for post script, once with legacy .bat ending and once with .cmd ending\nif exist "%HOME%\\mavenrc_post.bat" call "%HOME%\\mavenrc_post.bat"\nif exist "%HOME%\\mavenrc_post.cmd" call "%HOME%\\mavenrc_post.cmd"\n:skipRcPost\n\n@REM pause the script if MAVEN_BATCH_PAUSE is set to \'on\'\nif "%MAVEN_BATCH_PAUSE%" == "on" pause\n\nif "%MAVEN_TERMINATE_CMD%" == "on" exit %ERROR_CODE%\n\nexit /B %ERROR_CODE%'},{name:"pom.xml",file:"xml",code:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n\txsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n\t<modelVersion>4.0.0</modelVersion>\n\t<parent>\n\t\t<groupId>org.springframework.boot</groupId>\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\n\t\t<version>2.1.1.RELEASE</version>\n\t\t<relativePath/> \x3c!-- lookup parent from repository --\x3e\n\t</parent>\n\t<groupId>com.example</groupId>\n\t<artifactId>boot-camp-products</artifactId>\n\t<version>0.0.1.BUILD-SNAPSHOT</version>\n\t<name>boot-camp-products</name>\n\t<description>Demo project for Spring Boot</description>\n\n\t<properties>\n\t\t<java.version>1.8</java.version>\n\t\t<spring-cloud.version>Greenwich.RELEASE</spring-cloud.version>\n\t</properties>\n\n\t<dependencies>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-data-rest</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.kafka</groupId>\n\t\t\t<artifactId>spring-kafka</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>com.h2database</groupId>\n\t\t\t<artifactId>h2</artifactId>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>com.google.code.gson</groupId>\n\t\t\t<artifactId>gson</artifactId>\n\t\t\t<version>2.8.5</version>\n\t\t\t<scope>compile</scope>\n\t\t</dependency>\n\t\t\n\t\t<dependency>\n\t\t\t<groupId>org.apache.commons</groupId>\n\t\t\t<artifactId>commons-lang3</artifactId>\n\t\t\t<version>3.8.1</version>\n\t\t</dependency>\n\n\t</dependencies>\n\n\t<dependencyManagement>\n\t\t<dependencies>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t\t<artifactId>spring-cloud-dependencies</artifactId>\n\t\t\t\t<version>${spring-cloud.version}</version>\n\t\t\t\t<type>pom</type>\n\t\t\t\t<scope>import</scope>\n\t\t\t</dependency>\n\t\t</dependencies>\n\t</dependencyManagement>\n\n\t<build>\n\t\t<plugins>\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n\t\t\t</plugin>\n\t\t</plugins>\n\t</build>\n\n</project>'}],i={name:e.inputText,children:a};t.push(i),e.dataList.forEach(function(e){"org.uengine.uml.model.Domain"==e._type&&e.inputText.length>0?(n.name=e.upName+".java",n.type=e._type,n.code=e.code,n.file="java",t.some(function(t,a){t.name==e.boundedContext&&t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(JSON.parse(JSON.stringify(n)))})):"org.uengine.uml.model.Aggregate"==e._type&&e.inputText.length>0?t.some(function(t,a){if(t.name==e.boundedContext){var i=JSON.parse(JSON.stringify(n));i.name=e.upName+"Repository.java",i.type=e._type,i.code=e.repositoryCode,i.file="java",t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(i);var o=JSON.parse(JSON.stringify(n));o.name=e.upName+".java",o.type=e._type,o.code=e.aggregateCode,o.file="java",t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(o);var r=JSON.parse(JSON.stringify(n));r.name=e.upName+"EventListener.java",r.type=e._type,r.code=e.eventListenerCode,r.file="java",t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(r);var l=JSON.parse(JSON.stringify(n));l.name=e.upName+"Controller.java",l.type=e._type,l.code=e.controllerCode,l.file="java",t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(l)}}):"org.uengine.uml.model.Policy"==e._type&&"Pub/Sub"==e.relationInfo&&(n.name=e.relationEventInfo.upName+".java",n.type=e.relationEventInfo._type,n.code=e.relationEventInfo.code,n.file="java",console.log(t),console.log(e),t.some(function(t,a){t.name==e.boundedContext&&t.children[0].children[0].children[1].children[0].children[0].children[0].children.push(JSON.parse(JSON.stringify(n)))}))})}}),t}}},created:function(){},mounted(){var e=this;this.userId=Object(l["v4"])(),e.$ModelingBus.$on("MoveEvent",function(){e.$nextTick(function(){e.undoArray.push(JSON.parse(JSON.stringify(e.value))),e.redoArray=[],e.value.definition.forEach(function(e){e.selected})})}),e.$ModelingBus.$on("umlDiagram",function(){e.umlModalShow(),e.$nextTick(function(){})}),this.userId=Object(l["v4"])(),e.pusher=new u.a("33169ca8c59c1f7f97cd",{cluster:"ap3"});const t=e.pusher.subscribe("paint");t.bind("draw",t=>{const{userId:n,newVal:a}=t;if(e.userId!==n){let t=!1;"class-relation"!=a.name?(e.value["definition"].some(function(n,i){if(n.elementView.id==a.elementView.id)return e.value["definition"]=[...e.value["definition"].slice(0,i),a,...e.value["definition"].slice(i)],void(t=!0)}),0==t&&e.value.definition.push(a)):e.value["relation"].some(function(t,n){"org.uengine.uml.model.bounded"==t._type?e.value["relation"].length-1==n&&e.value["relation"].push(element):e.value["relation"]=[...e.value["relation"].slice(0,n),element,...e.value["relation"].slice(n)]})}}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,e.undoArray.push({definition:[],relation:[]}),this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?this.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?this.paste():46==t.keyCode||8==t.keyCode?this.deleteActivity():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.redo():e.undo())})})},watch:{},methods:{inputValue(e){var t=[e];return t},codeModalShow(){this.$modal.show("code-modal")},umlModalShow(){this.$modal.show("uml-modal")},generateZip(){var e=this;e.codeList.forEach(function(t){t.file?(e.pathTmp.push({path:t.name,code:t.code}),console.log(t.name)):e.reverse(t.children,t.name)}),console.log(e.pathTmp);var t=new p,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){console.log("iterating over",e),console.log(t)})}),t.generateAsync({type:"blob"}).then(function(e){Object(c["saveAs"])(e,"archive.zip")})},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){console.log(e.name);var a=t+"/"+e.name;console.log(a),n.reverse(e.children,a)}else console.log(e.name),e.code&&(n.pathTmp.push({path:t+"/"+e.name,code:e.code}),console.log(n.pathTmp))})},codeModalhide(){this.$modal.hide("code-modal")},unselectedAll:function(){this.value.definition.forEach(function(e){console.log(e),e.selected=!1}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},connectshow:function(){var e=this;1==e.show?e.show=!1:e.show=!0},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){console.log("Trying saving zip ..."),console.log(t.data.length);var n=new Blob([t.data],{type:"application/zip"});console.log(n.size);var a=e.projectName+".zip";Object(c["saveAs"])(n,a),console.log("saveBlob succeeded")})},syncOthers(e){let t=this.userId,n=e;const a={newVal:n,userId:t};fetch("http://localhost:4000/paint",{method:"post",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(()=>console.log("throw"))},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var u=new Uint8Array(l);i.push(u)}var c=new Blob(i,{type:t});return c},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));null!=e.tempValue&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(t),e.redoArray.push(t)})}},download:function(){var e=this,t=JSON.stringify(e.value),n=this.projectName+".json",a=new File([t],n,{type:"text/json;charset=utf-8"});d.saveAs(a)},deleteBoundary(e,t){e.forEach(function(e,n){t.boundedContext==e.inputText&&"org.uengine.uml.model.bounded"==e._type&&(console.log(t.boundedContext,e.inputText),e.dataList.forEach(function(n,a){n.inputText==t.inputText&&n._type==t._type&&(console.log(e.dataList[a]),e.dataList[a]=null,e.dataList=e.dataList.filter(e=>e))}))})},deleteActivity:function(){var e=this;if(!e.drawer){let t=[],n=JSON.parse(JSON.stringify(e.value.definition)),a=JSON.parse(JSON.stringify(e.value.relation));n.forEach(function(a,i){a.selected&&(a.boundedContext&&e.deleteBoundary(n,a),t.push(a.elementView.id),n[i]=null)}),n=n.filter(e=>e),t.forEach(function(e){a.forEach(function(t,n){t.to!=e&&t.from!=e||(a[n]=null)})}),a=a.filter(e=>e),a.forEach(function(e,t){e.selected&&(a[t]=null)}),a=a.filter(e=>e),e.value.definition=n,e.value.relation=a}},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){console.log(e),console.log(t),console.log(n);var a,i,o=this,r=!1;if(e.shape?a=e:(r=!0,a=e.element),a&&t&&n){var l="["+a.shape.geom.vertices.toString()+"]",s={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:l,isFilled:!0,relationView:{style:JSON.stringify({}),value:l}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,r?(o.canvas.removeShape(a,!0),this.addElement(s,null,JSON.parse(JSON.stringify(i)))):(o.canvas.removeShape(a,!0),this.addElement(s))}},undoRedo:function(e){var t=this;t.drawer||("redo"==e?(console.log("redo"),t.currentIndex<t.undoRedoArray.length-1?(t.currentIndex=t.currentIndex+1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.currentIndex]))):(t.text="Last element",t.snackbar=!0,t.timeout=500)):"undo"==e&&(console.log("undo"),t.currentIndex>0?(t.currentIndex=t.currentIndex-1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.currentIndex]))):(t.text="Last Element",t.snackbar=!0,t.timeout=500)))},redo:function(){var e=this;if(!e.drawer&&e.redoArray.length>0){var t=e.redoArray.pop();e.value=JSON.parse(JSON.stringify(t)),0==e.undoArray.length&&0==e.value.length&&e.undoArray.push({definition:[],relation:[]}),e.undoArray.push(JSON.parse(JSON.stringify(t)))}},undo:function(){var e=this;e.drawer||(e.undoArray.length>1?(e.redoArray.push(e.undoArray[e.undoArray.length-1]),e.undoArray.pop(),e.value=JSON.parse(JSON.stringify(e.undoArray[e.undoArray.length-1]))):1==e.undoArray.length&&(e.undoArray.pop(),e.undoArray.push(JSON.parse(JSON.stringify(e.value)))))},addElement:function(e,t,n){this.enableHistoryAdd=!0;var a,i=this,o=i.getComponentByName(e.component);a="class-relation"==e.component?o.computed.createNew(e.sourceElement.value,e.targetElement.value,e.vertices):o.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height),null==i.value&&(i.value={definition:[],relation:[]}),"org.uengine.uml.model.relation"==a._type?i.value["relation"].push(a):i.value["definition"].push(a),i.undoArray.push(JSON.parse(JSON.stringify(i.value))),i.redoArray=[]},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}},f=m,h=(n("5ce3"),n("2877")),g=n("6544"),v=n.n(g),y=n("8336"),b=n("b0af"),_=n("99d9"),w=n("62ad"),E=n("ce7e"),S=n("0e8f"),x=n("132d"),A=n("a722"),C=n("0fd9"),O=n("2db4"),T=n("8654"),N=n("3a2f"),k=n("eb2a"),V=Object(h["a"])(f,a,i,!1,null,"be1a4e8e",null);t["default"]=V.exports;v()(V,{VBtn:y["a"],VCard:b["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:w["a"],VDivider:E["a"],VFlex:S["a"],VIcon:x["a"],VLayout:A["a"],VRow:C["a"],VSnackbar:O["a"],VTextField:T["a"],VTooltip:N["a"],VTreeview:k["a"]})},"2b3a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,rotateShape:e.onRotateShape,"update:label":function(t){return e.$set(e.value,"inputText",t)}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5FC08B",fill:"#5FC08B","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/view.png",aggregate:e.value.aggregate,aggregateList:e.aggregateList,connectAggregateName:e.value.connectAggregateName},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:titleName":function(t){return e.$set(e.value,"name",t)},"update:title-name":function(t){return e.$set(e.value,"name",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:aggregate":function(t){return e.$set(e.value,"aggregate",t)},"update:aggregateList":function(t){e.aggregateList=t},"update:aggregate-list":function(t){e.aggregateList=t},"update:connectAggregateName":function(t){return e.$set(e.value,"connectAggregateName",t)},"update:connect-aggregate-name":function(t){return e.$set(e.value,"connectAggregateName",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"view-definition",props:{},computed:{defaultStyle(){return{}},type(){return"View"},className(){return"org.uengine.uml.model.View"},createNew(e,t,n,a,i){return{_type:this.className(),name:"View",elementView:{_type:"org.uengine.uml.model.View",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",restApi:"",editing:!1,connectAggregateName:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,aggregateList:[]}},created:function(){},watch:{"value.connectAggregateName":function(e){console.log(e);var t=this,n=this.getComponent("modeling-designer");console.log(t.value.inputText),n.value.definition.forEach(function(n){console.log(n.inputText,e),"org.uengine.uml.model.Aggregate"==n._type&&n.inputText==e&&n.innerAggregate[t.type.toLowerCase()].push(t.value.inputText)})}},mounted:function(){},methods:{}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"37fa4688",null);t["default"]=u.exports},"2fa1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"vertical-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalPoolShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"48c2ae94",null);t["default"]=u.exports},3:function(e,t){},3758:function(e,t,n){"use strict";var a=n("ed3c"),i=n.n(a);i.a},"3a94":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-polygon",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15],[60,5],[20,5]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Polygon(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"1e774895",null);t["default"]=u.exports},4:function(e,t){},"446f":function(e,t,n){var a={"./ClassModeler.vue":"2382","./EventModeler.vue":"72ea","./elements/AggregateDefinition.vue":"57a6","./elements/BoundedContext.vue":"1150","./elements/ClassDefinition.vue":"62f8","./elements/ClassRelation.vue":"9241","./elements/CommandDefinition.vue":"6e2d","./elements/DomainEventDefinition.vue":"84db","./elements/ExternalDefinition.vue":"cc89","./elements/PolicyDefinition.vue":"8a68","./elements/ViewDefinition.vue":"2b3a"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="446f"},"482a":function(e,t,n){},5:function(e,t){},"50c8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-ellipse",props:{center:{default:function(){return[10,10]},type:Array},radiusX:{default:function(){return 10},type:Number},radiusY:{default:function(){return 5},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Ellipse(this.center,this.radiusX,this.radiusY,this.angle),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"fb6c0026",null);t["default"]=u.exports},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),i=n("f309");a["a"].use(i["a"]);var o=new i["a"]({icons:{iconfont:"mdi"}}),r=(n("bf40"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.items,function(t){return[a("v-list-item",{key:t.text,attrs:{ripple:"",to:t.route}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                            "+e._s(t.text)+"\n                        ")])],1)],1)]})],2)],1),a("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"700px"}},[a("v-layout",[a("v-app-bar-nav-icon",{staticStyle:{"margin-right":"20px"},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-img",{attrs:{"max-height":"45","max-width":"220",src:n("ad8f")}}),a("div",{staticClass:"font-weight-bold",staticStyle:{"font-size":"16px","margin-top":"24px"}},[e._v(" by uEngine")])],1)],1),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"white"},on:{click:function(t){e.overlay=!0}}},[a("v-icon",{attrs:{medium:""}},[e._v("info")])],1),e.authorized?a("v-btn",{attrs:{text:"",color:"white"},on:{click:function(t){return e.logout()}}},[e._v("\n            Logout\n        ")]):e._e(),e.authorized?e._e():a("v-btn",{attrs:{text:"",color:"white"},on:{click:function(t){return e.googleLogin()}}},[e._v("\n            Login\n        ")]),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",[e._v("settings")])],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("router-view")],1)],1)],1)],1),a("v-overlay",{attrs:{value:e.overlay,align:"end"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("youtube-media",{attrs:{"video-id":"K99_Q0qn0Oc","player-width":"1206","player-height":"658"}})],1),a("v-dialog",{staticStyle:{width:"700px",height:"700px"},model:{value:e.infoDialog,callback:function(t){e.infoDialog=t},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("How to use EventStorming-tool?")]),a("v-carousel",{attrs:{"show-arrows":"true"},model:{value:e.infoNum,callback:function(t){e.infoNum=t},expression:"infoNum"}},e._l(e.infoSlider,function(e,t){return a("v-carousel-item",{key:e,attrs:{src:e}})}),1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1,e.kubeToken="",e.kubeHost=""}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){return e.saveSetting()}}},[e._v("Save")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Connection Setting")]),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Host",hint:"Ex) https://api.k8s.bzdvops.com",outline:""},model:{value:e.kubeHost,callback:function(t){e.kubeHost=t},expression:"kubeHost"}})],1)],1)],1),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Token",outline:""},model:{value:e.kubeToken,callback:function(t){e.kubeToken=t},expression:"kubeToken"}})],1)],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{color:"error",timeout:1e4},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        Click Setting & Insert Infomation\n        "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)}),l=[],s=n("bc3a"),u=n.n(s),c=n("24f8"),d=n.n(c),p={data:()=>({infoSlider:["https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png","https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"],infoNum:0,dialog:!1,drawer:!1,isLogin:!1,infoDialog:!1,kubeHost:"",kubeToken:"",items:[{icon:"fa-sticky-note",text:"EventStorming",route:"/"}],api:[],snackbar:!1,fab:!1,overlay:!0}),props:{source:String},components:{axios:u.a,https:d.a},beforeDestroy(){window.localStorage.removeItem("accessToken")},computed:{activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},authorized(){return null==window.localStorage.getItem("accessToken")?(window.authorized=!1,!1):window.localStorage.getItem("accessToken")?(this.$http.defaults.headers.common["Authorization"]=`Bearer ${localStorage.accessToken}`,window.authorized=!0,!0):void 0},userInfo(){return 1==this.authorized?this.$jwt.decode():null}},created:function(){if(null==window.localStorage.getItem("accessToken")){if(this.$route.query.access_token){localStorage.setItem("accessToken",this.$route.query.access_token);var e=window.location.protocol+"//"+window.location.host+"/";window.location.href=e}}else this.$http.defaults.headers.common["Authorization"]=`Bearer ${localStorage.accessToken}`},watch:{},mounted(){var e=this;1==e.authorized&&this.$http.get(`${API_HOST}/kube/user/getUserDetail?username=`+e.userInfo.user_name).then(t=>{e.kubeHost=t.data.host,e.kubeToken=t.data.token;let n={kubeHost:t.data.host,kubeToken:t.data.token,userName:e.userInfo.user_name};this.$store.dispatch("LOGIN",n)}).catch(t=>{t.toString().includes("500")&&(e.snackbar=!0)})},methods:{saveSetting(){var e=this;e.dialog=!1,this.$http.put(`${API_HOST}/kube/user/saveUserDetail`,{username:e.userInfo.user_name,host:e.kubeHost,token:e.kubeToken}).then(t=>{let n={kubeHost:e.kubeHost,kubeToken:e.kubeHost,userName:e.userInfo.user_name};e.$store.dispatch("LOGIN",n)})},googleLogin(){localStorage.accessToken&&localStorage.removeItem("accessToken"),window.location.href="http://service-oauth-lhgws4pe7a-uc.a.run.app/login/google?redirect_uri=http://localhost:8081"},logout(){console.log("logout"),window.localStorage.removeItem("accessToken");var e=window.location.protocol+"//"+window.location.host+"/";window.location.href=e,this.$store.commit("LOGOUT")}}},m=p,f=n("2877"),h=n("6544"),g=n.n(h),v=n("7496"),y=n("40dc"),b=n("5bc1"),_=n("8336"),w=n("b0af"),E=n("99d9"),S=n("5e66"),x=n("3e35"),A=n("a523"),C=n("a75b"),O=n("169a"),T=n("0e8f"),N=n("132d"),k=n("adda"),V=n("a722"),R=n("8860"),I=n("da13"),L=n("1800"),M=n("5d23"),D=n("f774"),P=n("a797"),B=n("2db4"),j=n("2fa4"),G=n("e0c7"),H=n("8654"),J=n("71d9"),F=n("2a7f"),U=Object(f["a"])(m,r,l,!1,null,null,null),z=U.exports;g()(U,{VApp:v["a"],VAppBar:y["a"],VAppBarNavIcon:b["a"],VBtn:_["a"],VCard:w["a"],VCardTitle:E["c"],VCarousel:S["a"],VCarouselItem:x["a"],VContainer:A["a"],VContent:C["a"],VDialog:O["a"],VFlex:T["a"],VIcon:N["a"],VImg:k["a"],VLayout:V["a"],VList:R["a"],VListItem:I["a"],VListItemAction:L["a"],VListItemContent:M["a"],VListItemTitle:M["b"],VNavigationDrawer:D["a"],VOverlay:P["a"],VSnackbar:B["a"],VSpacer:j["a"],VSubheader:G["a"],VTextField:H["a"],VToolbar:J["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var Y=n("8c4f"),W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[e._l(e.stormingList,function(t,a){return n("v-col",{key:t.id,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[n("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg",height:"200px"}}),n("v-card-title",[e._v("\n                    "+e._s(t.name)+"\n                ")]),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:"event/"+t.id.toString()}},[e._v("Edit")]),n("v-btn",{attrs:{color:"purple",text:""}},[e._v("\n                        Explore\n                    ")])],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}},[n("v-btn",{attrs:{text:"",block:""},on:{click:function(t){e.addDialog=!0}}},[e._v(" 추가 ")])],1)],1)],2),n("v-dialog",{attrs:{width:"300px"},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[n("v-card",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-btn",{on:{click:e.stormingListAdd}},[e._v(" 추가")])],1)],1)],1)},K=[],q={name:"EventStormingListPage",data(){return{stormingList:[{id:1,name:"initData"}],addDialog:!1,name:"Test"}},methods:{stormingListAdd(){var e=this;let t={id:e.stormingList.length,name:e.name};e.stormingList.push(t),e.addDialog=!1}}},X=q,Z=n("62ad"),Q=n("0fd9"),ee=Object(f["a"])(X,W,K,!1,null,"34a38e77",null);ee.exports;g()(ee,{VBtn:_["a"],VCard:w["a"],VCardActions:E["a"],VCardTitle:E["c"],VCol:Z["a"],VContainer:A["a"],VDialog:O["a"],VImg:k["a"],VRow:Q["a"],VTextField:H["a"]});var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},ne=[],ae=(n("60a3"),{name:"Introduce"}),ie=ae,oe=Object(f["a"])(ie,te,ne,!1,null,"66fb0dfd",null),re=(oe.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.value&&"org.uengine.uml.ClassDiagram"==e.value._type?n("class-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e(),e.value&&"org.uengine.kernel.ProcessDefinition"==e.value._type?n("process-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e()],1)}),le=[],se={props:{backend:Object,path:String},data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){this.load()},methods:{load:function(){var e=this;e.value=null,e.$nextTick(function(){var t={};e.backend.$bind("definition/raw/"+e.path+".json",t),t.$load().then(function(t){t&&(e.value=t.definition)})})}}},ue=se,ce=Object(f["a"])(ue,re,le,!1,null,null,null),de=ce.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("md-layout",[n("md-layout",{attrs:{"md-flex":"20"}},[e.id&&e.id.indexOf("@")>-1?n("md-layout",[e.isProduction?n("div",[n("md-button",{staticClass:"md-primary"},[e._v("this is production (rev. "+e._s(e.id.substring(e.id.indexOf("@")+1))+")")])],1):n("md-button",{staticClass:"md-raised md-accent",on:{click:e.markProduction}},[e._v("Mark Production (rev\n          "+e._s(e.id.substring(e.id.indexOf("@")+1))+")\n        ")])],1):e._e(),e.versions?n("md-layout",[n("md-button",{staticClass:"md-primary",on:{click:e.loadVersions}},[e._v("latest version")])],1):e._e(),e.monitor?n("md-list",{staticClass:"tree-list"},[n("bpmn-tree-list",{attrs:{trees:e.trees}})],1):e._e()],1),n("md-layout",{nativeOn:{contextmenu:function(t){return e.openMenu(t)},mousedown:function(t){return e.closeMenu(t)}}},[0==e.loaded?n("div",{staticStyle:{position:"absolute",left:"48%",top:"37%","z-index":"99999"}},[n("md-spinner",{staticStyle:{"z-index":"99999"},attrs:{"md-size":90,"md-indeterminate":""}})],1):e._e(),e.definition?n("bpmn-vue",{ref:"bpmn-vue",staticClass:"fullcanvas",style:e.cursorStyle,attrs:{definition:e.definition,monitor:e.monitor,backend:e.backend,dragPageMovable:e.dragPageMovable,loaded:e.loaded},on:{"update:definition":function(t){e.definition=t},bpmnReady:e.bindEvents,"update:loaded":function(t){e.loaded=t}}}):e._e(),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"100px"}},[n("span",{staticClass:"bpmn-icon-hand-tool hands",style:e.handsStyle,attrs:{_width:"30",_height:"30"},on:{click:e.changeMultiple}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Drag On/Off")])],1),e._l(e.dragItems,function(t){return n("span",{staticClass:"icons draggable",class:t.icon,attrs:{_component:t.component,_width:t.width,_height:t.height}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v(e._s(t.label))])],1)})],2),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"427px"}},[n("span",{staticClass:"icons fa fa-undo",staticStyle:{"margin-left":"7px"},on:{click:e.undo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Undo")])],1),n("span",{staticClass:"icons fa fa-repeat",staticStyle:{"margin-left":"7px"},on:{click:e.redo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Redo")])],1)]),n("md-layout",[e.monitor?e._e():n("md-layout",[n("md-input-container",[n("label",[e._v("Process Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.definitionName,callback:function(t){e.definitionName=t},expression:"definitionName"}})],1)],1),e.versions?n("md-layout",[n("md-input-container",[n("label",[e._v("Revision")]),n("md-select",{on:{change:e.changeVersion},model:{value:e.selectedVersion,callback:function(t){e.selectedVersion=t},expression:"selectedVersion"}},e._l(e.versions.slice().reverse(),function(t){return n("md-option",{attrs:{value:t}},[e._v("rev. "+e._s(t.ver)+"\n                "),e.productionVersionId==t.versionId?n("md-chip",[e._v("production")]):e._e()],1)}),1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openDefinitionSettings}},[n("md-icon",[e._v("settings")]),e._v("\n            Settings\n          ")],1)],1),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openProcessVariables}},[n("md-icon",[e._v("sort_by_alpha")]),e._v("\n            Vars\n          ")],1)],1),!e.monitor&&e.definition?n("md-layout",{staticStyle:{"max-width":"200px"}},[n("md-input-container",[n("label",[e._v("Language")]),n("md-select",{on:{change:e.changeLocale},model:{value:e.definition._selectedLocale,callback:function(t){e.$set(e.definition,"_selectedLocale",t)},expression:"definition._selectedLocale"}},[n("md-option",{attrs:{value:"ko"}},[e._v("Korean")]),n("md-option",{attrs:{value:"en"}},[e._v("English")])],1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",{staticStyle:{"margin-left":"30px"}},[e.monitor?e._e():n("md-button",{staticClass:"md-fab md-primary md-mini",on:{click:e.initiateProcess}},[n("md-icon",[e._v("play_arrow")])],1),e.monitor?e._e():n("md-button",{staticClass:"md-fab md-warn md-mini",on:{click:e.save}},[e.id&&-1==e.id.indexOf("@")?n("md-icon",[e._v("save")]):n("md-icon",[e._v("history")])],1)],1),e.monitor?n("md-layout",[n("md-input-container",[n("label",[e._v("Instance Name")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.instanceName,callback:function(t){e.instanceName=t},expression:"instanceName"}})],1)],1):e._e(),e.monitor?n("md-layout",[n("md-button",{attrs:{id:"instanceVariables"},on:{click:e.openInstanceVariables}},[e._v("Variables")]),e.definition?n("bpmn-instance-variables",{ref:"instanceVariables",attrs:{id:e.instanceId,definition:e.definition}}):e._e(),n("md-button",{attrs:{id:"userPicker"},on:{click:e.openUserPicker}},[e._v("Role Mappings")]),e.definition?n("user-picker",{ref:"userPicker",staticStyle:{"min-width":"70%"},attrs:{id:e.instanceId,roles:e.definition.roles}}):e._e()],1):e._e()],1)],1)],1),e._m(0),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"custom-menu"},[n("li",{attrs:{"data-action":"backToHere"}},[e._v("Back To Here")])])}],fe={props:{monitor:Boolean,backend:Object,id:String,value:{default:function(){return{_type:"org.uengine.kernel.ProcessDefinition",name:{},childActivities:["java.util.ArrayList",[]],sequenceFlows:[],_selectedLocale:"ko",_changedByLocaleSelector:!1}},type:Object},instanceId:String,rootInstanceId:String},data(){return{loaded:!1,copyActivity:[],beforeTracing:[],afterTracing:[],contextMenuActivated:!1,definition:null,definitionName:null,instanceName:null,processVariables:[],dialog:!1,items:[],active:!1,mode:"editor",shapeMenu:!1,dragPageMovable:!1,cursorStyle:null,handsStyle:null,versions:null,selectedVersion:null,isProduction:!1,productionVersionId:null,dragItems:[{icon:"bpmn-icon-start-event-none",component:"bpmn-start-event",label:"Start Event",width:"30",height:"30"},{icon:"bpmn-icon-intermediate-event-none",component:"bpmn-intermediate-event",label:"Intermediate Event",width:"30",height:"30"},{icon:"bpmn-icon-end-event-none",component:"bpmn-end-event",label:"End Event",width:"30",height:"30"},{icon:"bpmn-icon-gateway-xor",component:"bpmn-exclusive-gateway",label:"Gateway",width:"40",height:"40"},{icon:"bpmn-icon-task",component:"bpmn-task",label:"Task",width:"100",height:"70"},{icon:"bpmn-icon-subprocess-expanded",component:"bpmn-subprocess",width:"200",height:"150"},{icon:"bpmn-icon-participant",component:"bpmn-role",label:"Role Lane",width:"400",height:"200"}],trees:[],bthTracingTag:""}},computed:{},mounted(){$(document).keydown(e=>{67==e.keyCode&&(e.metaKey||e.ctrlKey)&&this.copy()}),$(document).keydown(e=>{86==e.keyCode&&(e.ctrlKey||e.metaKey)&&this.paste()}),$(document).keydown(e=>{46!=e.keyCode&&8!=e.keyCode||this.deleteActivity()});var e=this;e.setMode(),$(".custom-menu li").click(function(){switch($(this).attr("data-action")){case"backToHere":e.onBackToHere();break}$(".custom-menu").hide(0)})},watch:{instanceId:function(e){this.setMode()}},methods:{changeMultiple:function(){0==this.dragPageMovable&&0==this.active?(this.dragPageMovable=!0,this.active=!0,this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):1==this.dragPageMovable&&1==this.active&&(this.dragPageMovable=!1,this.active=!1,this.cursorStyle=null,this.handsStyle=null)},openProcessVariables(){this.$refs["bpmn-vue"].openProcessVariables()},openDefinitionSettings(){this.$refs["bpmn-vue"].openDefinitionSettings()},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&($(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.$refs["bpmn-vue"].addComponenet(o)}a.removeData("DRAG_SHAPE")}}))},copy:function(){var e=this;e.copyActivity=[],e.copySquenceFlow=[],this.definition.childActivities[1].forEach(function(t){t&&t._selected&&(e.copyActivity.push(t),e.beforeTracing=e.copyActivity.map(function(e){var t=e.tracingTag;return t}))}),e.copyActivity.length>0?e.$root.$children[0].success("Copied."):e.$root.$children[0].success("Not Selected")},deleteActivity:function(){for(var e=this,t=[],n=e.$children[0].$children[1].$children[3],a=!1,i=0;i<n.$children[0].$children.length;i++)1==n.$children[0].$children[i].drawer&&(a=!0);if(0==a){console.log("Delete Activity");for(var o=0;o<e.definition.childActivities[1].length;o++)null!=e.definition.childActivities[1][o]&&1==e.definition.childActivities[1][o]._selected&&(console.log(e.definition.childActivities[1][o]),t.push(e.definition.childActivities[1][o].tracingTag),e.definition.childActivities[1][o]=null);for(var r=0;r<e.definition.sequenceFlows.length;r++)if(e.definition.sequenceFlows[r])for(var l=0;l<t.length;l++)if(e.definition.sequenceFlows[r].sourceRef==t[l])for(var s=0;s<t.length;s++)e.definition.sequenceFlows[r].targetRef==t[s]&&(e.definition.sequenceFlows[r]=null);for(s=0;s<e.definition.sequenceFlows.length;s++)null!=e.definition.sequenceFlows[s]&&1==e.definition.sequenceFlows[s].selected&&(e.definition.sequenceFlows[s]=null);for(l=0;l<e.definition.messageFlows.length;l++)null!=e.definition.messageFlows[l]&&1==e.definition.messageFlows[l].selected&&(e.definition.messageFlows[l]=null)}var u=e.definition.sequenceFlows;e.definition.sequenceFlows=null,e.definition.sequenceFlows=u},paste:function(){for(var e=this,t=e.$refs["bpmn-vue"],n=!1,a=0;a<t.$children[0].$children.length;a++)1==t.$children[0].$children[a].drawer&&(n=!0);0==n&&(e.afterTracing=[],e.copyActivity.forEach(function(n){var a=JSON.parse(JSON.stringify(n)),i=parseInt(n.elementView.x+20),o=parseInt(n.elementView.y+20);a.tracingTag=t.createNewTracingTag(e.definition),a._selected=!1,a.elementView.x=i,a.elementView.y=o,a.elementView.id=a.tracingTag,e.afterTracing.push(a.tracingTag),e.definition.childActivities[1].push(a)}),e.definition.sequenceFlows.forEach(function(t,n,a){if(t)for(var i=JSON.parse(JSON.stringify(t)),o=0;o<e.beforeTracing.length;o++)if(i.sourceRef==e.beforeTracing[o])for(var r=0;r<e.beforeTracing.length;r++)i.targetRef==e.beforeTracing[r]&&(i.sourceRef=e.afterTracing[o],i.targetRef=e.afterTracing[r],i.relationView.value="",e.definition.sequenceFlows.push(i))}))},undo:function(){this.$refs["bpmn-vue"].undo()},redo:function(){this.$refs["bpmn-vue"].redo()},setMode:function(){var e=this;e.loaded=!1,e.definition=null,e.$nextTick(function(){e.monitor?e.getInstance():e.getDefinition()})},getInstance:function(){var e=this,t={};e.backend.$bind("instance/"+e.instanceId,t),t.$load().then(function(t){e.instanceName=t.name,t.definition.$load().then(function(t){e.definitionName=t.name,t.raw.$load().then(function(t){var n=t.definition;e.loadStatus(n),e.treeStructure()})})})},loadVersions:function(){var e=this,t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(t){e.productionVersionId=t.prodVerId,t.versions&&t.versions.$load().then(function(t){t&&t.length>0&&(e.versions=t,e.selectedVersion=t[t.length-1])})})},changeVersion:function(){window.open("#/definition/"+this.id+"@"+this.selectedVersion.versionId,"_blank")},markProduction:function(){var e=this,t={};e.backend.$bind("version/"+e.id.substring(e.id.indexOf("@")+1),t),t.$load().then(function(){t.makeProduction.$create().then(function(){e.$root.$children[0].success("설정되었습니다."),e.isProduction=!0},function(){e.$root.$children[0].error("저장할 수 없습니다.")})})},treeStructure:function(){var e=this,t={};e.backend.$bind("instances/search/findChild?instId="+e.rootInstanceId,t);var n=[];t.$load().then(function(t){for(var a in t)if(t[a]instanceof Object){var i=t[a].$bind.self,o=i.substring(i.lastIndexOf("/")+1,i.length);n[a]={name:t[a].defName,id:parseInt(o),rootInstId:t[a].rootInstId,mainInstId:t[a].mainInstId,children:[]}}e.trees=e.listToTree(n,e.rootInstanceId)})},listToTree:function(e,t){var n=[],a=JSON.parse(JSON.stringify(e)),i=function(n){var o=n.id;e.forEach(function(e,r){e.id!=o&&e.id!=t&&e.mainInstId==o&&(n.children.push(a[r]),i(a[r]))})};return e.forEach(function(e,o){e.id==t&&(n.push(a[o]),i(a[o]))}),n},loadStatus:function(e){var t=this;t.$root.codi("instance{/id}/variables").get({id:t.instanceId}).then(function(n){for(var a in n.data){var i=a.split(":");if(i&&i.length>1){var o=i[0],r=i[1],l=t.getActivity(o,e);l&&(l._instanceInfo||(l._instanceInfo={}),l._instanceInfo[r]=n.data[a],"_status"==r&&(l.status=n.data[a]))}}t.definition=e})},getActivity:function(e,t){var n=this;for(var a in t||(t=n.definition),t.childActivities[1])if(t.childActivities[1][a]["tracingTag"]==e)return t.childActivities[1][a]},updateElementStatus:function(e,t){},getDefinition:function(){var e=this,t=JSON.parse(JSON.stringify(e.value));t._selectedLocale="ko",t._changedByLocaleSelector=!1,e.definition=t,e.definitionName=e.definition.name.text,e.changeLocale(),this.loadVersions()},save:function(e){var t=this,n=JSON.parse(JSON.stringify(t.definition));if(t.definitionName||(t.definitionName=prompt("Specify definition name"),t.definitionName)){t.id||(t.id=t.definitionName),n.name.text=t.definitionName;var a=function(e){return e.filter(function(e){return!!e})};n.roles=a(n.roles);var i=function(e){e&&(e.sequenceFlows&&e.sequenceFlows.length&&(e.sequenceFlows=a(e.sequenceFlows)),e.messageFlows&&e.messageFlows.length&&(e.messageFlows=a(e.messageFlows)),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&(e.childActivities[1]=a(e.childActivities[1]),$.each(e.childActivities[1],function(e,n){"org.uengine.kernel.HumanActivity"==n._type&&(n.role.name=t.$refs["bpmn-vue"].getWhereRoleAmIByTracingTag(n.tracingTag),console.log("HumanActivity "+n.name.text+" saved role as "+n.role.name)),i(n)})))};i(n,null),n.shortDescription=this.$refs["bpmn-vue"].defintionSettings.shortDescription;var o={};t.backend.$bind("definition/raw/"+t.id+".json",o),o.definition=n,o.$save().then(function(n){t.$root.$children[0].success("저장되었습니다."),t.loadVersions(),e&&"function"===typeof e&&e(n)},function(e){t.$root.$children[0].error("저장할 수 없습니다.")}),t.$refs["modeler-image-generator"].save(t.id,t.$refs["bpmn-vue"].canvas)}},initiateProcess:function(){var e=this;this.save(function(){var t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(e){e.instantiation.$create(null,{simulation:!0}).then(function(e){window.open("#/instance/"+e.instanceId+"/"+e.instanceId,"_blank")})})})},openInstanceVariables(e){this.$refs["instanceVariables"].openInstanceVariables()},openUserPicker(e){this.$refs["userPicker"].openUserPicker()},openMenu(e){var t=this;t.monitor&&t.instanceOpenMenu(e)},instanceOpenMenu(e){e.preventDefault();var t=this,n=t.definition.childActivities[1],a="",i="";for(var o in n)n[o].tracingTag==e.toElement.parentNode.id&&(a=n[o]._type,i=n[o].status,t.bthTracingTag=n[o].tracingTag,n[o].faultMessage&&n[o]._faultMessage);a=a.substring(a.lastIndexOf(".")+1,a.length),"Task"!=a&&"SendTask"!=a&&"ReceiveTask"!=a&&"UserTask"!=a&&"ManualTask"!=a&&"BusinessTask"!=a&&"ServiceTask"!=a&&"ScriptTask"!=a&&"HumanActivity"!=a&&"DefaultActivity"!=a||"Completed"==i&&$(".custom-menu").finish().show(0).css({top:e.offsetY+"px",left:e.offsetX+"px"})},closeMenu(){!$(event.target).parents(".custom-menu").length>0&&$(".custom-menu").hide(0)},onBackToHere(){var e=this,t="instance/"+e.instanceId+"/activity/"+e.bthTracingTag+"/backToHere",n={};e.backend.$bind(t,n),n.$create().then(function(){e.$root.$children[0].success("작업 내역을 선택한 위치로 되돌렸습니다."),setInterval(function(){e.$router.go(e.$router.currentRoute)},1500)})},changeLocale(){var e=this;e.definition._changedByLocaleSelector=!0,e.definition.childActivities&&e.definition.childActivities[1].forEach(function(t){t&&t.name&&t.name.localedTexts&&t.name.localedTexts[e.definition._selectedLocale]&&(t.name.text=t.name.localedTexts[e.definition._selectedLocale])})}}},he=fe,ge=(n("f8be"),Object(f["a"])(he,pe,me,!1,null,"1935dc32",null)),ve=ge.exports,ye=n("72ea"),be=n("2382"),_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"image-gen",staticStyle:{display:"none"}})},we=[],Ee={data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){},methods:{load:function(e){return localStorage["svg-"+e]},save:function(e,t){var n=this;if(t){var a=t._RENDERER.getRootElement(),i=(new XMLSerializer).serializeToString(a),o=n.$refs["image-gen"];r(o,i,function(){localStorage["svg-"+e]=o.toDataURL()})}function r(e,t,n){var a=e.getContext("2d"),i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),o=self.URL||self.webkitURL||self,r=o.createObjectURL(i),l=new Image;l.onload=function(){e.width=600,e.height=300;try{a.drawImage(l,0,0,1e3,500,0,0,600,300),o.revokeObjectURL(r),n(this),$(l).remove()}catch(t){$(l).remove()}},l.src=r}}}},Se=Ee,xe=Object(f["a"])(Se,_e,we,!1,null,null,null),Ae=xe.exports;a["a"].use(Y["a"]),a["a"].component("modeler-router",de),a["a"].component("modeler-image-generator",Ae),a["a"].component("process-designer",ve),a["a"].component("event-modeler",ye["default"]),a["a"].component("class-modeler",be["default"]);var Ce=new Y["a"]({base:"/",routes:[{path:"/",name:"EventStorming",component:ye["default"]}]}),Oe=n("2f62");a["a"].prototype.$http=u.a,a["a"].use(Oe["a"]);var Te=new Oe["a"].Store({state:{accessToken:null,kubeHost:"",kubeToken:"",username:"",storeAuthorized:!1},getters:{getAuth(e){return e.storeAuthorized}},mutations:{LOGIN(e,t){e.kubeHost=t.kubeHost,e.kubeToken=t.kubeToken,e.username=t.userName,e.storeAuthorized=!0,u.a.defaults.headers.common["kubehost"]=e.kubeHost,u.a.defaults.headers.common["kubetoken"]=e.kubeToken},LOGOUT(e){e.kubeHost="",e.kubeToken="",e.storeAuthorized=!1}},actions:{LOGIN({commit:e},t){e("LOGIN",t)},LOGOUT({commit:e}){e("LOGOUT")}}}),Ne=n("9483");Object(Ne["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var ke=n("c051"),$e=n.n(ke),Ve=n("1881"),Re=n.n(Ve),Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticStyle:{"max-width":"65%"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("codemirror",{ref:"myCm",attrs:{options:{theme:"darcula",lineNumbers:!0,lineWrapping:!0},value:e.yaml_text},on:{focus:function(t){return e.onYamlFocus()}},model:{value:e.yaml_text,callback:function(t){e.yaml_text=t},expression:"yaml_text"}}),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[0==e.importFile?n("v-btn",{attrs:{color:"success",block:""},on:{click:function(t){e.importFile=!0}}},[e._v("\n                                LocalFile\n                            ")]):e._e(),1==e.importFile?n("text-reader",{attrs:{fileName:e.fileName,plainText:e.yaml_text,importType:"yaml"},on:{"update:fileName":function(t){e.fileName=t},"update:file-name":function(t){e.fileName=t},"update:plainText":function(t){e.yaml_text=t},"update:plain-text":function(t){e.yaml_text=t},load:function(t){e.yaml_text=t}}}):e._e()],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"success",block:""},on:{click:e.download}},[e._v("Download")])],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.$EventBus.$emit("deployStart")}}},[e._v("Deploy\n                            ")])],1)],1)],1)],1)],1),n("v-flex",{staticStyle:{width:"35%"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._l(e.ui_list,function(t){return["string"==t.ui_type&&"add"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"list"==t.ui_type&&"add"==e.status?n("v-autocomplete",{attrs:{items:e.depList,label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"==t.ui_type&&"edit"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name,readonly:""},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?"number"==t.ui_type?n("v-text-field",{attrs:{type:"number",label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e():n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}),"select"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?e._e():n("v-select",{attrs:{items:e.items,label:t.ui_name,label:"Service Type"},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})]})],2)],1)],1)],1)],1)},Le=[],Me=n("6eb3"),De=n("651e"),Pe=n.n(De),Be=n("8241"),je=n.n(Be),Ge=n("8f94"),He=n.n(Ge),Je=(n("ced0"),n("7ba3"),n("21a6")),Fe=n("21a6"),Ue={name:"EditYaml",props:["plainText","types","status","namespace"],data(){return{fab:!1,temp_text:"",ui_list:[],yaml_text:"",json_data:"",cursor_pos:"",channel:"yaml",auto_edit:!0,importFile:!1,items:["ClusterIP","NodePort","LoadBalancer","ExternalName"],depList:[]}},created:function(){var e=this;if(e.$EventBus.$on("postYAML",function(){e.$emit("update:plainText",e.yaml_text)}),"add"==e.status)if("pod"==e.types)e.createPod();else if("service"==e.types){e.createService();var t=e.namespace;"All"==t&&(t="default"),e.$http.get(`${API_HOST}/kube/v1/`+e.types+"/namespaces/"+t).then(t=>{t.data.forEach(function(t){e.depList.push(t.name)})})}else"deployment"==e.types&&e.createDeployment()},beforeDestroy:function(){console.log("destory"),this.$EventBus.$off("postYAML")},computed:{codemirror:function(){return this.$refs.myCm.codemirror},activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},fileName:{get:function(){var e,t=this;return t.ui_list.some(function(t){if(t.ui_name.includes("name"))return e=t.val}),e},set:function(e){var t=this;t.ui_list.some(function(n){if(n.ui_name.includes("name"))return n.val=e,t.uiToJson()})}}},components:{TextReader:Me["a"],yaml:Pe.a,json2yaml:je.a,codemirror:Ge["codemirror"],saveAs:Je["saveAs"]},methods:{createPod(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,name","spec,containers,0,name"],ui_name:"pod name",ui_type:"string",val:"name"},{key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:"0"},{key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:"image"}],e.yaml_text="apiVersion: v1\nkind: Pod\nmetadata:\n  name: \n  labels:\n    name: \nspec:\n  containers:\n  - name: \n    image: \n    ports:\n    - containerPort: 80"},download(){var e=this,t=e.yaml_text,n=e.fileName+".yaml",a=new File([t],n,{type:"text/yaml;charset=utf-8"});Fe.saveAs(a)},onYamlFocus(){let e=this;e.channel="yaml"},onUiFocus(){let e=this;e.channel="ui"},modifyJson(e,t,n){let a=this;if(t.length<=0)e=n;else{let i=t.splice(0,1);null==e[i]&&(e[i]={}),e[i]=a.modifyJson(e[i],t,n)}return e},findJson(e,t){let n=this,a=t.splice(0,1);return t.length<=0?e[a]:(null==e[a]&&(e[a]={}),n.findJson(e[a],t))},uiToJson(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,r=i.key_lists;for(let n in r){let a=r[n].split(",");t=e.modifyJson(t,a,o)}}e.json_data=t},getArrVal(e,t){for(let n in e)if(e[n]!=t)return e[n];return t},compareArrVals(e){let t=e.splice(0,1);for(let n in e)if(e[n]!=t)return!1;return!0},jsonToUi(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,r=i.key_lists,l=[];for(let n in r){let a=r[n].split(",");l.push(e.findJson(t,a))}let s=e.getArrVal(l,o);if(e.ui_list[a].val=s,!e.compareArrVals(l)){for(let n in r){let a=r[n].split(",");t=e.modifyJson(t,a,s)}e.json_data=t}}},yamlFilter(e){let t=e.split("\n");t.splice(0,1);for(let n in t)t[n]=t[n].substring(2,t[n].length);return e=t.join("\n"),e=e.replace(/ null/g," "),e},createDeployment(){let e=this;e.ui_list=[{key_lists:[,"metadata,name","metadata,labels,app","spec,selector,matchLabels,app","spec,template,metadata,labels,app","spec,template,spec,containers,0,name"],ui_name:"deployment name",ui_type:"string",val:"name"},{key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:"image_name"},{key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:"1"},{key_lists:["spec,template,spec,containers,0,ports,0,containerPort"],ui_name:"port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  selector:\n    matchLabels:\n      app:  \n  replicas: 1\n  template:\n    metadata:\n      labels: \n          app: \n    spec:\n      containers:\n        - name: \n          image: \n          ports: \n            - containerPort: 80"},createService(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,app"],ui_name:"service name",ui_type:"string",val:"name"},{key_lists:["spec,type"],ui_name:"service type",ui_type:"select",val:""},{key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"list",val:"dep"},{key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:"80"},{key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: v1\nkind: Service\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  type:\n  ports:\n    - port: 80\n      targetPort: 80\n  selector:\n    app: "},newLoad(e){let t,n=this;if("object"==e)t=e;else try{t=Pe.a.load(e)}catch(o){return}let a=t["kind"],i=[{key_lists:["metadata,name"],ui_name:a+" main name",ui_type:"string",val:n.findJson(t,"metadata,name".split(","))}];"service"==a.toLowerCase()?(i.push({key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"string",val:n.findJson(t,"spec,selector,app".split(","))}),i.push({key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:n.findJson(t,"spec,ports,0,port".split(","))}),i.push({key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"string",val:n.findJson(t,"spec,ports,0,targetPort".split(","))}),i.push({key_lists:["spec,type"],ui_name:"type",ui_type:"string",val:n.findJson(t,"spec,type".split(","))})):"deployment"==a.toLowerCase()?(i.push({key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:n.findJson(t,"spec,template,spec,containers,0,image".split(","))}),i.push({key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:n.findJson(t,"spec,replicas".split(","))})):"pod"==a.toLowerCase()&&(i.push({key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:n.findJson(t,"spec,containers,0,ports,0,containerPort".split(","))}),i.push({key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:n.findJson(t,"spec,containers,0,image".split(","))})),n.ui_list=i},templateLoad(){var e=this;"pod"==e.types?e.createPod():"deployment"==e.types?e.createDeployment():"service"==e.types&&e.createService()}},watch:{plainText:{immediate:!0,handler(e,t){var n=this;""!=e&&(n.newLoad(e),void 0==t&&(n.yaml_text=n.yamlFilter(e)),n.json_data=Pe.a.load(e))}},yaml_text:{handler(e){if(""!=e){var t=this;if(t.auto_edit)try{t.yaml_text!=t.temp_text&&(t.temp_text=t.yaml_text,t.cursor_pos=t.codemirror.getCursor("start"),t.json_data=Pe.a.load(t.yaml_text)),t.jsonToUi(),this.$nextTick(function(){t.codemirror.setCursor(t.cursor_pos),t.codemirror.refresh()})}catch(n){}}}},ui_list:{handler:function(){let e=this;"ui"==e.channel&&e.uiToJson();for(let n in e.ui_list){let t=e.ui_list[n].val;if("string"==typeof t){let a=t.match(/^0[0-9]+/);a&&(e.ui_list[n].val=parseInt(a))}}let t=je.a.stringify(JSON.parse(JSON.stringify(e.json_data)));e.yaml_text=e.yamlFilter(t)},deep:!0}}},ze=Ue,Ye=(n("3758"),n("c6a6")),We=n("b974"),Ke=Object(f["a"])(ze,Ie,Le,!1,null,null,null),qe=Ke.exports;g()(Ke,{VAutocomplete:Ye["a"],VBtn:_["a"],VCard:w["a"],VCardText:E["b"],VContainer:A["a"],VFlex:T["a"],VLayout:V["a"],VSelect:We["a"],VTextField:H["a"]});const Xe={install(e,t={}){const a=n("aae7"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),i)e.component(i[o].default.name,i[o].default),console.log("installed : "+i[o].default.name);e.OGComponents=i,e.OGBus=new e,e.OGLiveComponents={},window&&!window.Vue&&(window.Vue=e)}};var Ze=Xe;const Qe={install(e,t={}){const a=n("446f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default),e._components[i[o].default.name]=i[o].default;e.classModelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};var et=Qe;const tt={install(e,t={}){const a=n("700f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default);e.modelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};var nt=tt,at=n("9dbb"),it=n.n(at),ot=n("f6dd");a["a"].use(it.a),a["a"].use(He.a),a["a"].use(Ze),a["a"].use(et),a["a"].use(nt),a["a"].use(Re.a),a["a"].component("EditYaml",qe),a["a"].component("text-reader",Me["a"]);var rt={keyName:"accessToken"};a["a"].use($e.a,rt),a["a"].use(ot["a"],{global:!0,componentId:"youtube-media"}),Object({NODE_ENV:"production",VUE_APP_API_HOST:"http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",VUE_APP_TRANSLATE_KEY:"AIzaSyCS67nhTX1VfLgtEb-YbMDxFQ7pHGn-jeA",BASE_URL:"/"}).NODE_TLS_REJECT_UNAUTHORIZED="0",a["a"].prototype.$EventBus=new a["a"],a["a"].prototype.$ModelingBus=new a["a"],window.API_HOST="http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",a["a"].config.productionTip=!1,new a["a"]({router:Ce,store:Te,vuetify:o,render:function(e){return e(z)}}).$mount("#app")},"57a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,innerAggregate:e.value.innerAggregate,entity:e.value.aggregateEntity,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/aggregate.png",restApi:e.value.restApi},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:entity":function(t){return e.$set(e.value,"aggregateEntity",t)},"update:restApi":function(t){return e.$set(e.value,"restApi",t)},"update:rest-api":function(t){return e.$set(e.value,"restApi",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=n("9dbb"),l={mixins:[o["default"]],name:"aggregate-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Aggregate"},className(){return"org.uengine.uml.model.Aggregate"},createNew(e,t,n,a,i){return{upName:"",_type:this.className(),name:"Aggregate",innerAggregate:{event:[],command:[],view:[],policy:[],external:[]},elementView:{_type:"org.uengine.uml.model.Aggregate",id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",restApi:"",aggregateEntity:[{type:"Long",name:"id",upName:"Id",id:!0}],aggregateCode:"",repositoryCode:"",eventListenerCode:"",controllerCode:"",boundedContext:""}}},data:function(){return{itemH:200,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){},watch:{"value.inputText":function(e){console.log(this.value),this.value.aggregateCode=this.setAggregateTemplate(),this.value.repositoryCode=this.setRepositoryTemplate(),this.value.controllerCode=this.setControllerTemplate(),this.value.eventListenerCode=this.setEventListenerTemplate(),this.value.upName=e.charAt(0).toUpperCase()+e.slice(1)},"value.aggregateEntity":function(){var e=this;this.value.aggregateCode=e.setAggregateTemplate()},"value.innerAggregate":{handler(){this.value.aggregateCode=this.setAggregateTemplate(),this.value.repositoryCode=this.setRepositoryTemplate(),this.value.controllerCode=this.setControllerTemplate(),this.value.eventListenerCode=this.setEventListenerTemplate()},deep:!0}},mounted:function(){var e=this.value.elementView.id,t=$("#"+e);t.parent().children().first().before(t)},methods:{setRepositoryTemplate(){var e=this;return r.render("package com.example.template;\n import org.springframework.data.repository.PagingAndSortingRepository; \n public interface {{ upName }}Repository extends PagingAndSortingRepository < {{ upName }}, Long > { \n }\n",e.value)},setControllerTemplate(){var e=this;return r.render("package com.example.template;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.List;\n\n@RestController\npublic class {{ upName }}Controller {\n\n{{#innerAggregate}}{{#command}}{{{code}}}{{/command}}{{/innerAggregate}}}",e.value)},setEventListenerTemplate(){var e=this;return r.render("package com.example.template;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.messaging.handler.annotation.Payload;\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\n@Service\npublic class {{ upName }}EventListener {\n\n    @Autowired\n    private KafkaTemplate kafkaTemplate;\n\n    @Autowired\n    private {{ upName }}Repository {{ upName }}Repository;\n\n{{#innerAggregate}}{{#policy}}{{{code}}}{{/policy}}{{/innerAggregate}}}",e.value)},setAggregateTemplate(){var e=this;return r.render('package com.example.template;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.springframework.core.env.Environment;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.beans.BeanUtils;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = "{{inputText}}_table")\npublic class {{upName}} {\n\n{{#aggregateEntity}}\n{{#id}}    @Id\n    @GeneratedValue\n    private {{type}} {{name}};\n\n{{/id}}{{^id}}    public {{type}} {{name}};\n\n{{/id}}{{/aggregateEntity}}\n{{#aggregateEntity}} \n    public {{type}} get{{upName}}() { \n        return {{name}};\n    }\n\n    public void set{{upName}}({{type}} {{name}}) { \n        this.{{name}} = {{name}};\n    }\n{{/aggregateEntity}}\n\n{{#innerAggregate}}{{#event}}{{{publishTypeCode}}}{{/event}}{{/innerAggregate}}\n}',e.value)}}},s=l,u=n("2877"),c=Object(u["a"])(s,a,i,!1,null,"2e97006c",null);t["default"]=c.exports},"5ce3":function(e,t,n){"use strict";var a=n("ed9e"),i=n.n(a);i.a},6034:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"geometry-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e,t=this;if($.isEmptyObject(t.geometrys))return null;{e=new OG.shape.GeomShape;let n=Object.keys(t.geometrys);e.label=t.label,e.SHAPE_ID=t.shapdId,n.length<2?e.createShape=function(){return this.geom?this.geom:(this.geom=t.geometrys[n[0]].createGeometry(),this.geom)}:e.createShape=function(){if(this.geom)return this.geom;var e=[];for(var n in t.geometrys)e.push(t.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(e),this.geom}}return e}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"53506bda",null);t["default"]=u.exports},"62f8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,height:e.titleH+(e.value.fieldDescriptors?e.value.fieldDescriptors.length*e.itemH:0)},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,fill:"#FFFFFF","fill-opacity":0,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH/2,"sub-top":0,"sub-left":0,"sub-style":{"font-weight":"bold"},text:e.value.classReference?e.value.classReference:e.value.name}}),n("edge-element",{attrs:{vertices:[[0,e.titleH-(e.value.classReference?10:0)],["100%",e.titleH-(e.value.classReference?10:0)]],label:"","sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.titleH+a*e.itemH,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.type}}):e._e()})],2)],1),n("modeling-property-panel",{attrs:{img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png",drawer:e.value.drawer,fieldDescriptors:e.value.fieldDescriptors},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:fieldDescriptors":function(t){return e.$set(e.value,"fieldDescriptors",t)},"update:field-descriptors":function(t){return e.$set(e.value,"fieldDescriptors",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=(n("9dbb"),{mixins:[o["default"]],name:"class-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Class"},className(){return"org.uengine.uml.model.ClassDefinition"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Class",fieldDescriptors:[{type:"Long",name:"id",upName:"Id",id:!0}],elementView:{_type:"org.uengine.modeling.ElementView",id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",editing:!1,code:"",relationInfo:"",boundedContext:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){this.value.fieldDescriptors&&this.value.fieldDescriptors.forEach(function(e){e.attributes||(e.attributes={})})},watch:{referenceClassName:function(){this.updateClassInfo()},"value.fieldDescriptors":function(e){this.value.fieldDescriptors=e}},computed:{"value.fieldDescriptors":function(){}},mounted:function(){},methods:{removeAttribute:function(e){this.value.fieldDescriptors.splice(this.value.fieldDescriptors.indexOf(e),1)},updateClassInfo:function(){if(this.reference){var e,t=this.referenceClassName.split("#"),n=t[0],a=t[1],i=this,o=encodeURI(window.backend.$bind.ref+"/definition/raw/"+n+".ClassDiagram.json");console.log("try to get class diagram: "+o);var r=new XMLHttpRequest;i=this;r.open("GET",o,!1),r.setRequestHeader("access_token",localStorage["access_token"]),r.onload=function(){e=JSON.parse(r.responseText);var t=e.definition;for(var n in t.classDefinitions[1]){var o=t.classDefinitions[1][n];if(o.name==a){o.elementView.x=i.value.elementView.x,o.elementView.y=i.value.elementView.y,o.classReference=i.referenceClassName,i.value=o;break}}},r.send()}}}}),l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"303cc4f0",null);t["default"]=u.exports},"6e2d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,"update:label":function(t){return e.$set(e.value,"inputText",t)}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5099F7",fill:"#5099F7","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/command.png",aggregate:e.value.aggregate,aggregateList:e.aggregateList,aggregateText:e.value.aggregateText,connectAggregateName:e.value.connectAggregateName},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:titleName":function(t){return e.$set(e.value,"name",t)},"update:title-name":function(t){return e.$set(e.value,"name",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:aggregate":function(t){return e.$set(e.value,"aggregate",t)},"update:aggregateList":function(t){e.aggregateList=t},"update:aggregate-list":function(t){e.aggregateList=t},"update:aggregateText":function(t){return e.$set(e.value,"aggregateText",t)},"update:aggregate-text":function(t){return e.$set(e.value,"aggregateText",t)},"update:connectAggregateName":function(t){return e.$set(e.value,"connectAggregateName",t)},"update:connect-aggregate-name":function(t){return e.$set(e.value,"connectAggregateName",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=n("9dbb"),l={mixins:[o["default"]],name:"command-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Command"},className(){return"org.uengine.uml.model.Command"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Command",fieldDescriptors:[],elementView:{_type:"org.uengine.uml.model.Command",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),"z-index":999},drawer:!1,selected:!1,inputText:"",restApi:"",editing:!1,connectAggregateName:"",code:"",codeInputText:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,aggregateList:[]}},created:function(){},watch:{"value.connectAggregateName":function(e,t){console.log(e,t);var n=this,a=this.getComponent("modeling-designer");console.log(n.value.inputText),a.value.definition.forEach(function(t){console.log(t.inputText,e),"org.uengine.uml.model.Aggregate"==t._type&&t.inputText==e&&t.innerAggregate[n.type.toLowerCase()].push(n.value)}),this.value.code=n.setCommandTemplate()},"value.inputText":function(e){this.value.codeInputText=e.charAt(0).toUpperCase()+e.slice(1),this.value.code=this.setCommandTemplate()}},mounted:function(){},methods:{setCommandTemplate(){var e=this;return r.render('    @RequestMapping(value = "/{{connectAggregateName}}/{{inputText}}/", method = RequestMethod.{{restApi}}, produces = "application/json;charset=UTF-8")\n    public void {{codeInputText}}(HttpServletRequest request, HttpServletResponse response \n     ) throws Exception { \n    \n    }\n\n',e.value)}}},s=l,u=n("2877"),c=Object(u["a"])(s,a,i,!1,null,"9b944630",null);t["default"]=c.exports},"6eb3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-reader",staticStyle:{"max-width":"300px","text-align":"center","margin-left":"10px","margin-top":"16px"}},[n("label",{staticClass:"v-btn v-btn--contained theme--light v-size--default success",attrs:{for:"ex_file"}},[e._v("Upload")]),n("input",{attrs:{id:"ex_file",type:"file"},on:{change:e.loadTextFromFile}})])},i=[],o={name:"text-reader",props:{importType:String,plainText:String,fileName:String},components:{},data(){return{single:""}},beforeDestroy:function(){},mounted(){},watch:{},methods:{loadTextFromFile(e){if("yaml"==this.importType){this.$emit("update:plainText","");const t=e.target.files[0],n=new FileReader;this.$emit("update:fileName",t.name),n.onload=(e=>this.$emit("load",e.target.result)),n.readAsText(t)}else if("json"==this.importType){const t=e.target.files[0];this.$emit("update:fileName",t.name.replace(".json",""));const n=new FileReader;n.onload=(e=>this.$emit("load",JSON.parse(e.target.result))),n.readAsText(t)}}}},r=o,l=(n("d251"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,"155357bc",null);t["a"]=s.exports},"700f":function(e,t,n){var a={"./Element.vue":"b815","./ModelingDesigner.vue":"279b","./ModelingPropertyPanel.vue":"1c71","./ModelingRelation.vue":"cacc","./UMLDesigner.vue":"a742"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="700f"},"72ea":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modeling-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"event-designer",props:{},data(){return{value:{},elementTypes:[{icon:"bpmn-icon-start-event-none",component:"domain-event-definition",label:"Event",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},{icon:"bpmn-icon-start-event-none",component:"policy-definition",label:"Policy",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"},{icon:"bpmn-icon-start-event-none",component:"command-definition",label:"Command",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/command.png"},{icon:"bpmn-icon-start-event-none",component:"aggregate-definition",label:"Aggregate",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/aggregate.png"},{icon:"bpmn-icon-start-event-none",component:"external-definition",label:"External",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/external.png"},{icon:"bpmn-icon-start-event-none",component:"view-definition",label:"View",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/view.png"},{icon:"bpmn-icon-start-event-none",component:"bounded-context-definition",label:"Bounded Context",width:"100",height:"100",src:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/bounded2.png"}]}},created:function(){},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},7312:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-elements",props:{},computed:{opengraphRole:function(){return"sub-elements"}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"41d2dc3a",null);t["default"]=s.exports},"76e0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-beziercurve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.BezierCurve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"17b7b182",null);t["default"]=u.exports},"7a21":function(e,t,n){},"7a78":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"edge-element",props:{_style:Object},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return e.vertices&&e.vertices.length>1?new OG.shape.EdgeShape(e.vertices[0],e.vertices[e.vertices.length-1],e.label):new OG.shape.EdgeShape(null,null,e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"0b3ddb4e",null);t["default"]=u.exports},"7c87":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-rect",props:{upperLeft:{default:function(){return[0,0]},type:Array},width:{default:function(){return 100},type:Number},height:{default:function(){return 100},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Rectangle(this.upperLeft,this.width,this.height),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"51d5d3c6",null);t["default"]=u.exports},"7e07":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-point",props:{coordinate:{default:function(){return[20,5]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Point(this.coordinate),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"9fbe743c",null);t["default"]=u.exports},"809c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"circle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.CircleShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"3e947b43",null);t["default"]=u.exports},"84db":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,"update:label":function(t){return e.$set(e.value,"inputText",t)}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F1A746",fill:"#F1A746","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png",aggregate:e.value.aggregate,entity:e.value.entity,aggregateList:e.aggregateList,connectAggregateName:e.value.connectAggregateName,connectAggregateEntity:e.value.connectAggregateEntity,publishType:e.value.publishType},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:titleName":function(t){return e.$set(e.value,"name",t)},"update:title-name":function(t){return e.$set(e.value,"name",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:aggregate":function(t){return e.$set(e.value,"aggregate",t)},"update:entity":function(t){return e.$set(e.value,"entity",t)},"update:aggregateList":function(t){e.aggregateList=t},"update:aggregate-list":function(t){e.aggregateList=t},"update:connectAggregateName":function(t){return e.$set(e.value,"connectAggregateName",t)},"update:connect-aggregate-name":function(t){return e.$set(e.value,"connectAggregateName",t)},"update:connectAggregateEntity":function(t){return e.$set(e.value,"connectAggregateEntity",t)},"update:connect-aggregate-entity":function(t){return e.$set(e.value,"connectAggregateEntity",t)},"update:publishType":function(t){return e.$set(e.value,"publishType",t)},"update:publish-type":function(t){return e.$set(e.value,"publishType",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=n("9dbb"),l={mixins:[o["default"]],name:"domain-event-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Event"},className(){return"org.uengine.uml.model.Domain"},createNew(e,t,n,a,i,o){return{upName:"",_type:this.className(),name:"Event",elementView:{_type:"org.uengine.uml.model.Domain",id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0},drawer:!1,selected:!1,inputText:"",restApi:"",editing:!1,connectAggregateName:"",connectAggregateEntity:[],entity:[],code:"",publishTypeCode:"",relationInfo:"",boundedContext:"",publishType:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,aggregateList:[]}},created:function(){},watch:{"value.connectAggregateName":function(e,t){console.log("connect Aggregate");var n=this,a=this.getComponent("modeling-designer");a.value.definition.forEach(function(a){console.log(a.inputText,e),"org.uengine.uml.model.Aggregate"==a._type&&a.inputText==t&&a.innerAggregate[n.type.toLowerCase()].splice(a.innerAggregate[n.type.toLowerCase()].indexOf(t),1),"org.uengine.uml.model.Aggregate"==a._type&&a.inputText==e&&(n.value.entity=JSON.parse(JSON.stringify(a.aggregateEntity)),a.innerAggregate[n.type.toLowerCase()].push(n.value))})},"value.inputText":function(e){this.value.upName=e.charAt(0).toUpperCase()+e.slice(1),this.value.code=this.setEventTemplate(e,this.value)},"value.entity":function(){this.value.code=this.setEventTemplate()},"value.publishType":function(){this.value.publishTypeCode=this.setPublishTypeTemplate()}},mounted:function(){},methods:{setPublishTypeTemplate(){var e=this;return r.render('\n{{publishType}}\n    private void publish{{upName}}() {\n        KafkaTemplate kafkaTemplate = Application.applicationContext.getBean(KafkaTemplate.class);\n        RestTemplate restTemplate = Application.applicationContext.getBean(RestTemplate.class);\n\n        Environment env = Application.applicationContext.getEnvironment();\n        ObjectMapper objectMapper = new ObjectMapper();\n        String json = null;\n\n        {{upName}} {{inputText}} = new {{upName}}();\n        try {\n                BeanUtils.copyProperties(this, {{inputText}});\n                json = objectMapper.writeValueAsString({{inputText}});\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException("JSON format exception", e);\n        }\n\n        String topicName = env.getProperty("eventTopic");\n        ProducerRecord producerRecord = new ProducerRecord<>(topicName, json);\n        kafkaTemplate.send(producerRecord);\n    }\n\n',e.value)},setEventTemplate(){var e=this;return r.render("package com.example.template;\n\nimport java.io.Serializable;\n\npublic class {{upName}} extends AbstractEvent {\n\n{{#entity}}    public {{type}} {{name}};\n{{/entity}}\n\n{{#entity}}    public {{type}} get{{upName}}() {\n        return {{name}};\n    }\n\n    public void set{{upName}}({{type}} {{name}}) {\n        this.{{name}} = {{name}};\n    }\n{{/entity}}}\n",e.value)}}},s=l,u=n("2877"),c=Object(u["a"])(s,a,i,!1,null,"da7c8d10",null);t["default"]=c.exports},"8a68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,connectable:"",deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#BB94BF",fill:"#BB94BF","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png",aggregate:e.value.aggregate,aggregateList:e.aggregateList,connectAggregateName:e.value.connectAggregateName},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:aggregate":function(t){return e.$set(e.value,"aggregate",t)},"update:aggregateList":function(t){e.aggregateList=t},"update:aggregate-list":function(t){e.aggregateList=t},"update:connectAggregateName":function(t){return e.$set(e.value,"connectAggregateName",t)},"update:connect-aggregate-name":function(t){return e.$set(e.value,"connectAggregateName",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=n("9dbb"),l={mixins:[o["default"]],name:"policy-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Policy"},className(){return"org.uengine.uml.model.Policy"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Policy",elementView:{_type:"org.uengine.uml.model.Policy",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",restApi:"",code:"",editing:!1,connectAggregateName:"",relationInfo:"",relationEventInfo:[],boundedContext:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,aggregateList:[]}},created:function(){},watch:{"value.relationInfo":function(e){this.value.code="Pub/Sub"==e?this.setPolicyKafkaTemplate(this.value):this.setPolicyRestTemplate(this.value)},"value.connectAggregateName":function(e){console.log(e);var t=this,n=this.getComponent("modeling-designer");n.value.definition.forEach(function(n){"org.uengine.uml.model.Aggregate"==n._type&&n.inputText==e&&n.innerAggregate[t.type.toLowerCase()].push(t.value)})},"value.inputText":function(e){this.value.code=this.setPolicyKafkaTemplate(this.value)}},mounted:function(){},methods:{setPolicyKafkaTemplate(e){return r.render('     @KafkaListener(topics = "${eventTopic}", groupId = "{{inputText}}") \n {{#relationEventInfo}}     public void on{{upName}}(@Payload String message, ConsumerRecord<?, ?> consumerRecord) {\n        System.out.println("##### listener : " + message); \n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n           {{upName}} {{inputText}} = null; \n           try {\n\n               {{inputText}} = objectMapper.readValue(message, {{upName}}.class);\n               System.out.println(" #### type = " + {{inputText}}.getEventType());\n\n\n                  if( {{inputText}}.getEventType() != null && {{inputText}}.getEventType().equals({{upName}}.class.getSimpleName())){\n\n                   // TO-DO :: Implement your Logic here.  \n\n               }\n           } catch (Exception e) {\n\n           }\n       }\n{{/relationEventInfo}}\n\n\n',e)},setPolicyRestTemplate(e,t){return r.render(" ",t)}}},s=l,u=n("2877"),c=Object(u["a"])(s,a,i,!1,null,"5312da46",null);t["default"]=c.exports},"8e15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"group-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=new OG.shape.GroupShape;if(t.label=e.label,t.SHAPE_ID=e.shapdId,!$.isEmptyObject(e.geometrys)){let n=Object.keys(e.geometrys);n.length<2?t.createShape=function(){return this.geom?this.geom:(this.geom=e.geometrys[n[0]].createGeometry(),this.geom)}:t.createShape=function(){if(this.geom)return this.geom;var t=[];for(var n in e.geometrys)t.push(e.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(t),this.geom}}return t}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"673653ce",null);t["default"]=u.exports},9241:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["org.uengine.uml.model.Policy"!=e.value.sourceElement._type?n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",vertices:e.vertices,from:e.value.from,to:e.value.to,_style:e.style_,label:e.value.relationType},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value,"from",t)},"update:to":function(t){return e.$set(e.value,"to",t)},removeShape:e.onRemoveShape,dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity}}):e._e(),"org.uengine.uml.model.Policy"!=e.value.sourceElement._type?n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"class-relation",props:{value:Object},created:function(){this.value&&this.value.relationView&&(this.value.from=this.value.relationView.from,this.value.to=this.value.relationView.to)},computed:{defaultStyle(){return{}},className(){return"org.uengine.uml.model.relation"},style_(){if("org.uengine.uml.model.relation"==this.value._type&&"Pub/Sub"==this.value.relationType)var e={"arrow-end":"block","stroke-width":"1.3","stroke-dasharray":"- ","font-size":20};else if("org.uengine.uml.model.relation"==this.value._type)e={"arrow-end":"block","font-size":20};return e},type(){return"org.uengine.uml.model.relation"},createNew(e,t,n){return{_type:this.type(),name:"Relation",relationType:"",sourceElement:e,targetElement:t,from:e.elementView.id,to:t.elementView.id,selected:!1,relationView:{style:JSON.stringify({"arrow-start":"none","arrow-end":"none"}),value:n,from:e.elementView.id,to:t.elementView.id,needReconnect:!0},sourceMultiplicity:1,targetMultiplicity:1,drawer:!1}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"58db4a01",null);t["default"]=u.exports},9484:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"html-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HtmlShape(e.html,e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"1b013ddf",null);t["default"]=u.exports},"967c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"svg-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=$("<div>").append($(e.$el).find("svg").clone()).html();return new OG.shape.SvgShape(t,e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"3a9b67aa",null);t["default"]=u.exports},"9ea8":function(e,t,n){"use strict";var a=n("da11"),i=n.n(a);i.a},a742:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!0,resizable:!0,selectable:!0,connectable:!0,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.definition[a],callback:function(t){e.$set(e.value.definition,a,t)},expression:"value.definition[index]"}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.relation[a],callback:function(t){e.$set(e.value.relation,a,t)},expression:"value.relation[index]"}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-divider"),n("text-reader",{staticStyle:{display:"inline-block"},attrs:{importType:"json",fileName:e.projectName},on:{load:function(t){e.value=t},"update:fileName":function(t){e.projectName=t},"update:file-name":function(t){e.projectName=t}}}),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px"},attrs:{color:"info"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("SAVE\n            ")])],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}])},[n("span",[e._v(e._s(t.label))])])})],2)],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),r=n("ac57"),l=n("11c1"),s=n("782e"),u=n.n(s),c=n("21a6"),d=n("21a6"),p=n("7c39"),m={name:"uml-designer",components:{TextReader:o["a"],saveAs:c["saveAs"],Pusher:u.a,CodeViewer:r["a"]},props:{elementTypes:Array},data(){return{files:{md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker"},code:"",active:[],canvas:null,dragPageMovable:!1,relationVueComponentName:"modeling-relation",value:{definition:[],relation:[]},items:[],enableHistoryAdd:!1,undoing:!1,undoed:!1,undoIndex:0,tmpValue:[],projectName:"",noPushUndo:!1,redoArray:[],undoArray:[],imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",userId:"",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pusher:{},connectCount:0,connectInfo:[],show:!1,channel:{},members:[],valueTmp:{},pathTmp:[],maxWidth:0,maxHeight:0}},beforeDestroy:function(){this.canvas.removeSlider()},computed:{definitionSet(){return this.inputValue(this.active)},drawer:{get:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(e.value.definition));return n.length>0&&n.some(function(e,n){e.drawer&&(t=!0)}),t}},id:{get:function(){return this.projectName}}},created:function(){},mounted(){var e=this;this.userId=Object(l["v4"])(),e.$ModelingBus.$on("MoveEvent",function(){e.$nextTick(function(){e.undoArray.push(JSON.parse(JSON.stringify(e.value))),e.redoArray=[],e.value.definition.forEach(function(e){e.selected})})}),this.userId=Object(l["v4"])(),e.pusher=new u.a("33169ca8c59c1f7f97cd",{cluster:"ap3"});const t=e.pusher.subscribe("paint");t.bind("draw",t=>{const{userId:n,newVal:a}=t;if(e.userId!==n){let t=!1;"class-relation"!=a.name?(e.value["definition"].some(function(n,i){if(n.elementView.id==a.elementView.id)return e.value["definition"]=[...e.value["definition"].slice(0,i),a,...e.value["definition"].slice(i)],void(t=!0)}),0==t&&e.value.definition.push(a)):e.value["relation"].some(function(t,n){"org.uengine.uml.model.bounded"==t._type?e.value["relation"].length-1==n&&e.value["relation"].push(element):e.value["relation"]=[...e.value["relation"].slice(0,n),element,...e.value["relation"].slice(n)]})}}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,e.undoArray.push({definition:[],relation:[]}),this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?this.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?this.paste():46==t.keyCode||8==t.keyCode?this.deleteActivity():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.redo():e.undo())})})},watch:{open(e){}},methods:{inputValue(e){var t=[e];return t},codeModalShow(){this.$modal.show("code-modal")},umlModalShow(){console.log("aa"),this.$modal.show("uml-modal")},generateZip(){var e=this;e.codeList.forEach(function(t){t.file?(e.pathTmp.push({path:t.name,code:t.code}),console.log(t.name)):e.reverse(t.children,t.name)}),console.log(e.pathTmp);var t=new p,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){console.log("iterating over",e),console.log(t)})}),t.generateAsync({type:"blob"}).then(function(e){Object(c["saveAs"])(e,"archive.zip")})},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){console.log(e.name);var a=t+"/"+e.name;console.log(a),n.reverse(e.children,a)}else console.log(e.name),e.code&&(n.pathTmp.push({path:t+"/"+e.name,code:e.code}),console.log(n.pathTmp))})},codeModalhide(){this.$modal.hide("code-modal")},unselectedAll:function(){this.value.definition.forEach(function(e){console.log(e),e.selected=!1}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},connectshow:function(){var e=this;1==e.show?e.show=!1:e.show=!0},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){console.log("Trying saving zip ..."),console.log(t.data.length);var n=new Blob([t.data],{type:"application/zip"});console.log(n.size);var a=e.projectName+".zip";Object(c["saveAs"])(n,a),console.log("saveBlob succeeded")})},syncOthers(e){let t=this.userId,n=e;const a={newVal:n,userId:t};fetch("http://localhost:4000/paint",{method:"post",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(()=>console.log("throw"))},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var u=new Uint8Array(l);i.push(u)}var c=new Blob(i,{type:t});return c},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));null!=e.tempValue&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(t),e.redoArray.push(t)})}},download:function(){var e=this,t=JSON.stringify(e.value),n=this.projectName+".json",a=new File([t],n,{type:"text/json;charset=utf-8"});d.saveAs(a)},deleteBoundary(e,t){e.forEach(function(e,n){t.boundedContext==e.inputText&&"org.uengine.uml.model.bounded"==e._type&&(console.log(t.boundedContext,e.inputText),e.dataList.forEach(function(n,a){n.inputText==t.inputText&&n._type==t._type&&(console.log(e.dataList[a]),e.dataList[a]=null,e.dataList=e.dataList.filter(e=>e))}))})},deleteActivity:function(){var e=this;if(!e.drawer){let t=[],n=JSON.parse(JSON.stringify(e.value.definition)),a=JSON.parse(JSON.stringify(e.value.relation));n.forEach(function(a,i){a.selected&&(a.boundedContext&&e.deleteBoundary(n,a),t.push(a.elementView.id),n[i]=null)}),n=n.filter(e=>e),t.forEach(function(e){a.forEach(function(t,n){t.to!=e&&t.from!=e||(a[n]=null)})}),a=a.filter(e=>e),a.forEach(function(e,t){e.selected&&(a[t]=null)}),a=a.filter(e=>e),e.value.definition=n,e.value.relation=a}},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i,o=this,r=!1;if(e.shape?a=e:(r=!0,a=e.element),a&&t&&n){var l="["+a.shape.geom.vertices.toString()+"]",s={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:l,isFilled:!0,relationView:{style:JSON.stringify({}),value:l}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,r?(o.canvas.removeShape(a,!0),this.addElement(s,null,JSON.parse(JSON.stringify(i)))):(o.canvas.removeShape(a,!0),this.addElement(s))}},redo:function(){var e=this;if(!e.drawer&&e.redoArray.length>0){var t=e.redoArray.pop();e.value=JSON.parse(JSON.stringify(t)),0==e.undoArray.length&&0==e.value.length&&e.undoArray.push({definition:[],relation:[]}),e.undoArray.push(JSON.parse(JSON.stringify(t)))}},undo:function(){var e=this;e.drawer||(e.undoArray.length>1?(e.redoArray.push(e.undoArray[e.undoArray.length-1]),e.undoArray.pop(),e.value=JSON.parse(JSON.stringify(e.undoArray[e.undoArray.length-1]))):1==e.undoArray.length&&(e.undoArray.pop(),e.undoArray.push(JSON.parse(JSON.stringify(e.value)))))},addElement:function(e,t,n){this.enableHistoryAdd=!0;var a=this;console.log(n);var i,o=a.getComponentByName(e.component);i="class-relation"==e.component?o.computed.createNew(e.sourceElement.value,e.targetElement.value,e.vertices):o.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height),null==a.value&&(a.value={definition:[],relation:[]}),"org.uengine.uml.model.relation"==i._type?a.value["relation"].push(i):a.value["definition"].push(i),a.undoArray.push(JSON.parse(JSON.stringify(a.value))),a.redoArray=[]},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}},f=m,h=(n("d41f"),n("2877")),g=n("6544"),v=n.n(g),y=n("8336"),b=n("b0af"),_=n("ce7e"),w=n("a722"),E=n("3a2f"),S=Object(h["a"])(f,a,i,!1,null,"392a5224",null);t["default"]=S.exports;v()(S,{VBtn:y["a"],VCard:b["a"],VDivider:_["a"],VLayout:w["a"],VTooltip:E["a"]})},aae7:function(e,t,n){var a={"./Opengraph.vue":"0f68","./geometry/BezierCurve.vue":"76e0","./geometry/Circle.vue":"ce2d","./geometry/Curve.vue":"dbf9","./geometry/Ellipse.vue":"50c8","./geometry/Geometry.vue":"b5db","./geometry/Line.vue":"b020","./geometry/Point.vue":"7e07","./geometry/PolyLine.vue":"bef4","./geometry/Polygon.vue":"3a94","./geometry/Rectangle.vue":"7c87","./shape/CircleElement.vue":"809c","./shape/EdgeElement.vue":"7a78","./shape/EllipseElement.vue":"0233","./shape/GeometryElement.vue":"6034","./shape/GroupElement.vue":"8e15","./shape/HorizontalLaneElement.vue":"bca5","./shape/HorizontalPoolElement.vue":"c49b","./shape/HtmlElement.vue":"9484","./shape/ImageElement.vue":"2479","./shape/OpengraphElement.vue":"d57a","./shape/RectangleElement.vue":"d4bc","./shape/SubController.vue":"0af2","./shape/SubElements.vue":"7312","./shape/SvgElement.vue":"967c","./shape/TextElement.vue":"ba54","./shape/VerticalLaneElement.vue":"e2fb","./shape/VerticalPoolElement.vue":"2fa1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="aae7"},ac57:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[e.value[0][0]?n("v-card-title",[e._v("\n            "+e._s(e.value[0][0].name)+"\n        ")]):e._e(),n("v-card-text",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"700px"},attrs:{id:"scroll-target"}},[n("codemirror",{ref:"codemirror",attrs:{value:e.code,options:e.cmOption,height:700},on:{ready:e.onCmReady,Focus:e.onCmFocus,input:e.onCmCodeChange}})],1)],1)],1)},i=[],o=(n("ced0"),n("47ac"),n("959b"),n("dc5b"),n("02f0"),n("d5e0"),n("a7be"),n("7ba3"),n("4ba6"),{props:{value:Array},data(){return{code:"",offsetTop:0,definitionList:[]}},computed:{cmOption(){if(this.value[0].length>0){if(this.value[0][0].name.includes(".java"))var e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-java",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor",scrollbarStyle:null};else if(this.value[0][0].name.includes(".yml")||this.value[0][0].name.includes(".yaml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-yaml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0][0].name.includes(".md"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-markdown",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0][0].name.includes(".properties"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-properties",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0][0].name.includes("mvnw"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-sh",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0][0].name.includes(".xml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/xml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};return e}}},watch:{value(e){this.code="",this.code=e[0][0].code}},methods:{onScroll(e){this.offsetTop=e.target.scrollTop},onCmReady(e){},onCmFocus(e){},onCmCodeChange(e){}},mounted(){}}),r=o,l=(n("b7f0"),n("2877")),s=n("6544"),u=n.n(s),c=n("b0af"),d=n("99d9"),p=n("a523"),m=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=m.exports;u()(m,{VCard:c["a"],VCardText:d["b"],VCardTitle:d["c"],VContainer:p["a"]})},ad8f:function(e,t,n){e.exports=n.p+"img/Logo_black_stroke7.11d17532.png"},b020:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-line",props:{from:{default:function(){return[20,5]},type:Array},to:{default:function(){return[30,15]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Line(this.from,this.to),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"2b051ce0",null);t["default"]=u.exports},b5db:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"geometry",props:{},computed:{},data:function(){return{props:JSON.parse(JSON.stringify(this.$props)),id:this.uuid(),element:null}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)(e[a]||t[a])&&("object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(n=!0):e[a]!=t[a]&&(n=!0));n&&this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeGeometry(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addGeometry(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"2ca41115",null);t["default"]=s.exports},b7f0:function(e,t,n){"use strict";var a=n("dc1b"),i=n.n(a);i.a},b815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"modeling-element-base",props:{value:Object,definition:Object},created:function(){},data:function(){return{_id:null,rotateMove:!1,tmpWidth:0,tmpHeight:0,loopcheck:!0}},computed:{type(){return""},code(){return""},style:{get:function(){var e;if(this.value&&(e=this.value.elementView?this.value.elementView.style:this.value.relationView.style),e){var t=JSON.parse(e);return $.isEmptyObject(t)?this.defaultStyle:t}return this.defaultStyle},set:function(e){this.value&&(this.value.elementView?this.value.elementView.style=JSON.stringify(e):this.value.relationView.style=JSON.stringify(e))}}},watch:{"value.drawer":function(e,t){var n=this.getComponent("modeling-designer"),a=this;this.aggregateList=[],1==e&&n.value.definition.forEach(function(e){"org.uengine.uml.model.Aggregate"==e._type&&(console.log(e),a.aggregateList.push(e.inputText))})},"value.inputText":{handler:function(e,t){var n=this;this.getComponent("modeling-designer");n.rotateMove=!0,n.value.elementView.x=n.value.elementView.x+1,n.$nextTick(function(){n.value.elementView.width=n.tmpWidth,n.value.elementView.height=n.tmpHeight,n.rotateMove=!0,n.value.elementView.x=n.value.elementView.x-1,n.$nextTick(function(){n.value.elementView.width=n.tmpWidth,n.value.elementView.height=n.tmpHeight})})}},"value.elementView.width":{handler:function(e,t){var n=this;1==n.rotateMove&&(n.tmpWidth=t)}},"value.elementView.height":{handler:function(e,t){var n=this;1==n.rotateMove&&(n.tmpHeight=t)}}},mounted:function(){},methods:{difference:function(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},onLabelChanged:function(e,t){console.log("onLabelChanged",e,t)},onRotateShape:function(e,t){this.value.elementView.angle=t},selectedActivity:function(){this.value&&(this.value.selected=!0)},deSelectedActivity:function(){this.value&&(this.value.selected=!1,this.value.drawer&&(this.value.drawer=!1))},showProperty:function(){var e=this.getComponent("modeling-designer");this.value.editing?e.snackbar=!0:this.value.drawer=!0},onAddToGroup:function(e,t,n){t.forEach(function(t){var n=!1;e.$parent.value.dataList.some(function(e){if(e.elementView.id==t.$parent.value.elementView.id)return n=!0}),0==n&&e.$parent.value.dataList.push(t.$parent.value)})},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onAddedToGroup:function(e,t,n){var a=this.getComponent("modeling-designer");e.tagName?(a.value.definition.forEach(function(e){"org.uengine.uml.model.bounded"==e._type&&e.inputText==t.$parent.value.boundedContext&&e.dataList.some(function(n,a){n.elementView.id==t.$parent.value.elementView.id&&(e.dataList=[...e.dataList.slice(0,a),...e.dataList.slice(a+1)])})}),t.$parent.value.boundedContext=""):(t.$parent.value.boundedContext="",t.$parent.value.boundedContext=e.$parent.value.inputText),console.log(n)},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},onRemoveShape:function(){}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"0018a690",null);t["default"]=s.exports},ba54:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"text-element",props:{},computed:{},data:function(){return{}},watch:{text:function(e){this.props.text=e}},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.TextShape(e.text)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"c769a652",null);t["default"]=u.exports},bca5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"horizontal-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalLaneShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"38b855d8",null);t["default"]=u.exports},bef4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-polyline",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.PolyLine(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"639fddc5",null);t["default"]=u.exports},c49b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"horizontal-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalPoolShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"60498d48",null);t["default"]=u.exports},cacc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:null,vertices:e.vertices,from:e.value.sourceElement.elementView.id,to:e.value.targetElement.elementView.id,_style:e.style,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value.sourceElement.elementView,"id",t)},"update:to":function(t){return e.$set(e.value.targetElement.elementView,"id",t)},"update:_style":function(t){e.style=t},"update:label":function(t){return e.$set(e.value,"name",t)}}})],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"modeling-relation",props:{value:Object},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{sourceElement:e,targetElement:t,selected:!1,relationView:{style:JSON.stringify({}),value:n}}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"d911706c",null);t["default"]=u.exports},cc89:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,label:e.value.inputText,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#ED73B6",fill:"#ED73B6","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< "+e.value.name+" >>"}})],1)],1),n("modeling-property-panel",{attrs:{drawer:e.value.drawer,titleName:e.value.name,inputText:e.value.inputText,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/external.png",restApi:e.value.restApi},on:{"update:drawer":function(t){return e.$set(e.value,"drawer",t)},"update:inputText":function(t){return e.$set(e.value,"inputText",t)},"update:input-text":function(t){return e.$set(e.value,"inputText",t)},"update:restApi":function(t){return e.$set(e.value,"restApi",t)},"update:rest-api":function(t){return e.$set(e.value,"restApi",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"external-definition",props:{},computed:{defaultStyle(){return{}},type(){return"External"},className(){return"org.uengine.uml.model.External"},createNew(e,t,n,a,i){return{_type:this.className(),name:"External",elementView:{_type:"org.uengine.uml.model.External",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",restApi:"",editing:!1}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){},watch:{},mounted:function(){},methods:{onRotateShape:function(){}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"b3a31974",null);t["default"]=u.exports},ce2d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-circle",props:{center:{default:function(){return[10,10]},type:Array},radius:{default:function(){return 5},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Circle(this.center,this.radius),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"42108a06",null);t["default"]=u.exports},d251:function(e,t,n){"use strict";var a=n("7a21"),i=n.n(a);i.a},d41f:function(e,t,n){"use strict";var a=n("1c10"),i=n.n(a);i.a},d4bc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"rectangle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.RectangleShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"5ffc7c32",null);t["default"]=u.exports},d57a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"opengraph-element",props:{redraw:{default:function(){return!1},type:Boolean},id:String,parentId:String,x:{default:function(){return 0},type:Number},y:{default:function(){return 0},type:Number},width:{default:function(){return 10},type:Number},height:{default:function(){return 10},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object},label:{default:function(){return""},type:String},image:String,vertices:{default:function(){return[]},type:Array},html:String,xml:String,text:String,watchData:Object,from:String,to:String,fromPosition:{default:function(){return[50,50]},type:Array},toPosition:{default:function(){return[50,50]},type:Array},subZIndex:Number,subWidth:{default:function(){return"100%"},type:[String,Number]},subHeight:{default:function(){return"100%"},type:[String,Number]},subTop:{default:function(){return"0px"},type:[String,Number]},subBottom:[String,Number],subLeft:{default:function(){return"0px"},type:[String,Number]},subRight:[String,Number],subAlign:String,subVerticalAlign:String,subStyle:{default:function(){return{}},type:Object},selectable:{default:function(){return!1},type:Boolean},movable:{default:function(){return!1},type:Boolean},resizable:{default:function(){return!1},type:Boolean},resizex:{default:function(){return!0},type:Boolean},resizey:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!1},type:Boolean},enableFrom:{default:function(){return!0},type:Boolean},enableTo:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!1},type:Boolean},connectCloneable:{default:function(){return!1},type:Boolean},connectRequired:{default:function(){return!0},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},copyable:{default:function(){return!0},type:Boolean}},computed:{opengraphRole:function(){return"opengraph-element"},_id:function(){return this.id?this.id:this.immidiateId}},data:function(){return{innerRedraw:!1,props:JSON.parse(JSON.stringify(this.$props)),elementRole:null,shapdId:"OG.shape."+this.uuShapeId(),immidiateId:this.uuid(),canvasComponent:null,parentElementComponent:null,parentControllerComponent:null,element:null,bindElementEvent:!1,shape:null,geometrys:{},subshapes:{},subcontrollers:{}}},watch:{$props:{handler:function(e,t){"opengraph-element"==this.elementRole&&(this.props=JSON.parse(JSON.stringify(e)))},deep:!0},props:{handler:function(e,t){if("opengraph-element"==this.elementRole)if(this.innerRedraw)this.innerRedraw=!1;else{var n=!1,a=[];if(1==e["redraw"])n=!0,a.push("redraw");else for(var i in e)(e[i]||t[i])&&("object"==typeof e[i]?t[i]&&JSON.stringify(e[i])==JSON.stringify(t[i])||(n=!0,a.push(i)):e[i]!=t[i]&&(n=!0,a.push(i)));n&&(this.element?this.updateShape():this.drawShape())}},deep:!0}},destroyed:function(){var e=this;"opengraph-element"==e.elementRole?e.canvasComponent&&e.canvasComponent.removeElement(e._id):"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.removeSubShapes(e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.removeControllerElement()},mounted:function(){var e=this;this.setElementRole(),"opengraph-element"==this.elementRole?this.drawShape():"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.addSubShapes(this,e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.addCloneElement(this)},methods:{addGeometry:function(e,t){this.geometrys[t]=e},removeGeometry:function(e){delete this.geometrys[e]},addSubShapes:function(e,t){this.subshapes[t]=e},removeSubShapes:function(e){delete this.subshapes[e]},addSubContollers:function(e,t){this.subcontrollers[t]=e},removeSubContollers:function(e){delete this.subcontrollers[e]},emitElement:function(){this.innerRedraw=!0;var e=this;if(!e.element)return;let t=e.canvasComponent.canvas.getBoundary(e.element);if(t){if(e.$emit("update:redraw",!1),e.element.shape instanceof OG.shape.EdgeShape){let t=JSON.parse("["+e.element.shape.geom.vertices.toString()+"]");e.$emit("update:vertices",t);var n,a,i,o,r=$(e.element).attr("_from"),l=$(e.element).attr("_to");r&&(n=r.split("_TERMINAL_")[0],i=r.split("_TERMINAL_")[1].split("_"),i=[parseFloat(i[0]),parseFloat(i[1])]),l&&(a=l.split("_TERMINAL_")[0],o=l.split("_TERMINAL_")[1].split("_"),o=[parseFloat(o[0]),parseFloat(o[1])]),e.$emit("update:from",n),e.$emit("update:to",a),e.$emit("update:fromPosition",i),e.$emit("update:toPosition",o)}else e.$emit("update:id",e._id),e.$emit("update:width",t.getWidth()),e.$emit("update:height",t.getHeight()),e.$emit("update:x",t.getCentroid().x),e.$emit("update:y",t.getCentroid().y);var s=JSON.parse(JSON.stringify(e.element.shape.geom.style.map));e.$emit("update:_style",s);var u,c=e.canvasComponent.canvas.getRenderer().getParent(e.element);u=c?c.id:null,e.$emit("update:parentId",u),this.props=JSON.parse(JSON.stringify(this.props))}},setElementRole:function(){var e,t=this,n=function(a){e=a.$parent,e&&("canvas"==e.opengraphRole?(t.canvasComponent=e,t.elementRole="opengraph-element"):"sub-elements"==e.opengraphRole?(t.elementRole="sub-elements",n(e)):"sub-controller"==e.opengraphRole?(t.elementRole="sub-controller",t.parentControllerComponent=e):"opengraph-element"==e.opengraphRole?t.parentElementComponent=e:n(e))};if(n(this),t.parentElementComponent&&"sub-elements"!=t.elementRole)throw new Error("Child element in element should be in sub-elements.");if(!t.parentElementComponent&&!t.canvasComponent&&!t.parentControllerComponent)throw new Error("Not found canvas for element.");!t.parentElementComponent&&t.canvasComponent&&t.canvasComponent.addElement(this,t._id)},updateShape:function(){var e=this;e._id!=e.element.id&&(e.canvasComponent.canvas._HANDLER.deselectAll(),e.element=e.canvasComponent.canvas.updateId(e.element,e._id)),this.drawShape()},drawShape:function(){var e=this,t=new Date,n=e.generateShape();if(n.clone=function(){return e.generateShape()},n){n.createSubShape=function(){return e.generateSubShapes()},n.createController=function(){return e.generateSubController()},e.bindShapeProperties(n),e.bindShapeEvents(n);var a=JSON.parse(JSON.stringify(e._style));switch(n.TYPE){case OG.Constants.SHAPE_TYPE.GEOM:case OG.Constants.SHAPE_TYPE.GROUP:if(e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId),n instanceof OG.HorizontalLaneShape){var i=e.canvasComponent.canvas.getRenderer().getParent(e.element);if(i&&i.shape instanceof OG.HorizontalLaneShape){var o=null;$.each(i.childNodes,function(e,t){if("g"==t.tagName)return o=t,!1}),i.insertBefore(e.element,o||i.firstChild)}}break;case OG.Constants.SHAPE_TYPE.EDGE:if(e.vertices&&e.vertices.length>1){var r=new OG.geometry.PolyLine(e.vertices);r.type="PolyLine",n.geom=r}var l,s,u,c,d,p;e.from&&(l=e.canvasComponent.canvas.getElementById(e.from),u=e.from+"_TERMINAL_"+e.fromPosition[0]+"_"+e.fromPosition[1],d=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(u)),e.to&&(s=e.canvasComponent.canvas.getElementById(e.to),c=e.to+"_TERMINAL_"+e.toPosition[0]+"_"+e.toPosition[1],p=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(c)),(!e.vertices||e.vertices.length<2)&&l&&s?e.element=e.canvasComponent.canvas.connect(l,s,a,e.label,d,p,!0,e._id):e.element=l&&s?e.canvasComponent.canvas.connect(l,s,a,e.label,d,p,!0,e._id,n):e.canvasComponent.canvas.drawShape(null,n,null,a,e._id,null,!0);break;case OG.Constants.SHAPE_TYPE.HTML:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.IMAGE:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.TEXT:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.SVG:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break}this.setGroup(),this.bindElementEvents(),this.emitElement(),window.Vue.OGBus.$emit("renderingTime",this.canvasComponent.id,(new Date).getTime()-t)}},setGroup:function(){var e=this;if(e.element&&!e.parentId&&!e.canvasComponent.canvas.getRenderer().isEdge(e.element)&&!e.canvasComponent.canvas.getRenderer().isLane(e.element)){var t=e.canvasComponent.canvas.getRenderer().getFrontForBoundary(e.canvasComponent.canvas.getRenderer().getBoundary(e.element));t&&(e.canvasComponent.canvas.getRenderer().isLane(t)&&(t=e.canvasComponent.canvas.getRenderer().getRootLane(t)),e.canvasComponent.canvas.getRenderer()._CONFIG.GROUP_DROPABLE&&t.shape.GROUP_DROPABLE&&t.id!==e.element.id&&t.appendChild(e.element))}},bindShapeProperties:function(e){e.SELECTABLE=this.selectable,e.MOVABLE=this.movable,e.RESIZABLE=this.resizable,e.RESIZEX=this.resizex,e.RESIZEY=this.resizey,e.CONNECTABLE=this.connectable,e.ENABLE_FROM=this.enableFrom,e.ENABLE_TO=this.enableTo,e.SELF_CONNECTABLE=this.selfConnectable,e.CONNECT_CLONEABLE=this.connectCloneable,e.CONNECT_REQUIRED=this.connectRequired,e.CONNECT_STYLE_CHANGE=this.connectStyleChange,e.DELETABLE=this.deletable,e.LABEL_EDITABLE=this.labelEditable,e.COPYABLE=this.copyable,e.AXIS=this.axis},bindShapeEvents:function(e){var t=this;e.onResize=function(e){t.$emit("resize",t,e)},e.onDrawLabel=function(e){t.$emit("drawLabel",t,e)},e.onLabelChanged=function(e,n){t.$emit("labelChanged",t,e,n)},e.onBeforeRemoveShape=function(){var e;return t.$emit("beforeRemoveShape",t,function(t){e=t}),e},e.onRemoveShape=function(){t.$emit("removeShape",t)},e.onDrawShape=function(){t.$emit("drawShape",t)},e.onBeforeLabelChange=function(e,n){var a;return t.$emit("beforeLabelChange",t,e,n,function(e){a=e}),a},e.onRedrawShape=function(){t.$emit("redrawShape",t)},e.onBeforeConnectShape=function(e,n,a){var i;return t.$emit("beforeConnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a,function(e){i=e}),i},e.onConnectShape=function(e,n,a){t.$emit("connectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onDisconnectShape=function(e,n,a){t.$emit("disconnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onGroup=function(e){t.$emit("group",t.canvasComponent.getElementById(e.id)||e)},e.onUnGroup=function(){t.$emit("unGroup",t)},e.onMoveShape=function(e){t.$emit("moveShape",t,e)},e.onRotateShape=function(e){t.$emit("rotateShape",t,e)},e.onPasteShape=function(e,n){t.$emit("pasteShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n)},e.onAddToGroup=function(e,n,a){for(var i=[],o=0;o<n.length;o++)i.push(t.canvasComponent.getElementById(n[o].id)||n[o]);t.$emit("addToGroup",t.canvasComponent.getElementById(e.id)||e,i,a)},e.onAddedToGroup=function(e,n,a){t.$emit("addedToGroup",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,a)},e.onSelectShape=function(){t.$emit("selectShape",t)},e.onDeSelectShape=function(){t.$emit("deSelectShape",t)}},bindElementEvents:function(){var e=this;e.bindElementEvent||(e.bindElementEvent=!0,$(e.element).bind("click",function(t){t.stopPropagation(),e.$emit("click",t,e)}),$(e.element).unbind("dblclick"),$(e.element).bind("dblclick",function(t){t.stopPropagation(),e.$emit("dblclick",t,e)}))},generateSubController:function(){var e=this,t=[];if(!e.subcontrollers||$.isEmptyObject(e.subcontrollers))return t;for(var n in e.subcontrollers){var a=e.subcontrollers[n],i=a.cloneable;i?e.addCloneableController(a,t):e.addClickController(a,t)}return t},addClickController:function(e,t){var n=this;t.push({image:e.image,action:function(t,a){e.$emit("click",t,n)}})},addCloneableController:function(e,t){var n=this,a=e.cloneComponent.generateShape();a.onDuplicated=function(t,a,i){e.$emit("clone",n.canvasComponent.getElementById(t.id)||t,n.canvasComponent.getElementById(a.id)||a,n.canvasComponent.getElementById(i.id)||i)},t.push({image:e.image,create:{shape:a,width:e.cloneComponent.width,height:e.cloneComponent.height,style:JSON.parse(JSON.stringify(e.cloneComponent._style))}})},generateSubShapes:function(){var e=this,t=[];if(!e.subshapes||$.isEmptyObject(e.subshapes))return t;for(var n in e.subshapes){let a=e.subshapes[n].generateShape();t.push({shape:a,vertices:e.subshapes[n].vertices,width:e.subshapes[n].subWidth,height:e.subshapes[n].subHeight,top:e.subshapes[n].subTop,bottom:e.subshapes[n].subBottom,left:e.subshapes[n].subLeft,right:e.subshapes[n].subRight,align:e.subshapes[n].subAlign,"vertical-align":e.subshapes[n].subVerticalAlign,"z-index":e.subshapes[n].subZIndex,style:JSON.parse(JSON.stringify(e.subshapes[n].subStyle))})}return t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},uuShapeId:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"s"+e()+e()+e()+e()+e()+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"08043831",null);t["default"]=s.exports},da11:function(e,t,n){},dbf9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-curve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Curve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"bf351644",null);t["default"]=u.exports},dc1b:function(e,t,n){},e2fb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"vertical-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalLaneShape(e.label)}}},l=r,s=n("2877"),u=Object(s["a"])(l,a,i,!1,null,"43ef5574",null);t["default"]=u.exports},eb98:function(e,t,n){},ed3c:function(e,t,n){},ed9e:function(e,t,n){},f8be:function(e,t,n){"use strict";var a=n("eb98"),i=n.n(a);i.a},ff1c:function(e,t,n){"use strict";var a=n("482a"),i=n.n(a);i.a}});
//# sourceMappingURL=app.9401dff6.js.map