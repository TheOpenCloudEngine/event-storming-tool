(function(e){function t(t){for(var a,r,l=t[0],s=t[1],c=t[2],d=0,m=[];d<l.length;d++)r=l[d],i[r]&&m.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0161":function(e,t){},"0233":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"ellipse-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.EllipseShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"43e79b7e",null);t["default"]=c.exports},"034f":function(e,t,n){"use strict";var a=n("1356"),i=n.n(a);i.a},"03d4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("geometry-polygon",{attrs:{vertices:[[20,75],[50,10],[80,75]],_style:{fill:"black","fill-opacity":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-signal-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom"}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.SignalEndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"29dfab10",null);t["default"]=c.exports},"047a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("image-element",{attrs:{image:e.service_image,"sub-width":"20px","sub-height":"20px","sub-top":"5px","sub-left":"5px"}}),n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("역할 (추후 레인에서 자동설정)")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.activity.role.name,callback:function(t){e.$set(e.activity.role,"name",t)},expression:"activity.role.name"}})],1),n("md-input-container",[n("label",[e._v("호출 URI 패턴")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}}),e.activity.uriTemplate&&0==e.activity.uriTemplate.indexOf("https://")?n("md-checkbox",{model:{value:e.activity.noValidationForSSL,callback:function(t){e.$set(e.activity,"noValidationForSSL",e._n(t))},expression:"activity.noValidationForSSL"}},[e._v("Don't validate the certificate")]):e._e()],1),e.links?n("md-input-container",[n("label",[e._v("호출 서비스 선택")]),n("md-select",{on:{change:e.giveJSONHint},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}},e._l(e.links,function(t,a){return n("md-option",{attrs:{value:t.href}},[e._v(e._s(a))])}),1)],1):e._e(),n("md-input-container",[n("label",[e._v("호출 메서드")]),n("md-select",{attrs:{type:"text"},model:{value:e.activity.method,callback:function(t){e.$set(e.activity,"method",t)},expression:"activity.method"}},[n("md-option",{attrs:{value:"GET"}},[e._v("GET")]),n("md-option",{attrs:{value:"POST"}},[e._v("POST")]),n("md-option",{attrs:{value:"DELETE"}},[e._v("DELETE")]),n("md-option",{attrs:{value:"PUT"}},[e._v("PUT")]),n("md-option",{attrs:{value:"PATCH"}},[e._v("PATCH")])],1)],1),n("md-input-container",{attrs:{if:"'GET,DELETE'.indexOf(activity.method) == -1"}},[n("label",[e._v("입력 데이터 (JSON template)")]),n("md-textarea",{model:{value:e.activity.inputPayloadTemplate,callback:function(t){e.$set(e.activity,"inputPayloadTemplate",t)},expression:"activity.inputPayloadTemplate"}})],1),n("p",[e._v("결과 데이터 매핑")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.outputMapping,definition:e.definition}}),n("md-checkbox",{model:{value:e.activity.skipIfNotFound,callback:function(t){e.$set(e.activity,"skipIfNotFound",e._n(t))},expression:"activity.skipIfNotFound"}},[e._v("리소스 없을 경우 (404) 오류 처리 하지 않음")]),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-service-task",props:{},created:function(){this.activity.role||(this.activity.role={name:""})},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.bpmn.ServiceTask"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{links:null,service_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/Service.png"}},watch:{drawer:function(e){if(e){this.activity.role.name=this.bpmnVue.getWhereRoleAmIByTracingTag(this.activity.tracingTag);var t=this,n=this.activity.role.name;this.$root.codi("eureka/apps/"+this.activity.role.name).get().then(function(e){var a=e.data.application.instance[0].homePageUrl;a=n.toLowerCase(),t.$root.codi(a).get().then(function(e){e.data._links&&(t.links=e.data._links)})})}}},mounted:function(){},methods:{giveJSONHint:function(){var e=function(e){var t=document.createElement("a");t.href=e,t.path=t.pathname.substr(1);try{t.path=t.path.split("%7")[0]}catch(n){}return t},t=e(this.activity.uriTemplate),n=this;this.$root.codi(t.path).get().then(function(t){if(t.data._links.profile){var a=e(t.data._links.profile.href);n.$root.codi(a.path).get().then(function(e){if(console.log(e.data),e.data.alps.descriptors[0].descriptors){var t={};e.data.alps.descriptors[0].descriptors.forEach(function(e){t[e.name]="<%="+e.name+"%>"}),n.activity.inputPayloadTemplate=JSON.stringify(t,null,2);var a=n.activity;n.activity=null,n.activity=a}})}})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"344aab51",null);t["default"]=c.exports},"0658":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#4caf50",fill:"#4caf50","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"Ingress"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("a551"),l={mixins:[o["default"]],name:"ingress",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"Ingress"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/ing.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"extensions/v1beta1",kind:"Ingress",metadata:{name:""},spec:{backend:{serviceName:"",servicePort:80},rules:[{host:"insurance.infogra.io",http:{paths:[{backend:{serviceName:"",servicePort:80}}]}}]}},outboundServices:[],connectableType:["Service"]}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}},outboundServiceNames(){try{var e="";return this.value.outboundServices.forEach(t=>{e+=t.object.metadata.name+":"+t.object.spec.ports[0].port+","}),e}catch(t){return""}}},data:function(){return{}},created:function(){},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"addRelation"==t.state&&t.element&&t.element.targetElement&&"Service"==t.element.targetElement._type&&e.value.outboundServices.push(t.element.targetElement),"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"Service"==t.element.targetElement._type&&e.value.outboundServices.splice(e.value.outboundServices.indexOf(t.element.targetElement),1)})},watch:{outboundServiceNames:function(e){this.value.object.spec.rules[0].http.paths=[];var t=this;this.value.outboundServices.forEach(e=>{t.value.object.spec.rules[0].http.paths.push({backend:{serviceName:e.object.metadata.name,servicePort:e.object.spec.ports[0].port}})})}},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"0679":function(e,t,n){"use strict";var a=n("6d76"),i=n.n(a);i.a},"0922":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-line",{attrs:{from:[30,20],to:[70,20]}}),n("geometry-line",{attrs:{from:[70,20],to:[70,80]}}),n("geometry-line",{attrs:{from:[30,80],to:[70,80]}}),n("geometry-line",{attrs:{from:[30,20],to:[30,80]}}),n("geometry-line",{attrs:{from:[33,32],to:[67,32]}}),n("geometry-line",{attrs:{from:[33,44],to:[67,44]}}),n("geometry-line",{attrs:{from:[33,56],to:[67,56]}}),n("geometry-line",{attrs:{from:[33,68],to:[67,68]}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-subheader",[e._v("Condition")]),n("md-checkbox",{model:{value:e.complexCondition,callback:function(t){e.complexCondition=t},expression:"complexCondition"}},[e._v("Complex Rule")]),e.complexCondition?n("div",[n("org-uengine-kernel-Or",{attrs:{definition:e.definition},model:{value:e.activity.condition,callback:function(t){e.$set(e.activity,"condition",t)},expression:"activity.condition"}})],1):n("org-uengine-kernel-Evaluate",{attrs:{definition:e.definition},model:{value:e.activity.condition,callback:function(t){e.$set(e.activity,"condition",t)},expression:"activity.condition"}}),n("md-input-container",[n("label",[e._v("Polling Interval (in seconds)")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.pollingIntervalInSecond,callback:function(t){e.$set(e.activity,"pollingIntervalInSecond",t)},expression:"activity.pollingIntervalInSecond"}})],1),n("md-input-container",[n("label",[e._v("Attach Activity ID")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.attachedToRef,callback:function(t){e.$set(e.activity,"attachedToRef",t)},expression:"activity.attachedToRef"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-conditional-intermediate-catch-event",props:{},created:function(){this.activity.condition&&(this.activity.condition._type.indexOf("Or")>-1||this.activity.condition._type.indexOf("And")>-1)&&(this.complexCondition=!0)},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.ConditionalCatchEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,pollingIntervalInSecond:5,condition:{_type:"org.uengine.kernel.Evaluate",pv:{_type:"org.uengine.kernel.ProcessVariable",name:""},condition:"==",val:""},elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{complexCondition:!1}},watch:{complexCondition:function(e){if(e){if(this.activity.condition&&(this.activity.condition._type.indexOf("Or")>-1||this.activity.condition._type.indexOf("And")>-1))return;this.activity.condition;this.activity.condition.conditionsVt=[],this.activity.condition._type="org.uengine.kernel.Or"}else this.activity.condition&&(this.activity.condition._type.indexOf("Or")>-1||this.activity.condition._type.indexOf("And")>-1)&&(this.complexCondition=!0)}},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"3cd3f7e4",null);t["default"]=c.exports},"0af2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-controller",props:{cloneable:{default:function(){return!1},type:Boolean},image:String},computed:{opengraphRole:function(){return"sub-controller"}},data:function(){return{id:this.uuid(),element:null,cloneComponent:null}},watch:{$props:{handler:function(){this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeSubContollers(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addSubContollers(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},addCloneElement:function(e){this.cloneComponent=e},removeControllerElement:function(){this.cloneComponent=null},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"d7999078",null);t["default"]=s.exports},"0d01":function(e,t,n){},"0e53":function(e,t,n){"use strict";var a=n("af69"),i=n.n(a);i.a},"0f68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.canvas?e._t("default"):e._e(),n("div",{staticClass:"canvas-wrapper"},[n("div",{staticClass:"canvas-container",attrs:{id:e.id}})]),n("v-card",{staticStyle:{position:"relative",height:"200px"}},[n("v-card-text",{staticStyle:{position:"absolute"},attrs:{id:e.sliderId}})],1)],2)},i=[],o=(n("e811"),n("2ef0"),{name:"opengraph",props:{slider:{default:function(){return!1},type:Boolean},width:{default:function(){return 4e3},type:Number},height:{default:function(){return 4e3},type:Number},scale:{default:function(){return 1},type:Number},scaleMin:{default:function(){return.1},type:Number},scaleMax:{default:function(){return 10},type:Number},backgroundColor:{default:function(){return"#f9f9f9"},type:String},backgroundImage:String,imageBase:{default:function(){return location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/"},type:String},poolDropEvent:{default:function(){return!1},type:Boolean},automaticGuidance:{default:function(){return!0},type:Boolean},spotOnSelect:{default:function(){return!1},type:Boolean},autoSliderUpdate:{default:function(){return!0},type:Boolean},autoHistory:{default:function(){return!1},type:Boolean},wheelScalable:{default:function(){return!1},type:Boolean},dragPageMovable:{default:function(){return!1},type:Boolean},focusCanvasOnSelect:{default:function(){return!1},type:Boolean},checkBridgeEdge:{default:function(){return!1},type:Boolean},stickGuide:{default:function(){return!0},type:Boolean},navigator:{default:function(){return!1},type:Boolean},selectable:{default:function(){return!0},type:Boolean},dragSelectable:{default:function(){return!0},type:Boolean},movable:{default:function(){return!0},type:Boolean},resizable:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!0},type:Boolean},selfCloneable:{default:function(){return!1},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},groupDropable:{default:function(){return!0},type:Boolean},dragGridable:{default:function(){return!0},type:Boolean},enableHotkey:{default:function(){return!0},type:Boolean},enableHotkeyCtrlZ:{default:function(){return!0},type:Boolean},enableHotkeyDelete:{default:function(){return!0},type:Boolean},enableHotkeyCtrlA:{default:function(){return!0},type:Boolean},enableHotkeyCtrlC:{default:function(){return!0},type:Boolean},enableHotkeyCtrlV:{default:function(){return!0},type:Boolean},enableHotkeyCtrlD:{default:function(){return!0},type:Boolean},enableHotkeyCtrlG:{default:function(){return!0},type:Boolean},enableHotkeyCtrlU:{default:function(){return!0},type:Boolean},enableHotkeyArrow:{default:function(){return!0},type:Boolean},enableHotkeyShiftArrow:{default:function(){return!0},type:Boolean},enableContextmenu:{default:function(){return!0},type:Boolean},enableRootContextmenu:{default:function(){return!0},type:Boolean},defaultStyleShape:{default:function(){return{cursor:"default"}},type:Object},defaultStyleGeometry:{default:function(){return{stroke:"black","fill-r":".5","fill-cx":".5","fill-cy":".5",fill:"white","fill-opacity":0,"label-position":"center"}},type:Object},defaultStyleText:{default:function(){return{stroke:"none","text-anchor":"middle"}},type:Object},defaultStyleHtml:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleImage:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleSvg:{default:function(){return{"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1.5,"stroke-opacity":1,"edge-type":"plain","arrow-start":"none","arrow-end":"block","stroke-dasharray":"","label-position":"center","stroke-linejoin":"round",cursor:"pointer"}},type:Object},defaultStyleGroup:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"label-position":"bottom","text-anchor":"middle","vertical-align":"top"}},type:Object},defaultStyleGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"white","fill-opacity":0,"stroke-dasharray":"- ","shape-rendering":"crispEdges",cursor:"move"}},type:Object},defaultStyleGuideUl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nwse-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLl:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLr:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideUc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideRc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleGuideLwc:{default:function(){return{stroke:"#03689a",fill:"#03689a","fill-opacity":.5,cursor:"nesw-resize","shape-rendering":"crispEdges"}},type:Object},defaultStyleVirtualEdge:{default:function(){return{stroke:"black",fill:"none","fill-opacity":0,"stroke-width":1,"stroke-opacity":1,"stroke-dasharray":"- ","stroke-linejoin":"round","arrow-start":"none","arrow-end":"none"}},type:Object},defaultStyleRubberBand:{default:function(){return{stroke:"#0000FF",opacity:.2,fill:"#0077FF"}},type:Object},defaultStyleDropOverBbox:{default:function(){return{stroke:"#0077FF",fill:"none",opacity:.3,"shape-rendering":"crispEdges"}},type:Object},defaultStyleLabel:{default:function(){return{"font-size":12,"font-color":"black",fill:"none"}},type:Object},defaultStyleConnectGuideBbox:{default:function(){return{stroke:"#00FF00",fill:"none","stroke-dasharray":"- ","shape-rendering":"crispEdges"}},type:Object},defaultStyleConnectGuideSpotCircle:{default:function(){return{r:7,stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.5,cursor:"pointer"}},type:Object},defaultStyleConnectGuideSpotRect:{default:function(){return{stroke:"#A6A6A6","stroke-width":1,fill:"#FFE400","fill-opacity":.2,cursor:"ns-resize",w:20,h:10}},type:Object},defaultStyleConnectableHighlight:{default:function(){return{}},type:Object}},data:function(){let e=this.uuid(),t=e+"-slider";return{props:JSON.parse(JSON.stringify(this.$props)),id:e,sliderId:t,canvas:null,elements:{},container:null,timerMap:{renderingTime:{}}}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)"object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(n=!0):e[a]!=t[a]&&(n=!0);n&&this.canvas&&this.setCanvasConfiguration(this.canvas)},deep:!0}},computed:{opengraphRole:function(){return"canvas"}},mounted:function(){this.render(),this.bindEvents();var e=this;window.Vue.OGBus.$on("renderingTime",function(t,n){e.timerMap.renderingTime[t]||(e.timerMap.renderingTime[t]=0),e.timerMap.renderingTime[t]+=n})},methods:{setCanvasConfiguration:function(e){var t=this;e._CONTAINER=$(this.$el).find(".canvas-wrapper")[0],this.container=e._CONTAINER,e._CONFIG.CANVAS_BACKGROUND=this.backgroundColor,e._CONFIG.IMAGE_BASE=this.imageBase,e._CONFIG.SCALE_MIN=this.scaleMin,e._CONFIG.SCALE_MAX=this.scaleMax,$(e.getRootElement()).css({"background-color":t.backgroundColor}),t.backgroundImage&&$(e.getRootElement()).css({"background-image":t.backgroundImage}),e.setCanvasSize([t.width,t.height]),e._CONFIG.POOL_DROP_EVENT=this.poolDropEvent,e._CONFIG.AUTOMATIC_GUIDANCE=this.automaticGuidance,e._CONFIG.SPOT_ON_SELECT=this.spotOnSelect,e._CONFIG.AUTO_SLIDER_UPDATE=this.autoSliderUpdate,e._CONFIG.AUTO_HISTORY=this.autoHistory,e._CONFIG.WHEEL_SCALABLE=this.wheelScalable,e._CONFIG.DRAG_PAGE_MOVABLE=this.dragPageMovable,e._CONFIG.FOCUS_CANVAS_ONSELECT=this.focusCanvasOnSelect,e._CONFIG.CHECK_BRIDGE_EDGE=this.checkBridgeEdge,e._CONFIG.STICK_GUIDE=this.stickGuide,e._CONFIG.SELECTABLE=this.selectable,e._CONFIG.DRAG_SELECTABLE=this.dragSelectable,e._CONFIG.MOVABLE=this.movable,e._CONFIG.RESIZABLE=this.resizable,e._CONFIG.CONNECTABLE=this.connectable,e._CONFIG.SELF_CONNECTABLE=this.selfConnectable,e._CONFIG.CONNECT_CLONEABLE=this.selfCloneable,e._CONFIG.CONNECT_STYLE_CHANGE=this.connectStyleChange,e._CONFIG.LABEL_EDITABLE=this.labelEditable,e._CONFIG.GROUP_DROPABLE=this.groupDropable,e._CONFIG.DRAG_GRIDABLE=this.dragGridable,e._CONFIG.ENABLE_CONTEXTMENU=this.enableContextmenu,e._CONFIG.ENABLE_ROOT_CONTEXTMENU=this.enableRootContextmenu,e._CONFIG.ENABLE_HOTKEY=this.enableHotkey,e._CONFIG.ENABLE_HOTKEY_CTRL_Z=this.enableHotkeyCtrlZ,e._CONFIG.ENABLE_HOTKEY_DELETE=this.enableHotkeyDelete,e._CONFIG.ENABLE_HOTKEY_CTRL_A=this.enableHotkeyCtrlA,e._CONFIG.ENABLE_HOTKEY_CTRL_C=this.enableHotkeyCtrlC,e._CONFIG.ENABLE_HOTKEY_CTRL_V=this.enableHotkeyCtrlV,e._CONFIG.ENABLE_HOTKEY_CTRL_D=this.enableHotkeyCtrlD,e._CONFIG.ENABLE_HOTKEY_CTRL_G=this.enableHotkeyCtrlG,e._CONFIG.ENABLE_HOTKEY_CTRL_U=this.enableHotkeyCtrlU,e._CONFIG.ENABLE_HOTKEY_ARROW=this.enableHotkeyArrow,e._CONFIG.ENABLE_HOTKEY_SHIFT_ARROW=this.enableHotkeyShiftArrow,e._CONFIG.DEFAULT_STYLE.SHAPE=this.defaultStyleShape,e._CONFIG.DEFAULT_STYLE.GEOM=this.defaultStyleGeometry,e._CONFIG.DEFAULT_STYLE.TEXT=this.defaultStyleText,e._CONFIG.DEFAULT_STYLE.HTML=this.defaultStyleHtml,e._CONFIG.DEFAULT_STYLE.IMAGE=this.defaultStyleImage,e._CONFIG.DEFAULT_STYLE.SVG=this.defaultStyleSvg,e._CONFIG.DEFAULT_STYLE.EDGE=this.defaultStyleEdge,e._CONFIG.DEFAULT_STYLE.GROUP=this.defaultStyleGroup,e._CONFIG.DEFAULT_STYLE.GUIDE_BBOX=this.defaultStyleGuideBbox,e._CONFIG.DEFAULT_STYLE.GUIDE_UL=this.defaultStyleGuideUl,e._CONFIG.DEFAULT_STYLE.GUIDE_UR=this.defaultStyleGuideUr,e._CONFIG.DEFAULT_STYLE.GUIDE_LL=this.defaultStyleGuideLl,e._CONFIG.DEFAULT_STYLE.GUIDE_LR=this.defaultStyleGuideLr,e._CONFIG.DEFAULT_STYLE.GUIDE_LC=this.defaultStyleGuideLc,e._CONFIG.DEFAULT_STYLE.GUIDE_UC=this.defaultStyleGuideUc,e._CONFIG.DEFAULT_STYLE.GUIDE_RC=this.defaultStyleGuideRc,e._CONFIG.DEFAULT_STYLE.GUIDE_LWC=this.defaultStyleGuideLwc,e._CONFIG.DEFAULT_STYLE.GUIDE_VIRTUAL_EDGE=this.defaultStyleVirtualEdge,e._CONFIG.DEFAULT_STYLE.RUBBER_BAND=this.defaultStyleRubberBand,e._CONFIG.DEFAULT_STYLE.DROP_OVER_BBOX=this.defaultStyleDropOverBbox,e._CONFIG.DEFAULT_STYLE.LABEL=this.defaultStyleLabel,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_BBOX=this.defaultStyleConnectGuideBbox,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_CIRCLE=this.defaultStyleConnectGuideSpotCircle,e._CONFIG.DEFAULT_STYLE.CONNECT_GUIDE_SPOT_RECT=JSON.parse(JSON.stringify(this.defaultStyleConnectGuideSpotRect)),e._CONFIG.DEFAULT_STYLE.CONNECTABLE_HIGHLIGHT=this.defaultStyleConnectableHighlight,this.slider?e._CONFIG.SLIDER||(e.addSlider({slider:$("#"+this.sliderId),left:20,width:200,height:300,appendTo:"body",position:{my:"bottom",at:"bottom",of:e._CONTAINER}}),$("#"+this.sliderId).css("position","absolute")):e.removeSlider()},getElementById:function(e){return this.elements[e]},render:function(){OG.renderer.RaphaelRenderer.prototype.getContainer=function(){return this._PAPER.canvas.parentNode.parentNode};var e=new OG.Canvas(this.id,[this.width,this.height],this.backgroundColor,this.backgroundImage?"url("+this.backgroundImage+")":null);this.setCanvasConfiguration(e),e.initConfig({}),this.canvas=e,this.$emit("canvasReady",this)},bindEvents:function(){var e=this;e.canvas&&(e.canvas.onDrawShape(function(t,n){e.$emit("drawShape",e.getElementById(n.id)||n)}),e.canvas.onAddHistory(function(t){for(var n in e.$ModelingBus.$emit("MoveEvent"),e.elements)e.elements[n].emitElement();e.$emit("userAction"),e.$nextTick(function(){e.canvas.setCanvasSize([4e3,4e3])})}),e.canvas.onDivideLane(function(t,n){e.$emit("divideLane",e.getElementById(n.id)||n)}),e.canvas.onDrawLabel(function(t,n,a){e.$emit("drawLabel",e.getElementById(n.id)||n,a)}),e.canvas.onLabelChanged(function(t,n,a,i){console.log("label Chenage -----------------"),e.$emit("labelChanged",e.getElementById(n.id)||n,a,i)}),e.canvas.onBeforeLabelChange(function(t,n,a,i){e.$emit("beforeLabelChange",e.getElementById(n.id)||n,a,i)}),e.canvas.onRedrawShape(function(t,n){e.$emit("redrawShape",e.getElementById(n.id)||n)}),e.canvas.onRemoveShape(function(t,n){e.$emit("removeShape",e.getElementById(n.id)||n)}),e.canvas.onRotateShape(function(t,n,a){e.$emit("Rotate",e.getElementById(n.id)||n,a)}),e.canvas.onMoveShape(function(t,n,a){e.$emit("moveShape",e.getElementById(n.id)||n,a)}),e.canvas.onResizeShape(function(t,n,a){e.$emit("resizeShape",e.getElementById(n.id)||n,a)}),e.canvas.onBeforeConnectShape(function(t,n,a,i){var o;return e.$emit("beforeConnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i,function(e){o=e}),o}),e.canvas.onBeforeRemoveShape(function(t,n){var a;return e.$emit("beforeRemoveShape",e.getElementById(n.id)||n,function(e){a=e}),a}),e.canvas.onConnectShape(function(t,n,a,i){e.$emit("connectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onDisconnectShape(function(t,n,a,i){e.$emit("disconnectShape",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}),e.canvas.onGroup(function(t,n){e.$emit("group",e.getElementById(n.id)||n)}),e.canvas.onUnGroup(function(t,n){for(var a=[],i=0;i<n.lenght;i++)a.push(e.getElementById(n[i].id)||n[i]);e.$emit("unGroup",a)}),e.canvas.onCollapsed(function(t,n){e.$emit("collapsed",e.getElementById(n.id)||n)}),e.canvas.onExpanded(function(t,n){e.$emit("expanded",e.getElementById(n.id)||n)}),e.canvas.onDuplicated(function(t,n,a,i){e.$emit("clone",e.getElementById(n.id)||n,e.getElementById(a.id)||a,e.getElementById(i.id)||i)}))},addElement:function(e,t){this.elements[t]=e},removeElement:function(e){var t,n=this;if(this.$emit("beforeDestroyElement",n.getElementById(e),function(e){t=e}),"boolean"!=typeof t||t){delete this.elements[e];var a=this.canvas.getElementById(e);a&&($(a).removeAttr("_toedge"),$(a).removeAttr("_fromedge"),this.canvas.removeShape(a,!0))}else;},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},printTimer:function(e,t){this.timerMap={renderingTime:{}}}}}),r=o,l=(n("a59b"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("99d9"),m=Object(l["a"])(r,a,i,!1,null,"a4a32e58",null);t["default"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["b"]})},1:function(e,t){},1150:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("group-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,label:e.namePanel,width:e.value.elementView.width,height:e.value.elementView.height,customMoveActionExist:e.isCustomMoveActionExist,image:e.setImg,_style:{"vertical-align":"top","font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:label":function(t){e.namePanel=t},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},customMoveAction:e.delayedMove,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addToGroup:e.onAddToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#000000","fill-opacity":1,"vertical-align":"top","font-weight":"bold","font-size":"16",r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#000000",fill:"#e3e1e1","fill-opacity":.5,"vertical-align":"top","font-weight":"bold","font-size":"16",r:"1"}}}),n("storming-sub-controller",{attrs:{type:e.type}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)})],2),e.openPanel?n("modeling-property-panel",{attrs:{errorMsg:e.errorMsg,titleName:"BoundedContext"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r=n("8e15"),l=n("2479"),s=(n("64ae"),n("761a"),{components:{ImageElement:l["default"],GroupElement:r["default"]},mixins:[o["default"]],name:"bounded-context-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel?"Please give a name.":""},alertImage(){var e=this;return""==e.namePanel},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.BoundedContext"},createNew(e,t,n,a,i){return{_type:this.className(),name:"BoundedContext"+t,namePlural:"",aggregates:[],policies:[],viewes:[],elementView:{_type:this.className(),id:e,x:t,y:n,width:300,height:300,style:JSON.stringify({})},portGenerated:0,groups:[],tempId:""}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},"value.name":function(e,t){this.namePanel=e,this.isValueChanged=!0},openPanel:function(e){var t=this;0==e&&t.$nextTick(function(){t.isValueChanged&&(t.isValueChanged=!1)})}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead});var n=this.value.elementView.id,a=$("#"+n);a.parent().children().first().before(a);e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="initImg",e.$nextTick(function(){"initImg"==this.setImg?this.setImg="":this.setImg="initImg"})}}}),c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"68fcfe72",null);t["default"]=d.exports},1271:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM python:2.7-slim\n| WORKDIR /app\n| ADD . /app")},"12be":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("geometry-polygon",{attrs:{vertices:[[20,75],[40,30],[60,60],[80,20],[60,75],[40,50]],_style:{fill:"black","fill-opacity":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-error-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom"}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.ErrorEndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"9bd80d58",null);t["default"]=c.exports},1356:function(e,t,n){},"14b3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.value[0]?n("v-card",[e.value[0]?n("v-card-title",[e._v("\n            "+e._s(e.value[0].name)+"\n        ")]):e._e(),e.value[0].name.includes(".png")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):e.value[0].name.includes(".jpg")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[e.value[0]?n("codemirror",{ref:"codemirror",attrs:{value:e.value[0].code,options:e.cmOption,height:"700"},on:{ready:e.onCmReady,Focus:e.onCmFocus,input:e.onCmCodeChange}}):e._e()],1)],1):e._e()],1)},i=[],o=(n("ced0"),n("47ac"),n("959b"),n("dc5b"),n("02f0"),n("d5e0"),n("db91"),n("a7be"),n("7ba3"),n("4ba6"),{name:"code-viewer",props:{value:Array},data(){return{}},computed:{cmOption(){if(this.value.length>0){if(this.value[0].name.includes(".java"))var e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-java",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:!0,scrollbarStyle:null,lineWiseCopyCut:!0};else if(this.value[0].name.includes(".yml")||this.value[0].name.includes(".yaml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-yaml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".md"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-markdown",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".properties"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-properties",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("mvnw"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-sh",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".xml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/xml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("Dockerfile"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-dockerfile",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".json"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/json",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".py"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-python",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".png")||this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/png;base64,${this.value[0].code}`;else if(this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/jpg;base64,${this.value[0].code}`;return e}}},watch:{},methods:{onScroll(e){},onCmReady(e){},onCmFocus(e){},onCmCodeChange(e){}},mounted(){},beforeDestroy(){}}),r=o,l=(n("e46d"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("99d9"),m=n("a523"),p=n("adda"),v=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=v.exports;c()(v,{VCard:u["a"],VCardText:d["b"],VCardTitle:d["c"],VContainer:m["a"],VImg:p["a"]})},"154b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("horizontal-lane-element",{attrs:{selectable:"",movable:"",resizable:"",deletable:"",id:e.role.elementView.id,x:e.role.elementView.x,y:e.role.elementView.y,width:e.role.elementView.width,height:e.role.elementView.height,_style:e.style,parentId:e.role.elementView.parent,label:e.role.name},on:{"update:id":function(t){return e.$set(e.role.elementView,"id",t)},"update:x":function(t){return e.$set(e.role.elementView,"x",t)},"update:y":function(t){return e.$set(e.role.elementView,"y",t)},"update:width":function(t){return e.$set(e.role.elementView,"width",t)},"update:height":function(t){return e.$set(e.role.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.role.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.role.elementView,"parent",t)},"update:label":function(t){return e.$set(e.role,"name",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger}},[n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.role},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.role=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Pool/Lane (Role) Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),n("md-radio",{attrs:{id:"roleDef",name:"roleDef","md-value":"Human"},model:{value:e.roleDef,callback:function(t){e.roleDef=t},expression:"roleDef"}},[e._v("Human")]),n("md-radio",{attrs:{id:"roleDef",name:"roleDef","md-value":"System"},model:{value:e.roleDef,callback:function(t){e.roleDef=t},expression:"roleDef"}},[e._v("System")]),"Human"==e.roleDef?n("div",[n("md-radio",{attrs:{id:"roleResolution",name:"roleResolution","md-value":"null"},model:{value:e.roleResolution,callback:function(t){e.roleResolution=t},expression:"roleResolution"}},[e._v("None")]),n("md-radio",{attrs:{id:"roleResolution",name:"roleResolution","md-value":"org.uengine.five.overriding.IAMRoleResolutionContext"},model:{value:e.roleResolution,callback:function(t){e.roleResolution=t},expression:"roleResolution"}},[e._v("Role Resolution By IAM Scope")]),n("md-radio",{attrs:{id:"roleResolution",name:"roleResolution","md-value":"org.uengine.kernel.DirectRoleResolutionContext"},model:{value:e.roleResolution,callback:function(t){e.roleResolution=t},expression:"roleResolution"}},[e._v("Role Resolution By Direct user")]),e.role.roleResolutionContext&&"org.uengine.five.overriding.IAMRoleResolutionContext"==e.role.roleResolutionContext._type?n("md-input-container",[n("label",[e._v("Scope Name")]),n("md-input",{model:{value:e.role.roleResolutionContext.scope,callback:function(t){e.$set(e.role.roleResolutionContext,"scope",t)},expression:"role.roleResolutionContext.scope"}})],1):e._e(),e.role.roleResolutionContext&&"org.uengine.kernel.DirectRoleResolutionContext"==e.role.roleResolutionContext._type?n("md-input-container",[n("label",[e._v("User ID")]),n("md-input",{model:{value:e.role.roleResolutionContext.endpoint,callback:function(t){e.$set(e.role.roleResolutionContext,"endpoint",t)},expression:"role.roleResolutionContext.endpoint"}})],1):e._e()],1):e._e(),"System"==e.roleDef?n("div",[n("md-input-container",[n("label",[e._v("Select serviceId from eureka")]),n("md-select",{model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},e._l(e.serviceIds,function(t){return n("md-option",{attrs:{value:t}},[e._v(e._s(t))])}),1)],1)],1):e._e()],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-role",props:{},created:function(){this.loadRolesFromEureka()},computed:{defaultStyle(){return{}},type(){return"Role"},createNew(e,t,n,a){return{name:"",displayName:{},roleResolutionContext:null,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:null,x:e,y:t,width:n,height:a,style:JSON.stringify({})}}}},data:function(){return{serviceIds:null,roleDef:"Human",roleResolution:!1}},watch:{drawer:function(e){this.loadRolesFromEureka()},"role.name":function(e,t){var n=this;$.each(this.bpmnVue.data.definition.childActivities[1],function(e,a){a&&a.role&&a.role.name==t&&(a.role=JSON.parse(JSON.stringify(n.role)),console.log(a.tracingTag+" Human activitiy role changed by role name updated!!"))})},roleResolution:function(e){e?(this.role.roleResolutionContext||(this.role.roleResolutionContext={endpoint:null,scope:null}),this.role.roleResolutionContext._type=e):this.role.roleResolutionContext=null}},created:function(){this.role.roleResolutionContext&&(this.roleResolution=this.role.roleResolutionContext._type)},methods:{loadRolesFromEureka:function(){var e=this;this.$root.codi("eureka/apps").get().then(function(t){console.log(t.data),t.data.applications.application.forEach(function(t){null==e.serviceIds&&(e.serviceIds=[]),e.serviceIds.push(t.name)})})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"957d4156",null);t["default"]=c.exports},1603:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["Failed"==e.status?n("div",["StartEvent"==e.type||"EndEvent"==e.type||"IntermediateEvent"==e.type||"Gateway"==e.type?n("div",[n("image-element",{attrs:{image:e.failed_image,"sub-width":"20px","sub-height":"20px","sub-right":"5px","sub-bottom":"5px"}},[n("md-tooltip",{attrs:{"md-direction":"bottom"}},[e._v("My tooltip")])],1)],1):n("div",[n("image-element",{attrs:{image:e.failed_image,"sub-width":"20px","sub-height":"20px","sub-right":"6%","sub-top":"5px"}},[n("md-tooltip",{attrs:{"md-direction":"bottom"}},[e._v("My tooltip")])],1)],1)]):e._e(),"Stopped"==e.status?n("div",["StartEvent"==e.type||"EndEvent"==e.type||"IntermediateEvent"==e.type||"Gateway"==e.type?n("div",[n("image-element",{attrs:{image:e.stopped_image,"sub-width":"20px","sub-height":"20px","sub-right":"5px","sub-bottom":"5px"}})],1):n("div",[n("image-element",{attrs:{image:e.stopped_image,"sub-width":"20px","sub-height":"20px","sub-right":"6%","sub-top":"5px"}})],1)]):e._e(),"Completed"==e.status?n("div",["StartEvent"==e.type||"EndEvent"==e.type||"IntermediateEvent"==e.type||"Gateway"==e.type?n("div",[n("image-element",{attrs:{image:e.complete_image,"sub-width":"20px","sub-height":"20px","sub-right":"5px","sub-bottom":"5px"}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("My tooltip")])],1)],1):n("div",[n("image-element",{attrs:{image:e.complete_image,"sub-width":"20px","sub-height":"20px","sub-right":"6%","sub-top":"5px"}})],1)]):e._e(),"Running"==e.status?n("div",["StartEvent"==e.type||"EndEvent"==e.type||"IntermediateEvent"==e.type||"Gateway"==e.type?n("div",[n("image-element",{attrs:{image:e.running_image,"sub-width":"20px","sub-height":"20px","sub-right":"-10px","sub-bottom":"-5px"}})],1):n("div",[n("image-element",{attrs:{image:e.running_image,"sub-width":"20px","sub-height":"20px","sub-align":"center","sub-top":"0px"}})],1),n("StartEvent"==e.type||"EndEvent"==e.type||"IntermediateEvent"==e.type||"Gateway"==e.type?"circle-element":"rectangle-element",{tag:"component",attrs:{"sub-z-index":-1,"sub-width":"120%","sub-height":"120%","sub-right":"-10%","sub-bottom":"-10%","sub-style":e.animationStyle}})],1):e._e()])},i=[],o={name:"bpmn-state-animation",props:{status:String,type:String,faultMessage:String},computed:{},data:function(){var e={"fill-opacity":1,animation:[{start:{fill:"white"},to:{fill:"#C9E2FC"},ms:1e3},{start:{fill:"#C9E2FC"},to:{fill:"white"},ms:1e3,delay:1e3}],"animation-repeat":!0,fill:"#C9E2FC",r:"10","stroke-width":"0.2","stroke-dasharray":"--"};return"StartEvent"!=this.type&&"EndEvent"!=this.type&&"IntermediateEvent"!=this.type&&"Gateway"!=this.type||delete e.r,{animationStyle:e,complete_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/complete.png",running_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/running.png",stopped_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/stopped.png",failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/failed.png"}},watch:{},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"f817453e",null);t["default"]=s.exports},1777:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-card",{staticStyle:{"box-shadow":"0 0 0 rgba(0, 0, 0, 0.2), 0 0 0 rgba(0, 0, 0, 0.14), 0 0 0 0 rgba(0, 0, 0, 0.12)"},attrs:{draggable:"true",_drag:"drag"},nativeOn:{dragstart:function(t){return e.dragover(t)},dragleave:function(t){return e.onDragLeave(t)},dragenter:function(t){return e.onDragenter(t)}}},[n("div",["loopCount"==e.value.type||"org.uengine.five.kernel.LoopCountEvaluate"==e.value._type?n("div",{attrs:{id:"processVal"}},[e.definition&&e.definition.childActivities?n("md-input-container",{staticStyle:{"min-width":"1px"}},[n("label",[e._v(e._s(e.$t("loopCountOf")))]),n("md-select",{staticStyle:{"min-width":"1px"},attrs:{id:"input"},model:{value:e.value.key,callback:function(t){e.$set(e.value,"key",t)},expression:"value.key"}},e._l(e.definition.childActivities[1],function(t){return t&&t.name&&t.name.text?n("md-option",{key:t.tracingTag,attrs:{value:t.tracingTag}},[e._v("\n                "+e._s(t.name.text)+"\n              ")]):e._e()}),1)],1):e._e()],1):n("div",{attrs:{id:"processVal"}},[e.definition&&e.definition.processVariableDescriptors?n("md-input-container",{staticStyle:{"min-width":"1px"}},[n("label",[e._v(e._s(e.$t("variable")))]),n("md-select",{staticStyle:{"min-width":"1px"},attrs:{id:"input"},model:{value:e.value.pv.name,callback:function(t){e.$set(e.value.pv,"name",t)},expression:"value.pv.name"}},e._l(e.definition.processVariableDescriptors,function(t){return n("md-option",{key:t.name,attrs:{value:t.name}},[e._v("\n                "+e._s(t.name)+"\n              ")])}),1)],1):e._e()],1),n("div",{attrs:{id:"dataCon"}},[n("md-input-container",{staticStyle:{"min-width":"1px"}},[n("label",[e._v("Comparator")]),n("md-select",{staticStyle:{"min-width":"1px"},attrs:{type:"text"},on:{change:e.conditionChanged},model:{value:e.value.condition,callback:function(t){e.$set(e.value,"condition",t)},expression:"value.condition"}},[n("md-option",{attrs:{value:"=="}},[e._v("=")]),n("md-option",{attrs:{value:">"}},[e._v(">")]),n("md-option",{attrs:{value:"<"}},[e._v("<")]),n("md-option",{attrs:{value:"means"}},[e._v("means")]),n("md-option",{attrs:{value:"loopCount"}},[e._v("loop count")])],1)],1)],1),n("div",{attrs:{id:"dataVal"}},[n("md-input-container",{staticStyle:{"min-width":"1px"}},[n("label",[e._v("Value")]),n("md-input",{staticStyle:{"min-width":"1px"},model:{value:e.value.val,callback:function(t){e.$set(e.value,"val",t)},expression:"value.val"}})],1)],1)])])],1)},i=[],o={name:"org-uengine-kernel-Evaluate",props:["definition","value"],created:function(){if(this.value||(this.value={_type:"org.uengine.kernel.Evaluate",pv:{name:""},condition:"==",val:""}),console.log("def: "+this.definition),this.value.pv||(this.value.pv={}),!this.definition){var e;e=this.$parent;while(-1==e.$vnode.tag.indexOf("bpmn-relation"))e=e.$parent;this.definition=e.definition}},watch:{value:{handler:function(){this.$emit("input",this.value)},deep:!0}},methods:{dragover:function(){window._dragItem=this},drag:function(){var e;e=this.$parent;while(-1==e.$vnode.tag.indexOf("org-uengine-kernel"))e=e.$parent;var t=this.$parent.value.conditionsVt.indexOf(this.value);this.$parent.value.conditionsVt.splice(t,1)},onDragenter:function(){var e=this;e.folderName=this.value.conditionsVt,e.navigationName=this.value.conditionsVt},onDragLeave:function(){console.log("드래그 끝")},conditionChanged:function(){"means"==this.value.condition?(this.value._type="org.uengine.five.kernel.SemanticEvaluate",this.value.condition=">"):"loopCount"==this.value.condition||"org.uengine.five.kernel.LoopCountEvaluate"==this.value._type?this.value._type="org.uengine.five.kernel.LoopCountEvaluate":this.value._type="org.uengine.kernel.Evaluate",this.$emit("input",this.value)}}},r=o,l=(n("7a8a"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},"1aff":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[e.navigationDrawer?n("v-navigation-drawer",{style:{width:600},attrs:{absolute:"",permanent:"",right:""}},[e.item._instanceInfo?n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Key")]),n("th",{staticClass:"text-left"},[e._v("Value")])])]),n("tbody",e._l(e.item._instanceInfo,function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(a))]),n("td",[e._v(e._s(e.item._instanceInfo[a]))])])}),0)]},proxy:!0}],null,!1,91309339)}):e._e()],1):e._e()],1)},i=[],o=n("d693"),r=n("3d87"),l={mixins:[o["default"],r["default"]],name:"bpmn-property-panel",props:{drawer:{default:function(){return!1},type:Boolean},item:Object},computed:{},data:function(){return{navigationDrawer:this.drawer,_item:this.item,preventWatch:!1,x:null,y:null,width:null,height:null,style:[],active:null,tracingTag:null}},created:function(){},mounted:function(){},watch:{drawer:function(e){this.navigationDrawer=e},navigationDrawer:{handler:function(e,t){if(console.log("val",e),1==e){this._item=this.item,this.item.elementView&&(this.x=this.item.elementView.x,this.y=this.item.elementView.y,this.width=this.item.elementView.width,this.height=this.item.elementView.height);var n=this.item.elementView||this.item.relationView,a=[];if(n.style){var i=JSON.parse(n.style);if(!$.isEmptyObject(i))for(var o in i)a.push({key:o,value:i[o]});this.style=a}this.item.tracingTag&&(this.tracingTag=this.item.tracingTag),this.bpmnVue.propertyEditing=!0,this.$emit("update:drawer",!0)}else this.bpmnVue&&(this.bpmnVue.propertyEditing=!1),this.$emit("update:drawer",!1)}},x:function(e){this._item.elementView.x=e,this.$emit("update:item",this._item)},y:function(e){this._item.elementView.y=e,this.$emit("update:item",this._item)},width:function(e){this._item.elementView.width=e,this.$emit("update:item",this._item)},height:function(e){this._item.elementView.height=e,this.$emit("update:item",this._item)},style:{handler:function(e,t){var n={};e&&e.length&&$.each(e,function(e,t){n[t.key]=t.value});var a=this._item.elementView||this._item.relationView;a.style=JSON.stringify(n),this.$emit("update:item",this._item)},deep:!0},tracingTag:function(e){var t=this;if(t._item.tracingTag==e);else if(t.bpmnVue.checkExistTracingTag(e))console.log("TracingTag aleardy exist.");else if(e&&e.length>0){var n=t._item.tracingTag;t._item.tracingTag=e,t.$emit("update:item",t._item);var a=t.bpmnVue.data.definition.sequenceFlows;a&&a.length&&$.each(a,function(t,a){a.sourceRef==n&&(a.sourceRef=e),a.targetRef==n&&(a.targetRef=e)})}}},mounted:function(){},methods:{open(e){this.navigationDrawer=!0,console.log("Opened: "+e)},close(e){this.navigationDrawer=!1,console.log("Closed: "+e)},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},s=l,c=(n("2b70"),n("2877")),u=n("6544"),d=n.n(u),m=n("a722"),p=n("f774"),v=n("1f4f"),h=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=h.exports;d()(h,{VLayout:m["a"],VNavigationDrawer:p["a"],VSimpleTable:v["a"]})},"1b05":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("image-element",{attrs:{image:e.script_image,"sub-width":"20px","sub-height":"20px","sub-top":"5px","sub-left":"5px"}}),n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("실행 언어")]),n("md-select",{attrs:{type:"text"},model:{value:e.activity.language,callback:function(t){e.$set(e.activity,"language",t)},expression:"activity.language"}},[n("md-option",{attrs:{value:0}},[e._v("Javascript")]),n("md-option",{attrs:{value:1}},[e._v("Java")])],1)],1),n("md-input-container",[n("label",[e._v("스크립트")]),n("md-textarea",{model:{value:e.activity.script,callback:function(t){e.$set(e.activity,"script",t)},expression:"activity.script"}})],1),n("md-input-container",[n("label",[e._v("실행 결과 변수 매핑")]),n("md-textarea",{model:{value:e.activity.out.name,callback:function(t){e.$set(e.activity.out,"name",t)},expression:"activity.out.name"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-script-task",props:{},created:function(){this.activity.role||(this.activity.role={name:""})},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.ScriptActivity"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},out:{name:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{links:null,script_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/Script.png"}},mounted:function(){}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"d9c9d9ae",null);t["default"]=c.exports},"1c25":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:e.closeComponentChanger,deSelectShape:e.closeComponentChanger,removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-polygon",{attrs:{vertices:[[0,50],[50,100],[100,50],[50,0]]}}),n("geometry-circle",{attrs:{center:[49,49],radius:30,_style:{"stroke-width":.5}}}),n("geometry-circle",{attrs:{center:[49,49],radius:25,_style:{"stroke-width":.5}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,32],[32,48],[40,64],[60,64],[65,48]],_style:{"stroke-width":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-event-based-gateway",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"Gateway"},className(){return"org.uengine.kernel.bpmn.EventBasedGateway"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7b78e179",null);t["default"]=c.exports},"1c71":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:e.widthScale},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.titleName)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){return e.closePanel()}}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-close")])],1),n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}],null,!1,791909791),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",[e._v(e._s(e.getDescriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-divider"),n("v-card",{attrs:{outlined:""}},[n("v-card-text",[""!=e.errorMsg?n("div",{staticStyle:{color:"red"}},[e._v("Notice: "+e._s(e.errorMsg))]):e._e(),n("span",{staticClass:"headline"},[e._v("Basic Info")]),n("v-text-field",{attrs:{error:""==e.namePanel,id:"elementName",disabled:e.isRead,label:"Name"},model:{value:e.namePanel,callback:function(t){e.namePanel=t},expression:"namePanel"}}),"org.uengine.modeling.model.BoundedContext"==e.copyElement._type?n("v-text-field",{attrs:{label:"Preferred Platform"},model:{value:e.copyElement.preferredPlatform,callback:function(t){e.$set(e.copyElement,"preferredPlatform",t)},expression:"copyElement.preferredPlatform"}}):e._e(),e.usedTranslate?n("v-card",{attrs:{outlined:"",disabled:e.isRead}},[n("v-card-text",{on:{click:function(t){return e.changeTranslate()}}},[e._v("\n                            추천 단어 : "+e._s(e.translateText)+"\n                        ")]),n("v-card-text",[e._v("\n                            선택시 변경 됩니다.\n                        ")])],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Trigger")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-radio-group",{staticStyle:{width:"290px"},attrs:{disabled:e.isRead},model:{value:e.copyElement.trigger,callback:function(t){e.$set(e.copyElement,"trigger",t)},expression:"copyElement.trigger"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{dense:""}},[n("v-radio",{staticStyle:{width:"110px"},attrs:{label:"Pre Persist",value:"@PrePersist"}}),n("v-radio",{attrs:{label:"Pre Update",value:"@PreUpdate"}}),n("v-radio",{attrs:{label:"Pre Remove",value:"@PreRemove"}})],1),n("v-col",{attrs:{dense:""}},[n("v-radio",{attrs:{label:"Post Persist",value:"@PostPersist"}}),n("v-radio",{attrs:{label:"Post Update",value:"@PostUpdate"}}),n("v-radio",{staticStyle:{width:"130px"},attrs:{label:"Post Remove",value:"@PostRemove"}})],1)],1)],1)],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Attributes")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.copyElement.fieldDescriptors,callback:function(t){e.$set(e.copyElement,"fieldDescriptors",t)},expression:"copyElement.fieldDescriptors"}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.copyElement.fieldDescriptors,function(t){return n("div",{key:t.name},[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticStyle:{"margin-right":"4px"},attrs:{cols:"1"}},[t.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(n){return e.selectKey(t)}}},[e._v("\n                                                    mdi-key\n                                                ")]):n("v-icon",{on:{click:function(n){return e.selectKey(t)}}},[e._v("\n                                                    mdi-checkbox-blank-circle-outline\n                                                ")])],1),n("v-col",{attrs:{cols:"2"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:t.className,callback:function(n){e.$set(t,"className",n)},expression:"element.className"}}):e._e():n("div",[e._v("\n                                                    "+e._s(t.className)+"\n                                                ")])],1),n("v-col",{attrs:{cols:"5"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}):e._e():n("div",[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])],1),n("v-col",{attrs:{cols:"2"}},[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.modifyAttributeItem(t)}}},[e._v("\n                                                    mdi-content-save\n                                                ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(t)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.editAttributeItem(t)}}},[e._v("\n                                                    edit\n                                                ")]),t.isKey?e._e():n("v-icon",{attrs:{small:"",disabled:e.isRead},on:{click:function(n){return e.deleteAttribute(t)}}},[e._v("\n                                                    delete\n                                                ")])],1)],1)],1)}),0)],1),n("v-row",{attrs:{justify:"center"}},[n("v-select",{staticStyle:{width:"30px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}}),n("v-text-field",{attrs:{label:"Name",disabled:e.isRead,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1),n("v-row",{attrs:{justify:"end"}},["org.uengine.modeling.model.Event"==e.copyElement._type?n("v-btn",{attrs:{text:"",disabled:e.isRead},on:{click:function(t){return e.syncFromAggregate()}}},[n("v-icon",{attrs:{color:"grey lighten-1",small:""}},[e._v("mdi-refresh")]),e._v("\n                                    Sync attributes\n                                ")],1):e._e(),n("v-btn",{attrs:{disabled:e.isRead,rounded:"",color:"primary",dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1)],1)],1):"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.copyElement.aggregateRoot.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.isKey",fn:function(t){var a=t.item;return[a.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(t){return e.selectKey(a)}}},[e._v(" mdi-key\n                                    ")]):n("v-icon",{on:{click:function(t){return e.selectKey(a)}}},[e._v("mdi-checkbox-blank-circle-outline\n                                    ")])]}},{key:"item.className",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:a.className,callback:function(t){e.$set(a,"className",t)},expression:"item.className"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.className)+"\n                                    ")])]}},{key:"item.name",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"item.name"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.name)+"\n                                    ")])]}},{key:"item.action",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.aggregateRoot.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.modifyAttributeItem(a)}}},[e._v("\n                                        mdi-content-save\n                                    ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.editAttributeItem(a)}}},[e._v("\n                                        edit\n                                    ")]),a.isKey?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.deleteAttribute(a)}}},[e._v("\n                                        delete\n                                    ")])]}}],null,!1,1798398235)}),n("v-row",{attrs:{justify:"center"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type",disabled:e.isRead},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Name",disabled:e.isRead,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1)],1),n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{rounded:"",color:"primary",disabled:e.isRead,dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1)],1)],1):e._e(),"org.uengine.modeling.model.Command"==e.copyElement._type?n("v-layout",[n("v-col",[n("v-radio-group",{staticStyle:{"padding-left":"10px"},attrs:{disabled:e.isRead,row:""},model:{value:e.copyElement.isRestRepository,callback:function(t){e.$set(e.copyElement,"isRestRepository",t)},expression:"copyElement.isRestRepository"}},[n("v-radio",{attrs:{label:"RestRepository",value:!0}}),n("v-radio",{attrs:{label:"Controller",value:!1}})],1),n("div",[e._v("Associated Aggregate")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{error:e.isEmptyObject(e.copyElement.aggregate),disabled:e.isRead,items:e.aggregateLists,"item-text":"name","return-object":"",label:"Select Aggregate","persistent-hint":""},model:{value:e.copyElement.aggregate,callback:function(t){e.$set(e.copyElement,"aggregate",t)},expression:"copyElement.aggregate"}}),e.copyElement.isRestRepository?n("v-col",[n("div",[e._v("Method")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{disabled:e.isRead,items:e.restfulList,label:"Method","persistent-hint":""},model:{value:e.copyElement.restRepositoryInfo.method,callback:function(t){e.$set(e.copyElement.restRepositoryInfo,"method",t)},expression:"copyElement.restRepositoryInfo.method"}})],1):n("v-col",[n("div",[e._v("Api path")]),n("v-text-field",{attrs:{outlined:"",hint:"맨 처음 '/' 제외한 apiPath를 작성해주세요. (Default '/')"},model:{value:e.copyElement.controllerInfo.apiPath,callback:function(t){e.$set(e.copyElement.controllerInfo,"apiPath",t)},expression:"copyElement.controllerInfo.apiPath"}}),n("div",[e._v("Method")]),n("v-autocomplete",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{items:e.restfulList,label:"Method","persistent-hint":""},model:{value:e.copyElement.controllerInfo.method,callback:function(t){e.$set(e.copyElement.controllerInfo,"method",t)},expression:"copyElement.controllerInfo.method"}})],1)],1)],1):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.model.External"==e.copyElement._type?n("span",{staticClass:"headline"},[e._v("Associated Aggregate")]):e._e(),"org.uengine.modeling.model.Event"==e.copyElement._type||"org.uengine.model.External"==e.copyElement._type?n("v-layout",{attrs:{flat:""}},[n("v-col",[n("v-autocomplete",{staticStyle:{"margin-left":"20px","margin-right":"20px"},attrs:{error:e.isEmptyObject(e.copyElement.aggregate),items:e.aggregateLists,"item-text":"name","return-object":"",disabled:e.isRead,label:"Select Aggregate","persistent-hint":""},model:{value:e.copyElement.aggregate,callback:function(t){e.$set(e.copyElement,"aggregate",t)},expression:"copyElement.aggregate"}})],1)],1):e._e(),"org.uengine.modeling.model.View"==e.value._type?n("v-layout",{staticStyle:{width:"auto"}},[n("v-card-text",[n("span",{staticClass:"headline"},[e._v("Attributes")]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.copyElement.fieldDescriptors,"hide-default-header":"","hide-default-footer":"",disabled:e.isRead},scopedSlots:e._u([{key:"item.isKey",fn:function(t){var a=t.item;return[a.isKey?n("v-icon",{attrs:{small:"",disabled:""},on:{click:function(t){return e.selectKey(a)}}},[e._v(" mdi-key\n                                    ")]):n("v-icon",{attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.selectKey(a)}}},[e._v("\n                                        mdi-checkbox-blank-circle-outline\n                                    ")])]}},{key:"item.className",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-select",{attrs:{items:e.entityTypeList},model:{value:a.className,callback:function(t){e.$set(a,"className",t)},expression:"item.className"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.className)+"\n                                    ")])]}},{key:"item.name",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-text-field",{attrs:{required:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"item.name"}}):e._e():n("div",[e._v("\n                                        "+e._s(a.name)+"\n                                    ")])]}},{key:"item.action",fn:function(t){var a=t.item;return[e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.modifyAttributeItem(a)}}},[e._v("\n                                        mdi-content-save\n                                    ")]):e.attributeEdit&&e.copyElement.fieldDescriptors.indexOf(a)==e.attributeEditIndex?e._e():n("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.editAttributeItem(a)}}},[e._v("\n                                        edit\n                                    ")]),a.isKey?e._e():n("v-icon",{attrs:{small:"",disabled:e.isRead},on:{click:function(t){return e.deleteAttribute(a)}}},[e._v("\n                                        delete\n                                    ")])]}}],null,!1,1415464949)}),n("v-row",{attrs:{justify:"center"}},[n("v-select",{staticStyle:{width:"30px"},attrs:{items:e.entityTypeList,label:"Type"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}}),n("v-text-field",{attrs:{label:"Name",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAttribute(e.entityType,e.entityName)}},model:{value:e.entityName,callback:function(t){e.entityName=t},expression:"entityName"}})],1),n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{disabled:e.isRead,rounded:"",color:"primary",dark:""},on:{click:function(t){return e.addAttribute(e.entityType,e.entityName)}}},[e._v("\n                                    ADD ATTRIBUTE\n                                ")])],1),n("v-radio-group",{staticStyle:{"padding-left":"10px"},attrs:{row:""},model:{value:e.copyElement.dataProjection,callback:function(t){e.$set(e.copyElement,"dataProjection",t)},expression:"copyElement.dataProjection"}},[n("v-radio",{attrs:{label:"CQRS",value:"cqrs"}}),n("v-radio",{attrs:{disabled:"",label:"UI Mashup",value:"uimashup"}}),n("v-radio",{attrs:{disabled:"",label:"GraphQL",value:"graphql"}})],1),e._l(e.copyElement.createRules,function(t,a){return n("v-col",[n("ViewCreate",{attrs:{createItem:t,index:a,isRead:e.detectionIsRead},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"start",justify:"end"}},[n("v-btn",{attrs:{text:"",disabled:e.isRead},on:{click:function(t){return e.viewMainRowAdd("create")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1),e._l(e.copyElement.updateRules,function(t,a){return n("v-col",[n("ViewUpdate",{attrs:{updateItem:t,index:a,isRead:e.detectionIsRead},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",disabled:e.isRead},on:{click:function(t){return e.viewMainRowAdd("update")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1),e._l(e.copyElement.deleteRules,function(t,a){return n("v-col",[n("ViewDelete",{attrs:{deleteItem:t,index:a,isRead:e.detectionIsRead},model:{value:e.copyElement,callback:function(t){e.copyElement=t},expression:"copyElement"}})],1)}),n("v-row",{attrs:{align:"start",justify:"end"}},[n("v-btn",{attrs:{text:"",disabled:e.isRead},on:{click:function(t){return e.viewMainRowAdd("delete")}}},[n("v-icon",{staticClass:"outlined"},[e._v(" mdi-plus")])],1)],1)],2)],1):"org.uengine.modeling.model.Aggregate"==e.copyElement._type?n("v-layout",[n("v-divider",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{dark:""}}),n("v-btn",{attrs:{block:"",color:"info",rounded:""},on:{click:function(t){return e.umlDiagramOpen()}}},[e._v(" Edit Domain Model by UML\n                        ")])],1):e._e()],1)],1)],1)],1)],1)},i=[],o=n("310e"),r=n.n(o),l=n("8aa5"),s=n.n(l),c=n("2ef0"),u=n("36b0")("AIzaSyB2_MiQOuI2clNuy0QP3yktUXxbfiVAaUk"),d=n("64ae"),m=n("761a"),p=n("e811"),v={name:"modeling-property-panel",props:{value:Object,titleName:String,img:String,errorMsg:String},components:{draggable:r.a},computed:{detectionIsRead(){return this.isRead},getDescriptionText(){var e=this;return"org.uengine.modeling.model.Event"==e.value._type?"도메인 전문가가 정의함. 이벤트 퍼블리싱":"org.uengine.modeling.model.Aggregate"==e.value._type?"비즈니스 로직 처리의 도메인 객체 덩어리 (서로 연결된 하나 이상의 엔터티 및 value objects의 집합체)":"org.uengine.modeling.model.Command"==e.value._type?"행동, 결정 등의 값들에 대한 정의 (UI 혹은 API)":"org.uengine.modeling.model.External"==e.value._type?"외부 시스템":"org.uengine.modeling.model.Policy"==e.value._type?"업무정책 이벤트에 대한 반응 (subscribe)":"org.uengine.modeling.model.View"==e.value._type?"행위와 결정을 하기 위하여 유저가 참고하는 데이터 (데이터 프로젝션이 필요 :  CQRS 등으로 수집)":"org.uengine.modeling.model.BoundedContext"==e.value._type?"이벤트의 내용을 정의하고 시스템의 경계를 구분.":(e.value._type,"")},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},fieldDescriptors:function(){var e=this;return e.value.fieldDescriptors},widthScale:function(){var e=this;return"org.uengine.modeling.model.View"==e.value._type?500:390},aggregateLists:function(){var e=this.$parent.getComponent("modeling-designer"),t=[];return e.value.definition.forEach(function(e){null!=e&&"org.uengine.modeling.model.Aggregate"==e._type&&t.push(e)}),t=t.filter(e=>e),t}},data:function(){return{show:!1,navigationDrawer:!1,_item:this.value,preventWatch:!1,x:null,y:null,width:null,height:null,style:[],angle:null,connectedList:[],connectedListName:{},viewList:null,restfulList:["GET","POST","PATCH","DELETE","PUT"],entityTypeList:["Integer","String","Float","Double","Long","Date"],entityKey:!1,entityType:"",entityName:"",drag:!1,headers:[{text:"key",value:"isKey",align:"center"},{text:"type",value:"className",align:"center"},{text:"name",value:"name",align:"center"},{text:"Actions",value:"action",sortable:!1,align:"center"}],translateText:"",usedTranslate:!1,UMLInput:"",setIsKeyList:[],attributeEdit:!1,attributeEditIndex:0,isRead:!1,namePanel:"",copyElement:{},parmUid:"",parmType:"",left:["A","B","C"],right:["A","B","C"],editingTransformer:null,transformers:[{name:"SUM",_type:"org.uengine.kernel.transformers.SumTransformer",location:{x:300,y:600}}],MathItems:[{text:"Max",value:"org.uengine.processdesigner.mapper.transformers.MaxTransformer"},{text:"Round",value:"org.uengine.processdesigner.mapper.transformers.RoundTransformer"},{text:"Sum",value:"org.uengine.processdesigner.mapper.transformers.SumTransformer"},{text:"Floor",value:"org.uengine.processdesigner.mapper.transformers.FloorTransformer"},{text:"Ceil",value:"org.uengine.processdesigner.mapper.transformers.CeilTransformer"},{text:"Min",value:"org.uengine.processdesigner.mapper.transformers.MinTransformer"},{text:"Concat",value:"org.uengine.processdesigner.mapper.transformers.ConcatTransformer"},{text:"To Number",value:"org.uengine.processdesigner.mapper.transformers.NumberTransformer"},{text:"String to Number Format",value:"org.uengine.processdesigner.mapper.transformers.NumberFormatTransformer"}]}},beforeDestroy(){var e=this,t=(this.$route.params.projectId,this.$route.params.projectVersion,this.$parent.getComponent("modeling-designer"));p.diff(e.value,e.copyElement)?t.$refs[`${e.value.elementView.id}`][0].isValueChanged=!0:t.$refs[`${e.value.elementView.id}`][0].isValueChanged=!1,"org.uengine.modeling.model.Aggregate"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.nameCamelCase=d.camelCase(e.namePanel),e.value.namePlural=d.camelCase(m(e.namePanel)),e.value.aggregateRoot=e.copyElement.aggregateRoot):"org.uengine.modeling.model.Command"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.nameCamelCase=d.camelCase(e.namePanel),e.value.namePlural=d.camelCase(m(e.namePanel)),e.value.aggregate=e.copyElement.aggregate,e.value.isRestRepository=e.copyElement.isRestRepository,e.value.controllerInfo=e.copyElement.controllerInfo,e.value.restRepositoryInfo=e.copyElement.restRepositoryInfo):"org.uengine.modeling.model.Event"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.nameCamelCase=d.camelCase(e.namePanel),e.value.namePlural=d.camelCase(m(e.namePanel)),e.value.trigger=e.copyElement.trigger,e.value.fieldDescriptors=e.copyElement.fieldDescriptors,e.value.aggregate=e.copyElement.aggregate):"org.uengine.modeling.model.View"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.nameCamelCase=d.camelCase(e.namePanel),e.value.namePlural=d.camelCase(m(e.namePanel)),e.value.fieldDescriptors=e.copyElement.fieldDescriptors,e.value.dataProjection=e.copyElement.dataProjection,e.value.createRules=e.copyElement.createRules,e.value.updateRules=e.copyElement.updateRules,e.value.deleteRules=e.copyElement.deleteRules):"org.uengine.modeling.model.Policy"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.nameCamelCase=d.camelCase(e.namePanel),e.value.namePlural=d.camelCase(m(e.namePanel))):"org.uengine.modeling.model.BoundedContext"==e.value._type?(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel),e.value.preferredPlatform=e.copyElement.preferredPlatform):"org.uengine.modeling.model.Actor"==e.value._type&&(e.value.name=e.namePanel,e.value.namePascalCase=d.pascalCase(e.namePanel)),this.$emit("changed",e.copyElement),"2.0"==t.specVersion&&e.setEditUser("editUserPanelClose",e.value.elementView.id)},created:function(){var e=this,t=this.$parent.getComponent("modeling-designer");this.$route.params.projectId,this.$route.params.projectVersion;e.parmUid=this.$route.params.userUid,e.parmType=this.$route.params.type,e.copyElement=JSON.parse(JSON.stringify(e.value)),null!=e.copyElement.name&&(e.namePanel=e.copyElement.name),e.$nextTick(function(){e.isRead=t.isRead}),"2.0"==t.specVersion&&e.setEditUser("editUserPanelOpen",e.value.elementView.id)},mounted:function(){this.fieldDescriptors;var e=this,t=this.$parent.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead})},watch:{namePanel:function(e){var t=this,n=this.$parent.getComponent("modeling-designer");t.copyElement.name=e.replace(/\n/g,"").replace(/ /gi,""),t.getTranslate(t.copyElement.name),n.$refs[`${t.value.elementView.id}`][0].namePanel=t.copyElement.name},navigationDrawer:{handler:function(e,t){this.$parent.getComponent("opengraph");this.titleName,1==e?(this._item=this.value,this.value.elementView&&(this.x=this.value.elementView.x,this.y=this.value.elementView.y,this.width=this.value.elementView.width,this.height=this.value.elementView.height),this.$emit("update:drawer",e),this.$emit("changed",e)):(this.copyElement.name=this.copyElement.name.replace(/\n/g,"").replace(/ /gi,""),this.$emit("update:drawer",!1),this.$emit("changed",null))}}},methods:{isEmptyObject(e){return 0===Object.keys(e).length},addTransformer:function(){this.transformers.push({name:"SUM",_type:"org.uengine.kernel.transformers.SumTransformer",location:{x:300,y:200}})},changeName:function(){this.editingTransformer.name=this.editingTransformer._type},showProperty:function(e){this.editingTransformer=e},setEditUser(e,t){var n,a=this,i=a.$parent.getComponent("modeling-designer");n=void 0==a.projectId||null==a.projectId||"init"==a.projectId?i.parmProjectId:a.projectId,s.a.database().ref("definitions/"+n+"/queue").push({state:e,uid:localStorage.getItem("uid"),name:localStorage.getItem("userName"),picture:localStorage.getItem("picture"),timeStamp:(new Date).getTime(),editElement:t})},closePanel(){var e=this,t=e.$parent.getComponent("modeling-designer");t.$refs[`${e.value.elementView.id}`][0].openPanel&&(t.$refs[`${e.value.elementView.id}`][0].openPanel=!1),t.$refs[`${e.value.elementView.id}`][0].openPanel=!1},setNameCase(e){var t=this;"org.uengine.modeling.model.View"==t.value._type||"org.uengine.modeling.model.Event"==t.value._type||"org.uengine.modeling.model.Command"==t.value._type||"org.uengine.modeling.model.Policy"==t.value._type||"org.uengine.modeling.model.Aggregate"==t.value._type?(t.value.name=e,t.value.namePascalCase=d.pascalCase(e),t.value.nameCamelCase=d.camelCase(e),t.value.namePlural=d.camelCase(m(e))):(t.value.name=e,t.value.namePascalCase=d.pascalCase(e))},selectKey(e){var t=this;"org.uengine.modeling.model.Aggregate"==t.value._type?t.copyElement.aggregateRoot.fieldDescriptors.forEach(function(n,a){n.isKey=!1,a==t.copyElement.aggregateRoot.fieldDescriptors.indexOf(e)&&(n.isKey=!0)}):t.copyElement.fieldDescriptors.forEach(function(n,a){n.isKey=!1,a==t.copyElement.fieldDescriptors.indexOf(e)&&(n.isKey=!0)})},syncFromAggregate(){var e=this;if(null!=e.copyElement.aggregate.id){var t=e.copyElement.aggregate.fieldDescriptors,n=JSON.parse(JSON.stringify(e.copyElement.fieldDescriptors));t.forEach(function(t){var a=!1;n.forEach(function(e){JSON.stringify(Object.entries(t).sort())===JSON.stringify(Object.entries(e).sort())?a=!0:t.name==e.name&&t.className==e.className&&(a=!0)}),a||(t.isKey=!1,e.copyElement.fieldDescriptors.push(t))})}else alert("select 'Associated aggreate'")},viewMainRowAdd(e){var t=this;if("cqrs"==t.copyElement.dataProjection){if("create"==e){var n={_type:"viewStoreRule",operation:"CREATE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.createRules.push(n)}else if("update"==e){n={_type:"viewStoreRule",operation:"UPDATE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.updateRules.push(n)}else if("delete"==e){n={_type:"viewStoreRule",operation:"DELETE",when:"",fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]};t.copyElement.deleteRules.push(n)}}else t.copyElement.dataProjection},initNameCase:function(e){var t=this;"org.uengine.modeling.model.View"!=t.value._type&&"org.uengine.modeling.model.Event"!=t.value._type&&"org.uengine.modeling.model.Command"!=t.value._type&&"org.uengine.modeling.model.Policy"!=t.value._type&&"org.uengine.modeling.model.Aggregate"!=t.value._type||(t.copyElement.namePascalCase=d.pascalCase(e),t.copyElement.nameCamelCase=d.camelCase(e),t.copyElement.namePlural=d.camelCase(m(e)))},getTranslate:c.debounce(function(e){var t=this;if("org.uengine.modeling.model.Event"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language&&u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=d.pascalCase(n.translatedText)})})}catch(n){}else if("org.uengine.modeling.model.Policy"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!1,t.translateText=d.pascalCase(n.translatedText)}):"en"==a.language&&(t.usedTranslate=!1,t.translateText=d.pascalCase(e))})}catch(n){}else if("org.uengine.modeling.model.Aggregate"==t.copyElement._type)try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=d.pascalCase(n.translatedText)}):"en"==a.language&&(t.usedTranslate=!0,t.translateText=d.pascalCase(e))})}catch(n){}else try{u.detectLanguage(e,function(n,a){"en"!=a.language?u.translate(e,"en",function(e,n){t.usedTranslate=!0,t.translateText=n.translatedText}):"en"==a.language&&(t.usedTranslate=!0)})}catch(n){}},500),umlDiagramOpen(){var e=this,t=e.$parent.getComponent("modeling-designer");t.umlModalShow()},modifyAttributeItem(e){var t=this,n={_type:"org.uengine.model.FieldDescriptor",name:e.name,namePascalCase:d.pascalCase(e.name),nameCamelCase:d.camelCase(e.name),className:e.className,isKey:e.isKey};"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.copyElement.aggregateRoot.fieldDescriptors[t.attributeEditIndex]=n:t.copyElement.fieldDescriptors[t.attributeEditIndex]=n,t.attributeEdit=!1},editAttributeItem(e){var t=this;"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.attributeEditIndex=t.copyElement.aggregateRoot.fieldDescriptors.indexOf(e):t.attributeEditIndex=t.copyElement.fieldDescriptors.indexOf(e),t.attributeEdit=!0},deleteAttribute(e){var t=this;e.isKey?alert("Is Primary Key"):"org.uengine.modeling.model.Aggregate"==t.copyElement._type?t.copyElement.aggregateRoot.fieldDescriptors.forEach(function(n,a){n.isKey||n.name!=e.name||n.className!=e.className||a>-1&&t.copyElement.aggregateRoot.fieldDescriptors.splice(a,1)}):t.copyElement.fieldDescriptors.forEach(function(n,a){n.name==e.name&&n.className==e.className&&a>-1&&t.copyElement.fieldDescriptors.splice(a,1)})},changeTranslate(){this.namePanel=this.translateText,this.usedTranslate=!1},addAttribute:function(e,t){var n=this;if(e.length<1&&(e="String"),0!=e.length&&0!=t.length){let i=null;if(i={_type:"org.uengine.model.FieldDescriptor",name:t,namePascalCase:d.pascalCase(t),nameCamelCase:d.camelCase(t),className:e,isKey:!1},"org.uengine.modeling.model.Aggregate"==n.copyElement._type){var a=!1;"id"==i.name.toLowerCase()&&"long"==i.className.toLowerCase()?a=!0:(n.copyElement.aggregateRoot.fieldDescriptors.forEach(function(e){JSON.stringify(Object.entries(e).sort()).toLowerCase()==JSON.stringify(Object.entries(i).sort()).toLowerCase()&&(a=!0)}),a||n.copyElement.aggregateRoot.fieldDescriptors.push(i))}else{a=!1;n.copyElement.fieldDescriptors.forEach(function(e){JSON.stringify(Object.entries(e).sort()).toLowerCase()===JSON.stringify(Object.entries(i).sort()).toLowerCase()&&(a=!0)}),a||n.copyElement.fieldDescriptors.push(i)}this.entityType="",this.entityName=""}else{var i=this.$parent.getComponent("modeling-designer");i.text="TYPE & NAME INPUT REQUEST",i.snackbar=!0}}}},h=v,f=(n("9ea8"),n("2877")),g=n("6544"),y=n.n(g),b=n("c6a6"),_=n("8336"),w=n("b0af"),x=n("99d9"),k=n("62ad"),C=n("a523"),S=n("8fea"),E=n("ce7e"),$=n("0e8f"),V=n("132d"),I=n("a722"),O=n("8860"),T=n("da13"),P=n("8270"),N=n("5d23"),j=n("f774"),D=n("67b6"),L=n("43a6"),A=n("0fd9"),R=n("b974"),M=n("8654"),B=n("3a2f"),U=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=U.exports;y()(U,{VAutocomplete:b["a"],VBtn:_["a"],VCard:w["a"],VCardText:x["b"],VCol:k["a"],VContainer:C["a"],VDataTable:S["a"],VDivider:E["a"],VFlex:$["a"],VIcon:V["a"],VLayout:I["a"],VList:O["a"],VListItem:T["a"],VListItemAvatar:P["a"],VListItemTitle:N["c"],VNavigationDrawer:j["a"],VRadio:D["a"],VRadioGroup:L["a"],VRow:A["a"],VSelect:R["a"],VTextField:M["a"],VTooltip:B["a"]})},"1d2b1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("rectangle-element",{attrs:{"sub-width":"55%","sub-height":"35%","sub-align":"center","sub-top":"32%"}}),n("geometry-line",{attrs:{from:[20,32],to:[50,50]}}),n("geometry-line",{attrs:{from:[80,32],to:[50,50]}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("Service Path")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.servicePath,callback:function(t){e.$set(e.activity,"servicePath",t)},expression:"activity.servicePath"}})],1),n("md-input-container",[n("label",[e._v("Correlation Key")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.correlationKey,callback:function(t){e.$set(e.activity,"correlationKey",t)},expression:"activity.correlationKey"}})],1),n("md-input-container",[n("label",[e._v("Data for Output")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.dataOutput.name,callback:function(t){e.$set(e.activity.dataOutput,"name",t)},expression:"activity.dataOutput.name"}})],1),n("p",[e._v("Data Mapping")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.dataOutputMapping,definition:e.definition}}),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-message-intermediate-catch-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.MessageIntermediateCatchEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},dataOutput:{name:""},dataOutputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"57f80fd2",null);t["default"]=c.exports},"1ec9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-dialog",{ref:"instanceVariables",attrs:{"md-open-from":"#instanceVariables","md-close-to":"#instanceVariables"},on:{change:e.getInstanceVariables}},[n("md-dialog-title",[e._v("Instance Variables")]),n("md-dialog-content",[n("md-table-card",[n("md-table",[n("md-table-header",[n("md-table-row",[n("md-table-head",[e._v("Name")]),n("md-table-head",[e._v("Display Name")]),n("md-table-head",[e._v("Default Value In String")]),n("md-table-head",[e._v("변수 유형")])],1)],1),n("md-table-body",e._l(e.instanceVariables,function(t,a){return n("md-table-row",{nativeOn:{dblclick:function(n){return e.onDoubleClick(t,a)}}},[n("md-table-cell",[e._v(e._s(t.name))]),n("md-table-cell",[e._v(e._s(t.displayName.text))]),n("md-table-cell",[e._v(e._s(t.defaultValueInString))]),n("md-table-cell",[e._v(e._s(t.typeClassName))])],1)}),1)],1)],1)],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:function(t){return e.$refs["instanceVariables"].close()}}},[e._v("Close")])],1)],1),n("md-dialog",{ref:"variableChange",attrs:{"md-open-from":"#fab","md-close-to":"#fab"}},[n("md-dialog-title",[e._v("Variable Change")]),n("md-dialog-content",[n("md-input-container",[n("label",[e._v("Default Value In String")]),n("md-input",{attrs:{type:"text"},model:{value:e.selected.data,callback:function(t){e.$set(e.selected,"data",t)},expression:"selected.data"}})],1)],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){e.changeVariable(),e.$refs["variableChange"].close()}}},[e._v("Change")]),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){return e.$refs["variableChange"].close()}}},[e._v("Close")])],1)],1)],1)},i=[],o={name:"bpmn-instance-variables",props:{id:String,definition:Object},data(){return{instanceVariables:[],selected:{name:null,data:null}}},mounted(){var e=this;e.getInstanceVariables()},methods:{openInstanceVariables(e){this.$refs["instanceVariables"].open()},getInstanceVariables:function(){var e=this;for(var t in e.instanceVariables=e.definition.processVariableDescriptors,e.instanceVariables)e.$root.codi("instance{/id}/variable{/variable}/").get({id:e.id,variable:e.instanceVariables[t].name}).then(function(t){e.replaceVariable(t.request.params.variable,t.data)});this.$emit("input",this.instanceVariables)},replaceVariable:function(e,t){var n=this;for(var a in n.instanceVariables){var i=n.instanceVariables[a].name;i==e&&(n.instanceVariables[a].defaultValueInString=t)}var o=n.instanceVariables;n.instanceVariables=null,n.instanceVariables=o},onDoubleClick:function(e,t){var n=this;n.selected.data=e.defaultValueInString,n.selected.name=e.name,n.selected.idx=t,this.$refs["variableChange"].open()},changeVariable:function(){var e=this,t="instance/"+e.id+"/variable/"+e.selected.name+"?varValue="+e.selected.data;e.$root.codi(t).save({}).then(function(t){e.$root.$children[0].success("변경되었습니다."),e.instanceVariables[e.selected.idx].defaultValueInString=e.selected.data},function(t){e.$root.$children[0].error("변경할 수 없습니다.")})}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},"1ed1":function(e,t,n){"use strict";var a=n("ac99"),i=n.n(a);i.a},"1f3d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-text-field",{attrs:{label:"Image"},model:{value:e.value.object.spec.template.spec.containers[0].image,callback:function(t){e.$set(e.value.object.spec.template.spec.containers[0],"image",t)},expression:"value.object.spec.template.spec.containers[0].image"}}),n("v-text-field",{attrs:{label:"Replicas",type:"number"},model:{value:e.value.object.spec.replicas,callback:function(t){e.$set(e.value.object.spec,"replicas",t)},expression:"value.object.spec.replicas"}}),n("v-text-field",{attrs:{label:"Target Port",type:"number"},model:{value:e.value.object.spec.template.spec.containers[0].ports[0].containerPort,callback:function(t){e.$set(e.value.object.spec.template.spec.containers[0].ports[0],"containerPort",t)},expression:"value.object.spec.template.spec.containers[0].ports[0].containerPort"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"service-property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"Deployment"}},data:function(){return{}},watch:{},methods:{}},l=r,s=(n("c75d"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},2:function(e,t){},2148:function(e,t,n){},"216c":function(module,__webpack_exports__,__webpack_require__){"use strict";var Minio=__webpack_require__("ad23");__webpack_exports__["a"]={name:"CourseNavigator",props:{value:Object},data(){return{renderComponent:!0,eventstorming:{},isAdmin:!1}},mounted(){var e=this;e.$EventBus.$on("lab-definition",function(t){e.eventstorming=t}),"admin"==localStorage.getItem("authorized")&&(e.isAdmin=!0)},computed:{compiledMarkdown:function(){return marked(this.value.instruction,{sanitize:!0})}},watch:{"value.logs":{immediate:!0,deep:!0,handler(e){let t=this;this.value.checkPoints.forEach(function(n,a){t.checkPointDivision(n,e)})}},"value.checkPoints":{deep:!0,immediate:!0,handler(){var e=this,t=`${this.$route.params.course}/runningClass/${this.$route.params.clazzName}/${this.$route.params.labName}/${e.value.email}/Labs_Metadata.json`;e.$minioClient.putObject("labs",t,JSON.stringify(e.value.checkPoints))}},eventstorming:{immediate:!0,deep:!0,handler(e){let t=this;this.value.checkPoints.forEach(function(n,a){console.log(a),t.checkPointDivision(n,e)})}}},methods:{checkingCheckPoint(checkPoint,log){var testLog=log.replace(/[\n\r]/g,"");return testLog=testLog.replace(/'/gi,"\\'"),testLog=testLog.replace(/"/gi,'\\"'),eval(checkPoint.regExp+'.test("'+testLog+'")')},forceRerender(){this.renderComponent=!1,this.$nextTick(()=>{this.renderComponent=!0})},checkPointDivision(val,newVal){var me=this;if("object"==typeof newVal){if(val.javascript&&val.javascript.includes(".js"))var jsPath=`${me.$route.params.course}/planed/${me.value.lab}/${val.javascript}`,stream=me.$minioClient.getObject("labs",`${me.$route.params.course}/planed/${me.value.lab}/${val.javascript}`,function(err,dataStream){dataStream.on("data",function(chunk){var string=new TextDecoder("utf-8").decode(chunk);console.log(string);var result=me.eventstorming.definition,returnValue;function returnValue(e){returnValue=e}eval(string),val.status=returnValue,me.forceRerender()})})}else if(val.regExp){var checkPointResult=me.checkingCheckPoint(val,newVal);console.log(checkPointResult),val["status"]=checkPointResult,console.log(me.value),me.$emit("update:value",me.value),me.forceRerender()}}}}},2382:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uml-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"class-designer",props:{},data(){return{value:{},elementTypes:[{icon:"bpmn-icon-start-event-none",component:"uml-class-definition",label:"Class",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`}]}},created:function(){},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},2479:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"image-element",props:{image:String},computed:{},data:function(){return{}},watch:{image:function(e){console.log(e)}},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.ImageShape(e.image,e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"ef2b04b2",null);t["default"]=c.exports},"255a":function(e,t,n){"use strict";var a=n("5757"),i=n.n(a);i.a},2601:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:e.closeComponentChanger,deSelectShape:e.closeComponentChanger,removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-polygon",{attrs:{vertices:[[0,50],[50,100],[100,50],[50,0]]}}),n("geometry-circle",{attrs:{center:[49,49],radius:25,_style:{"stroke-width":2}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-inclusive-gateway",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"Gateway"},className(){return"org.uengine.kernel.bpmn.InclusiveGateway"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"2f4bbc88",null);t["default"]=c.exports},"266e":function(e,t){Flask,Redis,kafka,python},"279b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-overlay",{attrs:{value:e.showOverlay}},[n("v-col",{attrs:{align:"center"}},[n("div",[e._v("Loading ...")]),n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.showOverlay=!1}}},[e._v("close")])],1)],1)],1),e.openParticipantsPanel?n("participant-lists-panel",{attrs:{lists:e.participantLists}}):e._e(),n("v-layout",[n("modal",{attrs:{name:"uml-modal",height:"80%",width:"80%"}},[n("class-modeler")],1)],1),n("v-layout",[n("modal",{attrs:{name:"bpmn-modal",height:"80%",width:"80%"}},[n("bpmn-process-designer")],1)],1),n("v-snackbar",{attrs:{color:"primary","multi-line":"",timeout:5e3},model:{value:e.deleteSnackbar,callback:function(t){e.deleteSnackbar=t},expression:"deleteSnackbar"}},[e._v("\n        해당 BoundedContext ( "+e._s(e.deleteBounded)+" )데이터가 삭제되었습니다.\n        "),n("v-btn",{attrs:{dark:""},on:{click:function(t){e.deleteSnackbar=!1}}},[e._v("\n            Close\n        ")])],1),n("v-snackbar",{attrs:{color:"primary","multi-line":"",timeout:0},model:{value:e.convertValueSnackbar,callback:function(t){e.convertValueSnackbar=t},expression:"convertValueSnackbar"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"green"}}),e._v("\n        "+e._s(e.convertValueMessage)+"\n        "),e.isApplyConvertValue?n("v-btn",{attrs:{dark:""},on:{click:function(t){e.convertValueSnackbar=!1}}},[e._v("\n            완료\n        ")]):e._e()],1),n("v-layout",{attrs:{right:""}},[n("modal",{attrs:{name:"code-modal",width:e.codeModalWidth,height:"auto",scrollable:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-col",{attrs:{col:8}},[n("span",{staticClass:"headline"},[e._v("Code Preview")])]),n("v-col",{attrs:{col:4}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),n("v-divider"),n("v-card-text",{staticStyle:{width:"auto",height:"auto"}},[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"overflow-auto",staticStyle:{"margin-right":"15px","border-right":"1px solid black","max-height":"700px","max-width":"400px"},attrs:{id:"scroll-target"}},[n("v-treeview",{attrs:{items:e.treeList,active:e.openCode,activatable:"","item-key":"key","return-object":"","open-all":"",transition:e.treeOpen,"open-on-click":"",transition:"",dense:""},on:{"update:items":function(t){e.treeList=t},"update:active":function(t){e.openCode=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.file?n("v-icon",[e._v("\n                                        "+e._s(e.files[a.file])+"\n                                    ")]):n("v-icon",[e._v("\n                                        "+e._s(i?"mdi-folder-open":"mdi-folder")+"\n                                    ")])]}}])})],1),n("v-col",[e.codeViewing?n("code-viewer",{model:{value:e.openCode,callback:function(t){e.openCode=t},expression:"openCode"}}):e._e()],1),e.gitAccessInput?n("v-col",{staticStyle:{"max-height":"250px","margin-top":"12px"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Template from Git")]),n("v-card-text",[n("v-col",[n("v-text-field",{attrs:{label:"Git Repo URL"},model:{value:e.gitUrl,callback:function(t){e.gitUrl=t},expression:"gitUrl"}}),n("v-text-field",{attrs:{"disabled-v-if":"!gitAccessTokenIs",label:"Github AccessToken"},model:{value:e.gitAccessToken,callback:function(t){e.gitAccessToken=t},expression:"gitAccessToken"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.gitAccessInput=!1}}},[e._v("\n                                        Cancel\n                                    ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.saveGitToken()}}},[e._v("\n                                        Apply\n                                    ")])],1)],1)],1):e._e()],1)],1)],1)],1),e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!e.isRead,resizable:!0,selectable:!0,connectable:!e.isRead,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[null!=a&&null!=t&&void 0!=t.elementView?n(e.getComponentByClassName(t._type),{ref:t.elementView.id,refInFor:!0,tag:"component",attrs:{value:e.value.definition[a]},on:{"update:value":function(t){return e.$set(e.value.definition,a,t)}}}):e._e()],1)}),e._l(e.value.relation,function(t,a){return n("div",[null!=t?n(e.getComponentByClassName(t._type),{ref:t.relationView.id,refInFor:!0,tag:"component",attrs:{value:e.value.relation[a]},on:{"update:value":function(t){return e.$set(e.value.relation,a,t)}}}):e._e()],1)})],2):e._e(),n("v-layout",{attrs:{row:""}},["local"==e.parmType?n("v-flex",[n("v-row",{staticStyle:{"margin-left":"80px","margin-top":"10px"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{text:"",small:"",right:""},nativeOn:{click:function(t){return e.undo()}}},a),[n("v-icon",{attrs:{medium:""}},[e._v("mdi-undo")])],1)]}}],null,!1,2794312253)},[n("span",[e._v("Undo")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{text:"",small:"",right:""},nativeOn:{click:function(t){return e.redo()}}},a),[n("v-icon",{attrs:{medium:""}},[e._v("mdi-redo")])],1)]}}],null,!1,3884260157)},[n("span",[e._v("Redo")])])],1)],1):e._e(),n("v-flex",{staticStyle:{justify:"end",align:"start"}},[n("v-row",{staticStyle:{"margin-right":"10px"},attrs:{justify:"end",align:"start"}},[n("v-col",{attrs:{align:"start",justify:"end",cols:"12",sm:"3"}},[n("v-text-field",{attrs:{disabled:"every"==e.parmType,label:"Project Name"},nativeOn:{click:function(t){return e.unselectedAll(t)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1),"local"!=e.parmType&&"kuberLocal"!=e.parmType?n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.goToVersions()}}},a),[n("v-icon",[e._v(e._s(e.files.version))]),e._v("\n                                Versions\n                            ")],1)]}}],null,!1,3493610859)},[n("v-list",e._l(e.versionItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e(),n("v-menu",{staticClass:"pa-2",staticStyle:{"margin-right":"3px"},attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"orange",dark:""},on:{click:function(t){return e.codeModalShow()}}},a),[n("v-icon",[e._v(" "+e._s(e.files.code))]),e._v("\n                                CODE\n                            ")],1)]}}])},[n("v-list",e._l(e.codeItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1),n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.goToServer()}}},a),[n("v-icon",[e._v(e._s(e.files.open))]),e._v("\n                                OPEN\n                            ")],1)]}}])},[n("v-list",[e._l(e.openItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),n("div",{staticClass:"text-reader",staticStyle:{"text-align":"center","margin-top":"5px"}},[n("label",{attrs:{for:"ex_file"}},[e._v("Open from Local")]),n("input",{attrs:{id:"ex_file",type:"file"},on:{change:e.loadTextFromFile}})])],2)],1),"anonymous"==e.parmUid?n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e.isRead?e._e():n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.$EventBus.$emit("showLoginDialog")}}},a),[n("v-icon",[e._v(e._s(e.files.save))]),e._v("\n                                SAVE\n                            ")],1)]}}],null,!1,3689127471)},[n("v-list")],1):e._e(),"anonymous"!=e.parmUid?n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e.isRead?n("v-btn",{staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.forkDialogReady()}}},[n("v-icon",[e._v(e._s(e.files.fork))]),e._v("\n                                FORK\n                            ")],1):n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.saveDialogReady()}}},a),[n("v-icon",[e._v(e._s(e.files.save))]),e._v("\n                                SAVE\n                            ")],1)]}}],null,!1,2237645175)},[n("v-list",e._l(e.saveItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e(),"mine"!=e.parmType||e.isRead?e._e():n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.openEventShareDialog()}}},a),[n("v-icon",[e._v(e._s(e.files.share))]),e._v("\n                                SHARE\n                            ")],1)]}}],null,!1,1087851455)},[n("v-list",e._l(e.shareItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1)],1),n("v-fab-transition",[!e.rtcLogin&&("mine"==e.parmType&&e.sharedCount>0||"share"==e.parmType)?n("v-btn",{staticStyle:{"margin-right":"80px","margin-bottom":"47px"},attrs:{color:"blue",dark:"",fab:"",medium:"",absolute:"",bottom:"",right:""},on:{click:function(t){return e.onJoin()}}},[n("v-icon",[e._v("mdi-camera")])],1):e._e()],1)],1),[n("div",[n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",scrollable:""},model:{value:e.showVersionsDialog,callback:function(t){e.showVersionsDialog=t},expression:"showVersionsDialog"}},[n("v-card",{attrs:{tile:""}},[n("v-toolbar",{staticClass:"canvas-panel",attrs:{flat:"",dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("Versions")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.showVersionsDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1),n("v-list",{attrs:{"three-line":"",subheader:""}},[n("v-subheader",[e._v("Version")]),n("v-list-item",[n("v-list-item-content",[n("ViewEventStormingVersionPage")],1)],1)],1),n("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)],n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return e.isRead?e._e():n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}],null,!1,1509594269)},[n("span",[e._v(e._s(t.label))])])})],2)],2),n("v-snackbar",{attrs:{color:e.color,"multi-line":"multi-line"===e.mode,timeout:e.timeout,vertical:"vertical"===e.mode},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n        "),n("v-btn",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1),n("v-dialog",{attrs:{"max-width":"340"},model:{value:e.ideCheckDialog,callback:function(t){e.ideCheckDialog=t},expression:"ideCheckDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Project IDE")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v("파일을 업데이트 하시겠습니까?")]),n("div",{staticStyle:{color:"#000000"}},[e._v("기존 파일은 유지되며, 새로운 파일만 생성 됩니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 새 파일을 생성합니다."},model:{value:e.ideUpdateCheck,callback:function(t){e.ideUpdateCheck=t},expression:"ideUpdateCheck"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.openProjectIDE()}}},[e._v("OK")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.ideCheckDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.generateZipDialog,callback:function(t){e.generateZipDialog=t},expression:"generateZipDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Generate Zip Archive")]),n("v-card-text",[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.generateZip()}}},[e._v("Download")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.generateZipDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.tokenDialog,callback:function(t){e.tokenDialog=t},expression:"tokenDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Token Dialog")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Cluster Address",required:""},model:{value:e.clusterAddress,callback:function(t){e.clusterAddress=t},expression:"clusterAddress"}}),n("v-text-field",{attrs:{label:"Kubernetes Token",required:""},model:{value:e.kubernetesToken,callback:function(t){e.kubernetesToken=t},expression:"kubernetesToken"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.tokenSave()}}},[e._v("Download")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.tokenDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.saveDialogOpen,callback:function(t){e.saveDialogOpen=t},expression:"saveDialogOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Save new version")]),n("v-card-text",[e.duplicateprojectName?n("div",[n("v-icon",{attrs:{small:"",color:"red"}},[e._v("info")]),e._v("\n                    There is a duplicate projectName\n                ")],1):e._e(),n("v-text-field",{attrs:{label:"projectName"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),n("v-textarea",{attrs:{outline:"",name:"input-7-4",label:"comment",counter:255},model:{value:e.saveProjectComment,callback:function(t){e.saveProjectComment=t},expression:"saveProjectComment"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.saveProjectComplete()}}},[e._v("Save")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.saveDialogClose()}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.forkDialogOpen,callback:function(t){e.forkDialogOpen=t},expression:"forkDialogOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Fork")]),n("v-card-text",[e.duplicateprojectName?n("div",[n("v-icon",{attrs:{small:"",color:"red"}},[e._v("info")]),e._v("\n                    There is a duplicate projectName\n                ")],1):e._e(),n("v-text-field",{attrs:{disabled:"",label:"Origin"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),n("v-text-field",{attrs:{label:"projectName"},model:{value:e.forkProjectName,callback:function(t){e.forkProjectName=t},expression:"forkProjectName"}}),n("v-textarea",{attrs:{outline:"",name:"input-7-4",label:"comment",counter:255},model:{value:e.forkProjectComment,callback:function(t){e.forkProjectComment=t},expression:"forkProjectComment"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.forkProjectComplete()}}},[e._v("Fork")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.forkDialogClose()}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"600"},model:{value:e.eventShareDialog,callback:function(t){e.eventShareDialog=t},expression:"eventShareDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("share setting")]),n("v-card-text",[e._v("\n                Authorized user\n                "),n("v-simple-table",{attrs:{dense:"",height:"150px"},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("td")])]),n("tbody",e._l(e.invitationLists,function(t){return n("tr",[n("td",[""!=t.userPic?n("v-avatar",{attrs:{size:"36"}},[n("img",{attrs:{src:t.userPic}})]):n("v-avatar",{attrs:{size:"36"}},[n("v-icon",[e._v("mdi-account-circle")])],1)],1),n("td",{staticClass:"text-center"},[n("v-col",{attrs:{align:"start"}},[n("div",[e._v(" "+e._s(t.userName))]),n("div",[e._v(e._s(t.email))])])],1),n("td",{staticClass:"text-center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t.write?n("v-btn",e._g({attrs:{disabled:"Everyone"==t.userName,text:""},on:{click:function(e){t.write=!1}}},i),[n("v-icon",[e._v("mdi-pencil")])],1):n("v-btn",e._g({attrs:{text:"",disabled:"Everyone"==t.userName},on:{click:function(e){t.write=!0}}},i),[n("v-icon",[e._v("mdi-eye")])],1)]}}],null,!0)},[t.write?n("span",[e._v("수정 가능")]):n("span",[e._v("보기 가능")])])],1),n("td",{staticClass:"text-rigth"},[n("v-btn",{attrs:{small:"",text:""},on:{click:function(n){return e.onRemoveInvitations(t)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-close")])],1)],1)])}),0)]},proxy:!0}])}),n("v-col",[n("v-row",[n("v-text-field",{attrs:{label:"User to invite"},model:{value:e.invitationEmail,callback:function(t){e.invitationEmail=t},expression:"invitationEmail"}}),n("v-select",{staticStyle:{width:"10px"},attrs:{"append-icon":e.shareIconTypes,items:e.isMultiShareTypeList,reverse:""},model:{value:e.isMultiShareType,callback:function(t){e.isMultiShareType=t},expression:"isMultiShareType"}}),n("v-btn",{staticStyle:{"margin-top":"13px"},attrs:{small:"",text:""},on:{click:function(t){return e.onAddInvitations()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1),n("v-checkbox",{attrs:{label:"share everyone"},model:{value:e.eventSharedEveryoneBtn,callback:function(t){e.eventSharedEveryoneBtn=t},expression:"eventSharedEveryoneBtn"}})],1),n("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"comment",height:"40px",counter:100},model:{value:e.shareComment,callback:function(t){e.shareComment=t},expression:"shareComment"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.completeEventStromingShared()}}},[e._v("Apply")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.cancelEventStromingShared()}}},[e._v("Close")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.forkDialog,callback:function(t){e.forkDialog=t},expression:"forkDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Fork\n                "),n("v-icon",[e._v(e._s(e.files.fork))])],1),n("v-card-text",[e._v(" 권한이 없어서 수정 할 수 없습니다. Fork를 하여 사용해 주세요.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.forkDialogReady()}}},[e._v("Fork")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.forkDialog=!1}}},[e._v("Close")])],1)],1)],1),n("modeler-image-generator",{ref:"modeler-image-generator"}),n("hsc-window-style-metal",[n("hsc-window",{staticStyle:{color:"rgb(0, 0, 0)","box-shadow":"rgba(0, 0, 0, 0.5) 0px 4pt 8pt",background:"linear-gradient(rgb(255, 255, 255), rgb(255, 255, 255))","z-index":"0",overflow:"visible",width:"404px",height:"154.2px"},attrs:{title:"User Camera",closeButton:!0,isOpen:e.webrtcDialog,resizable:!0,isScrollable:!0,minWidth:400,minHeight:110,maxWidth:800,maxHeight:110,positionHint:"5 / -10"},on:{"update:isOpen":function(t){e.webrtcDialog=t},"update:is-open":function(t){e.webrtcDialog=t}}},[n("v-layout",[n("v-col",[n("v-row",{staticStyle:{"margin-left":"2px","margin-bottom":"2px"}},[n("vue-webrtc",{ref:"webrtc",staticClass:"video-list",attrs:{width:"100%",height:"160px",cameraHeight:"50px",enableAudio:"",roomId:e.roomId},on:{error:e.onError}})],1)],1)],1)],1)],1)],1)},i=[],o=n("6eb3"),r=n("ac57"),l=n("21a6"),s=n("8aa5"),c=n.n(s),u=n("94ed"),d=n("8055"),m=n("952c");function p(){this.elements=[]}p.prototype.enqueue=function(e){this.elements.push(e)},p.prototype.dequeue=function(){return this.elements.shift()},p.prototype.isEmpty=function(){return 0==this.elements.length},p.prototype.peek=function(){return this.isEmpty()?void 0:this.elements[0]},p.prototype.length=function(){return this.elements.length};var v=new p,h=(n("3e8f"),n("2ef0")),f=n("ad23"),g=n("27ae").Base64,y=n("651e"),b=n("21a6"),_=n("64ae"),w=n("761a"),x=n("7c39"),k=n("df7c"),C=n("e811"),S={name:"modeling-designer",components:{TextReader:o["a"],saveAs:l["saveAs"],CodeViewer:r["a"],mdiAbTesting:u["a"],diffString:m["diffString"],diff:m["diff"],io:d},props:{elementTypes:Array,value:{type:Object,default:{definition:[],relation:[]}}},data(){return{ideUpdateCheck:!1,ideCheckDialog:!1,codeModalWidth:"80%",gitAccessToken:"",gitAccessTokenIs:!1,gitAccessInput:!1,deleteSnackbar:!1,deleteBounded:"",isNetworkOffline:!1,isMultiShare:!1,isMultiShareType:"ReadOnly",isMultiShareTypeList:["ReadOnly","Write"],participantLists:[],participantPanel:!1,invitationLists:[],invitationUid:"",invitationEmail:"",removeInvitationLists:[],eventShareDialog:!1,eventSharedEveryoneBtn:!1,isMyEdit:!1,isOtherEdit:!1,loadingDialog:!0,codeViewing:!1,bpmnItems:[{title:"BPMN"}],versionItems:[{title:"Versions"}],shareItems:[{title:"Share"}],saveItems:[{title:"Save to Server"},{title:"Download model File"}],openItems:[{title:"Open from Files"}],codeItems:[{title:"Code Preview"},{title:"Download Archive"},{title:"Project IDE"}],bpmnDialog:!1,onlineSaveComfirmDialog:!1,saveProjectComment:"",saveDialogOpen:!1,forkProjectComment:"",forkProjectName:"",forkDialogOpen:!1,shareProjectComment:"",shareDialogOpen:!1,projectAuthor:"",projectEmail:"",author:"",authorEmail:"",serverComment:"",shareComment:"",serverDate:"",files:{version:"mdi-server",code:"mdi-code-array",save:"mdi-content-save",open:"mdi-book-open",md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker",png:"mdi-file-image",json:"mdi-json",python:"mdi-language-python",fork:" mdi-silverware-fork",share:"mdi-share-variant"},canvas:null,dragPageMovable:!1,projectName:"",duplicateprojectName:!1,generateZipDialog:!1,undoRedoStorage:100,undoRedoArray:[],undoRedoIndex:0,undoRedoLastIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pathTmp:[],gitCodeUrl:{},model:[],fullPathList:[],treeList:[],getCodeList:[],openCode:[],template:"",treeOpen:!0,gitUrl:"",gitPath:[],gitCode:[],checkName:!0,drawer:!1,chatUid:"",messageRef:{},versionList:[],version:"",revisionInfo:{},showVersionsDialog:!1,kubernetesToken:"",clusterAddress:"",tokenDialog:!1,parmVersion:"",parmType:"",parmProjectId:"",parmUid:"",newProjectId:"",viewSelect:{},viewOpenId:"",viewSelectType:"cqrs",entityActionList:["create","update","delete"],entityAction:"",viewColumnTypeList:["String","Integer","Double"],selectEvent:[],viewColumnType:"",viewColumn:"",sourceEventColumn:"",defaultValue:"",isRead:!1,forkDialog:!1,isUndoRedo:!1,connetServer:"",roomId:"masez",rtcLogin:!1,webrtcDialog:!1,database:null,isSelfEdit:!0,initLoad:!1,sharedCount:0,isReceiveQueue:!1,isSetPermission:!1,setReceiveQueue:!1,setReceiveValue:!1,isUndoLast:!1,isRedoLast:!1,isExistAuthor:!1,isPublicProject:!1,receivedQueueItemCountAfterLastSnapshot:0,snapshotFrequency:50,prevKey:"",receivedCount:0,lastEditedTimestamp:0,receivedQueueExistValue:!1,receivedLastKey:"",isLastQueueKey:!1,sortScheduleId:null,convertValueSnackbar:!1,isApplyConvertValue:!1,receivedPermission:null,receivedSanpshotPermssion:null,isLocalProject:!1,isMineProject:!1,isSharedProject:!1,isPublicProject:!1,isReadProject:!1,isMyProject:!1,slider:45,showOverlay:!1,specVersion:"1.0"}},beforeDestroy:function(){var e=this,t=e.getComponent("App");null!=e.sortScheduleId&&clearTimeout(e.sortScheduleId),t.showParticiateLists=!1,e.onLeave(),"2.0"==e.specVersion&&e.database.ref("definitions/"+e.parmProjectId+"/queue").push({state:"userExit",editUid:localStorage.getItem("uid"),email:localStorage.getItem("email"),userName:localStorage.getItem("userName"),timeStamp:(new Date).getTime()}),clearInterval(e.connetServer),localStorage.removeItem("projectId"),localStorage.removeItem("sharedMultiTimeStamp"),localStorage.removeItem("nowUndoRedoKey"),e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(t){"local"==e.parmType?(console.log("local Save"),localStorage.setItem("localSaveImg",t),localStorage.setItem("localSaveProjectName",e.projectName)):"mine"!=e.parmType&&"share"!=e.parmType&&"every"!=e.parmType||(e.setReceiveQueue||e.setReceiveValue)&&(console.log("No local Save"),e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion+"/versionInfo/").update({projectName:e.projectName,img:t})),e.$EventBus.$emit("updatePic",t)})},computed:{checkOverlay(){return this.showOverlay},convertValueMessage(){var e=this;return e.isApplyConvertValue?" 변환이 완료 되었습니다. ":" 데이터 변환중 입니다."},checkValueRelation(){return h.cloneDeep(this.value)},openParticipantsPanel(){return this.participantPanel},shareIconTypes(){var e=this;return"ReadOnly"==e.isMultiShareType?"mdi-eye":"mdi-pencil"},eventList:function(){var e=this,t=[];return e.value.definition.forEach(function(e){null!=e&&"org.uengine.modeling.model.Event"==e._type&&t.push(e)}),t=t.filter(e=>e),t},templateList:function(){var e=this;return Object.keys(e.$manifestsPerTemplate)},id:{get:function(){return this.projectName}}},created:function(){var e=this;e.getComponent("App");e.value.definition||(e.value.definition=[],e.value.relation=[]);localStorage.getItem("uid");e.database=c.a.database(),window.io=d,e.$EventBus.$emit("progressValue",!0),e.parmUid=this.$route.params.userUid,e.parmType=this.$route.params.projectType,e.parmType||(e.parmType="local"),e.parmProjectId=this.$route.params.projectId,e.parmVersion=this.$route.params.projectVersion,e.author=null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",e.authorEmail=null!=localStorage.getItem("email")?localStorage.getItem("email"):"anonymous@sample.org",e.roomId="msaez_"+e.parmProjectId;var t=Object.keys(e.$route.params);"local"==e.parmType&&"init"==e.parmProjectId||-1!=t.indexOf("clazzName")?e.localValueSetting():e.serverValueSetting()},mounted:function(){var e=this;e.$EventBus.$on("showOverlay",function(t){e.showOverlay=t}),e.$EventBus.$on("participantsListsPanel",function(t){e.participantPanel=t}),window.onbeforeunload=function(t){"2.0"==e.specVersion&&e.database.ref("definitions/"+e.parmProjectId+"/queue").push({state:"userExit",editUid:localStorage.getItem("uid"),email:localStorage.getItem("email"),userName:localStorage.getItem("userName"),timeStamp:(new Date).getTime()})};var t=c.a.database().ref(".info/connected");t.on("value",function(t){!0===t.val()||0==navigator.onLine&&(e.database.ref("value").off(),alert("현재 네트워크에 연결되어 있지 않습니다."))}),e.$EventBus.$on("setProjectName",function(t){e.projectName=t}),e.$EventBus.$on("saveDialog",function(){e.saveDialogReady()}),e.$EventBus.$on("login",function(t){null!=t&&(e.parmUid=localStorage.getItem("uid"),e.$router.push("/storming/"+localStorage.getItem("uid")+"/local/init/-init"))}),e.recevieServerValue(),e.updatePermission(),e.$EventBus.$on("undoRedo",function(t){e.undoRedoIndex==e.undoRedoLastIndex?0==e.undoRedoArray.length?(e.undoRedoArray.push(JSON.stringify(t)),e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex):e.undoRedoArray.length<e.undoRedoStorage?(e.undoRedoArray.push(JSON.stringify(t)),e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex):(e.undoRedoArray.splice(0,1),e.undoRedoArray.push(JSON.stringify(t))):(console.log("중간에 PUSH"),e.undoRedoArray.splice(e.undoRedoIndex,e.undoRedoArray.length-e.undoRedoIndex),e.undoRedoArray.length<e.undoRedoStorage?(e.undoRedoIndex=e.undoRedoIndex+1,e.undoRedoLastIndex=e.undoRedoIndex,e.undoRedoArray.push(JSON.stringify(t))):(e.undoRedoArray.splice(0,1),e.undoRedoArray.push(JSON.stringify(t))))}),e.$EventBus.$on("deploy",function(t){e.getBoundedSetting(t).then(function(n){e.generateZipToFireBase(n,t)})}),e.$EventBus.$on("storage",function(){var t=JSON.parse(JSON.stringify(e.value));t.definition=t.definition.filter(e=>e),t.relation=t.relation.filter(e=>e);var n=Object.keys(e.$route.params);("local"==e.parmType&&"init"==e.parmProjectId||-1!=n.indexOf("clazzName"))&&(localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveTime"),localStorage.setItem("localLoadData",JSON.stringify(t)),localStorage.setItem("localSaveTime",e.getNowTime()),console.log("localSave"))}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?e.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?e.paste():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.isRead||"local"!=e.parmType&&("mine"!=e.parmType||0!=e.sharedCount)||e.redo():e.isRead||"local"!=e.parmType&&("mine"!=e.parmType||0!=e.sharedCount)||e.undo())})})},watch:{eventSharedEveryoneBtn:function(e){var t=this;if(e){if(t.removeInvitationLists.splice(t.removeInvitationLists.findIndex(e=>"Everyone"==e.userName),1),-1==t.invitationLists.findIndex(e=>"Everyone"==e.userName)){var n={userPic:"",userName:"Everyone",write:!1};t.invitationLists.push(n)}}else if(-1!=t.invitationLists.findIndex(e=>"Everyone"==e.userName)&&(t.invitationLists.splice(t.invitationLists.findIndex(e=>"Everyone"==e.userName),1),-1==t.removeInvitationLists.findIndex(e=>"Everyone"==e.userName))){n={userPic:"",userName:"Everyone",write:!1};t.removeInvitationLists.push(n)}},value:{deep:!0,handler:h.debounce(function(e){var t=this;t.$EventBus.$emit("lab-definition",e),t.$emit("input",e),t.$emit("change",e)},1e3)},participantLists:function(e){var t,n=this;t=e.filter(e=>e.uid!=localStorage.getItem("uid")),n.$EventBus.$emit("particiateLists",t)},webrtcDialog:function(e,t){0==e&&this.onLeave()},checkValueRelation:{deep:!0,handler:function(e,t){var n,a=this;if(a.initLoad){if(a.isUndoRedo)console.log("watch - UNDO /REDO");else if(n=C.diff(t,e),void 0!=n)if("local"!=a.parmType){if("1.0"!=a.specVersion||a.isRead)"2.0"==a.specVersion&&a.setReceiveQueue&&(a.isReceiveQueue?a.isReceiveQueue=!1:(console.log("delta",n),a.onModifyElementPush(n)));else if(console.log("watch- mine Shared -Eveyone"),a.setReceiveValue)if(1==a.isOtherEdit)a.isOtherEdit=!1;else{a.isMyEdit=!0;var i=JSON.parse(JSON.stringify(a.value));i.definition=i.definition.filter(e=>e),i.relation=i.relation.filter(e=>e);var o=a.database.ref("definitions/"+a.parmProjectId+"/versionLists/"+a.parmVersion);o.child("/versionValue").update({value:JSON.stringify(i)})}a.$EventBus.$emit("undoRedo",n)}else a.$EventBus.$emit("undoRedo",n),a.$EventBus.$emit("storage");a.isUndoRedo=!1}}},messageRef:function(e){},fullPathList:function(e){var t=this;t.treeList=e.reduce((e,n)=>{return n.fullPath.split("/").reduce((e,a,i)=>{if(0===i)var o=e;else o=e.children=e.children||[];let r=o.find(e=>e.name===a.trim());return r||(r={name:a.trim(),key:t.findFile(n.key,a.trim()).key,file:t.findFile(n.key,a.trim()).file,code:t.findFile(n.key,a.trim()).code},o.push(r)),r},e),e},[])},async template(){var e=this;if("GIT"==e.template){if(console.log(e.gitUrl),e.gitUrl.length<3)return window.localStorage.getItem("gitAccessToken")?e.gitAccessTokenIs=!0:e.gitAccessTokenIs=!1,e.gitAccessInput=!0,void(e.codeModalWidth="90%");e.gitAccessInput=!0,await e.gitTemplate().then(function(){e.getListSetting(),e.$nextTick(function(){e.treeOpen=!0})})}else e.getListSetting(),e.$nextTick(function(){e.treeOpen=!0})}},methods:{isEmptyObject(e){return 0===Object.keys(e).length&&e.constructor===Object},async checkLeaderExist(e){var t=this;t.database.ref("definitions/"+t.parmProjectId+"/snapshotLists").orderByKey().limitToLast(1).once("value",function(n){if(n.exists()){var a=n.val()[Object.keys(n.val())[0]].lastSnapshotKey;console.log("lastSnapshotKey",a,"child.childKey",e.childKey,a<e.childKey),a<e.childKey?(t.database.ref("definitions/"+t.parmProjectId+"/snapshotLists/").push({snapshot:JSON.stringify(t.value),timeStamp:(new Date).getTime(),lastSnapshotKey:e.childKey}),t.receivedQueueItemCountAfterLastSnapshot=0):t.receivedQueueItemCountAfterLastSnapshot=0}else t.database.ref("definitions/"+t.parmProjectId+"/snapshotLists/").push({snapshot:JSON.stringify(t.value),timeStamp:(new Date).getTime(),lastSnapshotKey:e.childKey}),t.receivedQueueItemCountAfterLastSnapshot=0})},convertArrayToObject(e){var t=this;-1!=Object.keys(e).findIndex(e=>"definition"==e)?(console.log("convertArrayToObject:Array Value"),Array.isArray(e.definition)&&(t.convertValueSnackbar=!0,e.definition.length>0&&e.definition.forEach(function(e){t.$set(t.value["elements"],e.elementView.id,e)}),e.relation.length>0&&e.relation.forEach(function(e){t.$set(t.value["relations"],e.relationView.id,e)}),t.isApplyConvertValue=!0)):(console.log("convertArrayToObject:Object Value"),t.value=e)},convertObjectToArray(e){var t=this;-1==Object.keys(e).findIndex(e=>"elements"==e)?(console.log("convertObjectToArray: Array Value"),t.value=e):Array.isArray(e["elements"])||(t.convertValueSnackbar=!0,Object.keys(e["elements"]).length>0&&Object.keys(e["elements"]).forEach(function(n){t.value.definition.push(e["elements"][n])}),Object.keys(e["relations"]).length>0&&Object.keys(e["relations"]).forEach(function(n){t.value.relation.push(e["relations"][n])}),t.isApplyConvertValue=!0)},sort(e,t){var n=this;if(!n.sortScheduleId)try{null==e&&(t=v.elements.length-1,e=v.elements[t]);var a=(new Date).getTime()-e.childValue.receivedTime;if(a<200)n.sortScheduleId||(n.sortScheduleId=setTimeout(function(){n.sortScheduleId=null,n.sort(e,t)},300));else{n.$EventBus.$emit("progressValue",!0);var i=t+1;v.elements.sort(function(e,t){return e.childKey<t.childKey?-1:e.childKey>t.childKey?1:0});for(var o=0;o<i;o++)n.receivceQueueDrawElement(v.elements[o]);for(o=0;o<i;o++){var r=v.dequeue();n.receivedQueueItemCountAfterLastSnapshot=n.receivedQueueItemCountAfterLastSnapshot+1,console.log("queue::",n.receivedQueueItemCountAfterLastSnapshot,"/",n.snapshotFrequency,"receivedCount",n.receivedCount),r.childValue.editUid==localStorage.getItem("uid")&&n.receivedQueueItemCountAfterLastSnapshot>=n.snapshotFrequency&&n.receivedQueueItemCountAfterLastSnapshot%10==0&&n.checkLeaderExist(r)}v.isEmpty()&&(n.$EventBus.$emit("progressValue",!1),n.$nextTick(function(){n.initLoad=!0,n.checkOverlay&&n.$EventBus.$emit("showOverlay",!1)})),t=v.elements.length-1,e=v.elements[t],t>-1&&(n.sortScheduleId=setTimeout(function(){n.sortScheduleId=null,n.sort(e,t)},300))}}catch(l){console.log("sortError: ",l,"lastChild:",e),alert("Concurrent editing is unsynchronized. Page will be reloaded.(Sort)"),window.location.reload(!0)}},async serverValueSetting(){var e=this,t=e.getComponent("App");localStorage.setItem("projectId",e.parmProjectId),await e.setPermission().then(function(){""==e.projectName&&e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion).once("value",function(t){t.exists()&&(console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>set ProejctName<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),"local"!=e.parmType&&(e.projectName=t.val()["versionInfo"].projectName))}),"2.0"!=e.specVersion||e.isRead||(t.showParticiateLists=!0,e.database.ref("definitions/"+e.parmProjectId+"/queue").push({state:"userEntrance",picture:localStorage.getItem("picture"),editUid:localStorage.getItem("uid"),email:localStorage.getItem("email"),userName:localStorage.getItem("userName"),timeStamp:(new Date).getTime()}))})},localValueSetting(){var e=this,t={definition:[],relation:[]};localStorage.setItem("projectId",e.parmProjectId),e.projectName=null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local",e.isRead=!1,"anonymous"==e.parmUid&&null!=localStorage.getItem("uid")&&(e.parmUid=localStorage.getItem("uid"),e.$router.push("/storming/"+localStorage.getItem("uid")+"/local/init/-init")),null!=localStorage.getItem("localLoadData")?(e.convertObjectToArray(JSON.parse(localStorage.getItem("localLoadData"))),e.initLoad=!0,e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)})):(e.value=t,e.initLoad=!0,e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)}))},async recevieServerValue(){var e=this;await e.setPermission(),"2.0"==e.specVersion?(e.$EventBus.$emit("progressValue",!0),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Ready Receive Queue<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),await e.onReceiveQueue().then(function(){console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Done Receive Queue<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),e.isReceiveQueue=!1,e.setReceiveQueue=!0,e.$nextTick(function(){e.receivedQueueExistValue||(e.initLoad=!0,e.$EventBus.$emit("progressValue",!1))})})):(await e.onReceiveValue().then(function(){console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Done Set Value<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),e.$nextTick(function(){e.initLoad=!0,e.setReceiveValue=!0,e.$EventBus.$emit("progressValue",!1)})}),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Done Set Value<<<<<<<<<<<<<<<<<<<<<<<<<<<<"))},receivceQueueDrawElement(e){var t=this;if(void 0!=e){if(t.receivedLastKey==e.childKey?t.isLastQueueKey=!0:t.isLastQueueKey=!1,"elementPush"==e.childValue.state)if(e.childKey<t.prevKey&&(console.log("Wrong Order","now",e.childKey,"prev:",t.prevKey,e),alert("Concurrent editing is unsynchronized. Page will be reloaded."),window.location.reload(!0)),e.childKey!=t.prevKey){t.isReceiveQueue=!0,t.prevKey=e.childKey;var n=JSON.parse(e.childValue.item);t.value.definition.push(n)}else console.log("reduplication Element Push");else if("elementDelete"==e.childValue.state){var a=JSON.parse(e.childValue.item),i={state:"delete",element:e.childValue.item};t.$nextTick(function(){t.$EventBus.$emit(`${a.elementView.id}`,i),t.isReceiveQueue=!0})}else if("elementMove"==e.childValue.state){var o=e.childValue.after;i={state:"elementMove",element:o};t.$nextTick(function(){t.$EventBus.$emit(`${e.childValue.elementId}`,i),t.isReceiveQueue=!0})}else if("valueModify"==e.childValue.state)try{1==t.isLastQueueKey&&t.initLoad&&e.childValue.editUid==localStorage.getItem("uid")?t.isReceiveQueue=!1:(t.isReceiveQueue=!0,C.patch(t.value,JSON.parse(e.childValue.item)))}catch(l){console.log("patchError:",l,JSON.parse(JSON.stringify(t.value)),JSON.parse(e.childValue.item)),alert("Concurrent editing is unsynchronized. Page will be reloaded(patchError)"),window.location.reload(!0)}else if("relationPush"==e.childValue.state)if(e.childKey<t.prevKey&&(console.log("Wrong Order","now",e.childKey,"prev:",t.prevKey,e),alert("Concurrent editing is unsynchronized. Page will be reloaded."),window.location.reload(!0)),e.childKey!=t.prevKey){t.isReceiveQueue=!0,t.prevKey=e.childKey;var r=JSON.parse(e.childValue.item);t.value.relation.push(r)}else console.log("reduplication Relation Push");else if("relationDelete"==e.childValue.state){a=JSON.parse(e.childValue.item),i={state:"delete",element:e.childValue.item};t.$nextTick(function(){t.isReceiveQueue=!0,t.$EventBus.$emit(`${a.relationView.id}`,i)})}else if("relationMove"==e.childValue.state)try{o=e.childValue.after,i={state:"relationMove",element:o};t.$nextTick(function(){t.$EventBus.$emit(`${e.childValue.relationId}`,i),t.isReceiveQueue=!0})}catch(l){console.log("Wrong Order","now",e.childKey,"prev:",t.prevKey,e),alert("Concurrent editing is unsynchronized. Page will be reloaded."),window.location.reload(!0)}console.log("draw:",e.childKey,e.childValue.timeStamp)}},updatePermission(){var e=this,t=e.getComponent("App");("share"==e.parmType||"mine"==e.parmType&&e.sharedCount>0)&&(e.receivedPermission=e.database.ref("definitions/"+e.parmProjectId).child("/shareOptions/permissions").on("value",function(n){if(n.exists()){var a=Object.keys(n.val()).findIndex(e=>e==localStorage.getItem("uid"));-1==a?(e.isRead=!0,t.showParticiateLists=!1,e.$router.push("/"),alert("Permission denied")):e.isRead=!n.val()[Object.keys(n.val())[a]].write}}))},setPermission(){var e=this,t=e.getComponent("App");return new Promise(function(n){e.database.ref("definitions/"+e.parmProjectId).child("/specVersion").once("value",function(t){t.exists()&&(e.specVersion=t.val())}),e.database.ref("definitions/"+e.parmProjectId).child("/shareOptions").once("value",function(a){a.exists()&&(e.projectAuthor=a.val()["author"],e.projectAuthorEmail=a.val()["authorEmail"],e.isExistAuthor=a.val()["isExistAuthor"],void 0==a.val()["type"]&&(e.database.ref("definitions/"+e.parmProjectId+"/shareOptions").update({type:"es"}),console.log("set Type:es")),e.projectAuthor==localStorage.getItem("uid")&&e.projectAuthor==e.parmUid?(e.isRead=!1,void 0==a.val()["permissions"]?(e.sharedCount=0,e.isMineProject=!0):-1==Object.keys(a.val()["permissions"]).indexOf("everyone")?e.sharedCount=Object.keys(a.val().permissions).length:e.isPublicProject=!0,console.log("Permission setting Complete")):void 0==a.val()["permissions"]?(e.isRead=!0,t.showParticiateLists=!1,alert("Wrong Way"),e.$router.push("/")):-1!=Object.keys(a.val()["permissions"]).indexOf("everyone")?(e.isPublicProject=!0,e.isRead=!0,console.log("Permission setting Complete")):(e.sharedCount=Object.keys(a.val().permissions).length,-1!=Object.keys(a.val()["permissions"]).indexOf(localStorage.getItem("uid"))?0==a.val()["permissions"][localStorage.getItem("uid")].write?(e.isRead=!0,e.forkDialog=!0):e.isRead=!1:(e.isRead=!0,t.showParticiateLists=!1,e.$router.push("/"),alert("Permission denied")),console.log("Permission setting Complete")),e.isSetPermission=!0,n())})})},onAddElementPush(e){var t=this,n=Object.keys(t.$route.params);"local"==t.parmType||"1.0"==t.specVersion||-1!=n.indexOf("clazzName")?"org.uengine.modeling.model.Relation"==e._type?t.value.relation.push(e):t.value.definition.push(e):"2.0"!=t.specVersion||t.isRead||(t.lastEditedTimestamp=(new Date).getTime(),"org.uengine.modeling.model.Relation"==e._type?t.database.ref("definitions/"+t.parmProjectId+"/queue").push({state:"relationPush",editUid:localStorage.getItem("uid"),timeStamp:t.lastEditedTimestamp,item:JSON.stringify(e)}):t.database.ref("definitions/"+t.parmProjectId+"/queue").push({state:"elementPush",editUid:localStorage.getItem("uid"),timeStamp:t.lastEditedTimestamp,item:JSON.stringify(e)}))},onModifyElementPush(e){var t=this;"local"!=t.parmType&&("2.0"!=t.specVersion||t.isRead||(t.lastEditedTimestamp=(new Date).getTime(),c.a.database().ref("definitions/"+t.parmProjectId+"/queue").push({state:"valueModify",editUid:localStorage.getItem("uid"),timeStamp:t.lastEditedTimestamp,item:JSON.stringify(e)})))},onReceiveValue(){var e=this;return new Promise(function(t,n){e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion).on("value",function(n){n.exists()&&(e.setReceiveValue?1==e.isMyEdit?e.isMyEdit=!1:(e.isOtherEdit=!0,e.convertObjectToArray(JSON.parse(n.val()["versionValue"].value))):e.convertObjectToArray(JSON.parse(n.val()["versionValue"].value)),t())})})},onReceiveQueue(){var e=this;return new Promise(function(t,n){(new Date).getTime();e.database.ref("definitions/"+e.parmProjectId+"/snapshotLists").limitToLast(1).once("value",function(t){t.exists()&&(e.isReceiveQueue=!0,console.log("setSnapshot:",Object.keys(t.val())[0],"snapshotLastKey:",Object.values(t.val())[0].lastSnapshotKey),e.convertObjectToArray(JSON.parse(t.val()[Object.keys(t.val())[0]].snapshot)))}).then(function(n){var a;a=n.exists()?n.val()[Object.keys(n.val())[0]].lastSnapshotKey:"",e.database.ref("definitions/"+e.parmProjectId+"/queue").orderByKey().startAt(a).on("child_added",n=>{if(n.exists()){if("2.0"==e.specVersion)if("userEntrance"==n.val().state){var a={uid:n.val().editUid,email:n.val().email,userName:n.val().userName,picture:n.val().picture};-1==e.participantLists.findIndex(e=>e.uid==a.uid)&&e.participantLists.push(a)}else if("userExit"==n.val().state){a={uid:n.val().editUid,email:n.val().email,userName:n.val().userName};-1!=e.participantLists.findIndex(e=>e.uid==a.uid)&&e.participantLists.splice(e.participantLists.findIndex(e=>e.uid==a.uid),1)}else if("editUserPanelOpen"==n.val().state||"editUserPanelClose"==n.val().state||"editUserSelectOn"==n.val().state||"editUserSelectOff"==n.val().state){a={state:n.val().state,uid:n.val().uid,picture:n.val().picture};e.$EventBus.$emit(`${n.val().editElement}`,a)}else{e.receivedQueueExistValue||(e.receivedQueueExistValue=!0),e.receivedCount++;a={_ordered:!1,childKey:n.key,childValue:n.val()};a.childValue.key=n.key,a.childValue.receivedTime=(new Date).getTime(),e.receivedLastKey=a.childKey,v.enqueue(a),e.sort()}t()}})})})},bpmnDialogReady(){var e=this;e.$modal.show("bpmn-modal")},bpmnDialogComplete(){},bpmnDialogClose(){},forkDialogReady(){var e=this;e.forkProjectName=e.projectName,e.forkDialogOpen=!0},forkDialogClose(){var e=this;e.forkDialogOpen=!1},forkProjectComplete(){var e=this;this.isLoadVersion=!1;localStorage.getItem("uid");e.forkProjectName.length<1&&(e.forkProjectName=window.prompt("Please input your ProjectName"));var t=JSON.parse(JSON.stringify(e.value));t.definition=t.definition.filter(e=>e),t.relation=t.relation.filter(e=>e);var n={projectAuthor:e.projectAuthor,projectAuthorEmail:e.projectAuthorEmail,value:JSON.stringify(t),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",date:e.getNowTimeStamp(),email:localStorage.getItem("email"),projectId:null!=localStorage.getItem("projectId")?localStorage.getItem("projectId"):"",projectVersion:null!=localStorage.getItem("projectVersion")?localStorage.getItem("projectVersion"):null,projectName:e.forkProjectName,comment:e.forkProjectComment};e.saveProjectData(n,"Fork"),e.forkProjectComment=""},saveDialogReady(){var e=this;e.saveDialogOpen=!0},saveDialogClose(){var e=this;e.saveDialogOpen=!1},saveProjectComplete(){var e=this;localStorage.getItem("uid");e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName")),e.modelSetting().then(function(){e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(t){var n=JSON.parse(JSON.stringify(e.value));n.definition=n.definition.filter(e=>e),n.relation=n.relation.filter(e=>e);var a={value:JSON.stringify(n),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:t,date:e.getNowTimeStamp(),email:localStorage.getItem("email"),projectId:null!=localStorage.getItem("projectId")?localStorage.getItem("projectId"):"",projectVersion:null!=localStorage.getItem("projectVersion")?localStorage.getItem("projectVersion"):null,projectName:e.projectName,comment:e.saveProjectComment};"local"==e.parmType?e.saveProjectData(a,"New"):e.saveProjectData(a,"newVersion"),e.saveProjectComment=""})})},onRemoveInvitations(e){var t=this;"Everyone"==e.userName?(t.invitationLists.splice(t.invitationLists.findIndex(t=>t.userName==e.userName),1),t.removeInvitationLists.push(e)):(t.invitationLists.splice(t.invitationLists.findIndex(t=>t.uid==e.uid),1),t.removeInvitationLists.push(e))},onAddInvitations(){var e=this,t=[];if(""!=e.invitationEmail){var n=!1;"ReadOnly"==e.isMultiShareType?n=!1:"Write"==e.isMultiShareType&&(n=!0),e.database.ref("users/").once("value",function(n){if(n.exists()){var a=n.val();Object.keys(a).forEach(function(n){if(a[n].email==e.invitationEmail){var i={findUserUid:n,findUserName:a[n].username,findUserPicture:a[n].profile_picture,findUserProvider:a[n].provider};t.push(i)}})}}).then(function(){t.length>0?t.forEach(function(t,a){var i={uid:t.findUserUid,userName:t.findUserName,userPic:t.findUserPicture,email:e.invitationEmail,provider:void 0==t.findUserProvider?"google":t.findUserProvider,write:n};-1==e.invitationLists.findIndex(e=>e.uid==i.uid)?e.invitationLists.push(i):e.invitationLists[e.invitationLists.findIndex(e=>e.uid==i.uid)].write!=i.write&&(e.invitationLists[e.invitationLists.findIndex(e=>e.uid==i.uid)].write=i.write)}):alert("Can't find user. check email")})}},openEventShareDialog(){var e=this;e.invitationLists=[],e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions").once("value",function(t){t.exists()&&(e.eventSharedEveryoneBtn=!1,Object.keys(t.val()).forEach(function(n){if("everyone"==n){var a={userPic:"",userName:"Everyone",write:!1};-1==e.invitationLists.findIndex(e=>e.userName==a.userName)&&e.invitationLists.push(a),e.eventSharedEveryoneBtn=!0}else{a={uid:n,userName:t.val()[n].userName,userPic:t.val()[n].userPic,email:t.val()[n].email,write:t.val()[n].write};-1==e.invitationLists.findIndex(e=>e.uid==a.uid)&&e.invitationLists.push(a)}}))}),e.eventShareDialog=!0},cancelEventStromingShared(){var e=this;e.removeInvitationLists.length>0&&(e.invitationLists=e.invitationLists.concat(e.removeInvitationLists),e.removeInvitationLists=[]),e.eventShareDialog=!1},completeEventStromingShared(){var e=this;e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion+"/versionInfo").update({comment:e.shareComment}).then(function(){if(e.removeInvitationLists.length>0&&(e.removeInvitationLists.forEach(function(t){"Everyone"==t.userName?(e.database.ref("userLists/everyone/share/"+e.parmProjectId).remove(),e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions/everyone").remove(),e.eventSharedEveryoneBtn=!1):(e.database.ref("userLists/"+t.uid+"/share/"+e.parmProjectId+"/projectId").remove(),e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions/"+t.uid).remove())}),e.removeInvitationLists=[]),e.invitationLists.forEach(function(t){"Everyone"==t.userName&&0==t.write?(e.database.ref("userLists/everyone/share/"+e.parmProjectId).update({projectId:e.parmProjectId}),e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions/everyone").update({write:!1})):(e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions").child(t.uid).update({uid:t.uid,userName:t.userName,userPic:t.userPic,email:t.email,write:t.write}),e.database.ref("userLists/"+t.uid+"/share/").child(e.parmProjectId).update({projectId:e.parmProjectId}))}),"1.0"==e.specVersion){var t=JSON.parse(JSON.stringify(e.value));t.definition=t.definition.filter(e=>e),t.relation=t.relation.filter(e=>e),e.database.ref("definitions/"+e.parmProjectId+"/snapshotLists/").push({snapshot:JSON.stringify(t),timeStamp:(new Date).getTime(),lastSnapshotKey:""}),e.database.ref("definitions/"+e.parmProjectId).update({specVersion:"2.0"}).then(function(){window.location.reload(!0)})}}),e.eventShareDialog=!1},tokenSave(){var e=this;localStorage.setItem("kubernetesToken",e.kubernetesToken),localStorage.setItem("clusterAddress",e.clusterAddress),e.tokenDialog=!1},onCapture(){this.img=this.$refs.webrtc.capture()},onJoin(){this.webrtcDialog=!0,this.rtcLogin=!0,this.$refs.webrtc.join()},onLeave(){this.rtcLogin=!1,this.$refs.webrtc.leave()},onShareScreen(){this.img=this.$refs.webrtc.shareScreen()},logEvent(e){console.log("Event : ",e)},onError(e,t){console.log("On Error Event",e,t)},applyChange(e,t,n){if("undefined"===typeof n&&t&&~validKinds.indexOf(t.kind)&&(n=t),e&&n&&n.kind){var a=e,i=-1,o=n.path?n.path.length-1:0;while(++i<o)"undefined"===typeof a[n.path[i]]&&(a[n.path[i]]="undefined"!==typeof n.path[i+1]&&"number"===typeof n.path[i+1]?[]:{}),a=a[n.path[i]];switch(n.kind){case"A":n.path&&"undefined"===typeof a[n.path[i]]&&(a[n.path[i]]=[]),applyArrayChange(n.path?a[n.path[i]]:a,n.index,n.item);break;case"D":delete a[n.path[i]];break;case"E":case"N":a[n.path[i]]=n.rhs;break}}},difference(e,t){function n(e,t){return h.transform(e,function(e,a,i){h.isEqual(a,t[i])||(e[i]=h.isObject(a)&&h.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},undo:function(){var e,t=this;if(!t.drawer)if("local"==t.parmType||"mine"==t.parmType&&(0==t.sharedCount||t.isPublicProject)){if(t.undoRedoArray.length>0){if(t.undoRedoIndex=t.undoRedoIndex-1,t.undoRedoIndex>=0){if(void 0==t.undoRedoArray[t.undoRedoIndex])return;e=JSON.parse(t.undoRedoArray[t.undoRedoIndex]),t.isUndoRedo=!0}else if(t.undoRedoIndex<0)return t.undoRedoIndex=0,t.isUndoRedo=!0,!0;console.log(">>>> undo <<<<<",e),C.patch(t.value,C.reverse(e)),t.$EventBus.$emit("storage")}}else if(t.isUndoRedo=!0,"share"==t.parmType||"mine"==t.parmType&&t.sharedCount>0){console.log("get Queue Undo - multi");localStorage.getItem("nowUndoRedoKey")}else if("mine"==t.parmType&&(0==t.sharedCount||t.isPublicProject)){console.log("get Queue Undo - NO multi");localStorage.getItem("nowUndoRedoKey")}},redo:function(){var e=this;if(!e.drawer)if("local"==e.parmType||"mine"==e.parmType&&(0==e.sharedCount||e.isPublicProject)){if(0!=e.undoRedoArray.length){if(e.undoRedoIndex==e.undoRedoArray.length)return;e.isUndoRedo=!0,e.undoRedoIndex=e.undoRedoIndex+1;var t=JSON.parse(e.undoRedoArray[e.undoRedoIndex-1]);console.log(">>>> REDO <<<<<",t),C.patch(e.value,t),e.$EventBus.$emit("storage")}}else if(e.isUndoRedo=!0,"share"==e.parmType||"mine"==e.parmType&&e.sharedCount>0){console.log("get Queue Redo - multi");localStorage.getItem("nowUndoRedoKey")}else if("mine"==e.parmType&&(0==e.sharedCount||e.isPublicProject)){console.log("get Queue Redo - NO multi");localStorage.getItem("nowUndoRedoKey")}},loadTextFromFile(e){var t=this;if(void 0!=e){const n=e.target.files[0];t.projectName=n.name.replace(".json","");const a=new FileReader;a.onload=(e=>t.loadAddElement(JSON.parse(e.target.result))),a.readAsText(n)}},goToServer(){this.$router.push({path:"/"})},goToVersions(){var e=this;e.showVersionsDialog=!0},async functionSelect(e,t){var n=this;"Save to Server"==e?n.$route.params.clazzName?n.uploadMinio():n.saveDialogReady():"Download model File"==e?n.download():"Open from Files"==e?n.goToServer():"Open from Local"==e?n.loadTextFromFile():"Code Preview"==e?n.codeModalShow():"Download Archive"==e?n.generateZipDialog=!0:"Share"==e?n.openEventShareDialog():"Versions"==e?n.goToVersions():"BPMN"==e?n.bpmnDialogReady():"Project IDE"==e&&n.ideStartValidation()},getNowTimeStamp(){var e=new Date;return e.getTime()},getNowTime(){var e=new Date;return e.getFullYear()+"년 "+(e.getMonth()+1)+"월 "+e.getDate()+"일 "+e.getHours()+"시 "+e.getMinutes()+"분 "+e.getSeconds()+"초"},saveGitToken(){var e=this;e.$http.defaults.headers.common["Authorization"]=`token ${e.gitAccessToken}`,localStorage.setItem("gitAccessToken",e.gitAccessToken),e.gitAccessInput=!1,e.codeModalWidth="80%",e.gitTemplate()},gitTemplate(){var e=this;return new Promise(function(t,n){e.$manifestsPerTemplate["GIT"]=[],e.gitRepository=e.gitUrl.split("/")[e.gitUrl.split("/").length-2],e.gitProject=e.gitUrl.split("/")[e.gitUrl.split("/").length-1],console.log(window.localStorage.getItem("gitAccessToken"),e.gitRepository,e.gitProject),e.$http.get("https://api.github.com/repos/"+e.gitRepository+"/"+e.gitProject+"/commits").then(function(n){e.$http.get("https://api.github.com/repos/"+e.gitRepository+"/"+e.gitProject+"/git/trees/"+n.data[0].sha).then(async function(n){await e.setGitList(n.data,e.gitRepository),t()})})})},setGitList(e,t){var n=this;return n.fullPathList=[],n.getCodeList=[],n.gitPath=[],n.gitCode=[],new Promise(function(t){try{n.$http.get(e.url+"?recursive=1").then(function(e){e.data.tree.forEach(function(a,i){a.path.split("/")[a.path.split("/").length-1];"tree"!=a.type&&(n.$manifestsPerTemplate["GIT"].push("./"+a.path),n.gitCodeUrl[a.path]=a.url),e.data.tree.length-1==i&&t()})}).catch(e=>console.log(e))}catch(a){}})},getListSetting(){var e=this;return new Promise(async function(t,n){e.fullPathList=[],e.getCodeList=[],e.treeList=[];var a={_type:"org.uengine.modeling.model.Model",boundedContexts:[],projectName:e.projectName},i={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],RelationCommandInfo:[],ViewEventInfo:[]},o=JSON.parse(JSON.stringify(e.value.definition));o.forEach(function(e){null!=e&&("org.uengine.modeling.model.BoundedContext"==e._type?i.BoundedContext.push(e):"org.uengine.modeling.model.Aggregate"==e._type&&(i.Aggregate.push(e),i.AggregateRoot.push(e.aggregateRoot)),"org.uengine.modeling.model.Event"==e._type?i.Event.push(e):"org.uengine.modeling.model.Policy"==e._type?(i.Policy.push(e),e.relationEventInfo=null):"org.uengine.modeling.model.Command"==e._type?i.Command.push(e):"org.uengine.modeling.model.View"==e._type&&i.View.push(e))});var r={};i.BoundedContext.forEach(e=>{a.boundedContexts.push(e),r[e.elementView.id]=e});var l={};i.Aggregate.forEach(e=>{l[e.elementView.id]=e,e.boundedContext&&e.boundedContext.id&&(e.boundedContext=r[e.boundedContext.id],e.boundedContext.aggregates.push(e))});var s={};i.Event.forEach(e=>{s[e.elementView.id]=e,e.boundedContext&&e.boundedContext.id||!e.aggregate||(e.boundedContext=e.aggregate.boundedContext)});var c={};i.Policy.forEach(e=>{c[e.elementView.id]=e,e.boundedContext&&e.boundedContext.id&&r[e.boundedContext.id].policies.push(e)});var u={};if(i.Command.forEach(e=>{u[e.elementView.id]=e}),i.BoundedContext.forEach(e=>{if(e.aggregates.length>0)for(var t=0;t<e.aggregates.length;t++)e.aggregates[t]=l[e.aggregates[t].elementView.id];if(e.policies.length>0)for(t=0;t<e.policies.length;t++)e.policies[t]=c[e.policies[t].elementView.id]}),i.Event.forEach(t=>{if(!e.isEmptyObject(t.aggregate)){var n=l[t.aggregate.elementView?t.aggregate.elementView.id:t.aggregate.id];n&&(n.events||(n.events=[]),n.events.push(t))}}),i.Command.forEach(t=>{if(!e.isEmptyObject(t.aggregate)){var n=l[t.aggregate.elementView?t.aggregate.elementView.id:t.aggregate.id];n&&(n.events||(n.commands=[]),n.commands.push(t))}}),e.value.relation.forEach(e=>{if(null!=e)if("org.uengine.modeling.model.Event"==e.sourceElement._type&&"org.uengine.modeling.model.Policy"==e.targetElement._type){var t={eventValue:s[e.sourceElement.elementView.id],relationId:e.relationView.id,elementView:{id:s[e.sourceElement.elementView.id].elementView.id}};c[e.targetElement.elementView.id].relationEventInfo=t,i.RelationEventInfo.push(t)}else if("org.uengine.modeling.model.Event"==e.sourceElement._type&&"org.uengine.modeling.model.Command"==e.targetElement._type){var n={commandValue:u[e.targetElement.elementView.id],relationId:e.relationView.id,boundedContext:s[e.sourceElement.elementView.id].aggregate.boundedContext,elementView:{id:u[e.targetElement.elementView.id].elementView.id}};s[e.sourceElement.elementView.id].relationCommandInfo=n,i.RelationCommandInfo.push(n)}}),a.boundedContexts.forEach(function(t,n){t.portGenerated=8081+n,a.boundedContexts[n].aggregates.length>=1&&a.boundedContexts[n].aggregates.forEach(function(t,o){if(t){var r=[{trigger:"PostPersist",annotation:"@PostPersist",events:[]},{trigger:"PostUpdate",annotation:"@PostUpdate",events:[]},{trigger:"PostRemove",annotation:"@PostRemove",events:[]},{trigger:"PrePersist",annotation:"@PrePersist",events:[]},{trigger:"PreUpdate",annotation:"@PreUpdate",events:[]},{trigger:"PreRemove",annotation:"@PreRemove",events:[]}];t.aggregateRoot.fieldDescriptors.forEach(function(e){e.name=e.name,e.nameCamelCase=h.camelCase(e.name),e.namePascalCase=e.nameCamelCase.substring(0,1).toUpperCase()+e.nameCamelCase.substring(1),e.isKey&&(t.aggregateRoot.keyFieldDescriptor=e)}),t.commands&&t.commands.forEach(function(t){""==t.name&&(e.text="Check Command Name",e.snackbar=!0,e.color="error",e.timeout=1e3,e.checkName=!1),t.controllerInfo.apiPath,i["Command"].push(t)}),t.events&&t.events.forEach(function(t){r.some(function(e){e.annotation!=t.trigger||e.events.push(t)}),""==t.name&&(e.text="Check Event Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),i["Event"].push(t)}),r.forEach(function(e,t){0==e.events.length&&(r[t]=null)}),r=r.filter(e=>e),r.length>0&&(console.log(r),a.boundedContexts[n].aggregates[o].lifeCycles=r)}}),a.boundedContexts[n].policies.length>=1&&a.boundedContexts[n].policies.forEach(function(t){""==t.name&&(e.text="Check Policy Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1)}),a.boundedContexts[n].viewes.length>=1&&a.boundedContexts[n].viewes.forEach(function(t){""==t.name&&(e.text="Check View Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.createRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.createRules[n]=null,t.createRules=t.createRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e._index=n+1}}),t.updateRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.updateRules[n]=null,t.updateRules=t.updateRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),t.deleteRules.forEach(function(e,n){if(0==Object.keys(e.when).length)t.deleteRules[n]=null,t.deleteRules=t.deleteRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var a=JSON.parse(JSON.stringify(e));a.when.boundedContext=t.boundedContext,i["ViewEventInfo"].push(a.when)}e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=n+1}}),i["View"].push(t)})}),e.template.length>0)var d=e.template;else d="spring-boot";var m=e.$manifestsPerTemplate[d].length-1;e.$manifestsPerTemplate[d].forEach(function(n,o){n=n.replace("./","");var r=function(t){n.includes("for-model");var o="",r=0;t.split("---");if(t.includes("forEach:"))l=t.split("forEach:")[1].split("\n")[0].trim();else if(r+=1,n.includes("for-model")){var l="Model";o=o.concat("forEach: "+l)}else{var l="BoundedContext";o=o.concat("forEach: "+l)}if(!t.includes("fileName:")&&(r+=1,n.split("/"))){var s=n.substring(n.lastIndexOf("/")+1);o=o.concat("\n"),o=o.concat("fileName: "+s)}if(t.includes("path:")){if(!t.includes("forEach:")){n.substring(0,n.lastIndexOf("/")+1);n.includes("for-model")?o=o.concat("\n"):t.includes(" path:")?(r+=1,o=o.concat("\n"),o=o.concat(`path: {{name}}/${k.dirname(n).replace("./","")}`)):o=o.concat("\n")}}else{n.substring(0,n.lastIndexOf("/")+1);r+=1,n.includes("for-model")?(o=o.concat("\n"),o=o.concat(`path: ${k.dirname(n).replace("./","")}`)):(o=o.concat("\n"),o=o.concat(`path: {{name}}/${k.dirname(n).replace("./","")}`))}o=3==r?o.concat("\n---\n"):o.concat("\n"),o.length>0&&(t=o.concat(t));var c=i[l],u=function(i){if(void 0==i){var o=t.split("---"),r=y.load(o[0]),l=n.split("/"),s=l[0]+"/"+l[1];r["path"].includes(s)||(r["path"]=s.concat(r["path"]));for(var c=r["path"].split("/"),u="",d=1;d<c.length;d++)u=1==d?u.concat(c[d]):u.concat("/"+c[d]);var m={package:`${u}`.replace(l[1]+"/src/main/java/","").replace("-","").replace(/\//gi,"."),packagePath:`${u}`};i=a}else m={package:`${e.projectName.replace(" ",".").replace("-","")}`,packagePath:`src/main/java/${e.projectName.replace(" ","/").replace("-","")}`};i.options=m;var p=window.$Mustache.render(t,i),v=p.split("---"),h=y.load(v[0]);m={};Object.keys(h).forEach(function(e,t){var n=e,a=Object.values(h)[t];"path"==n&&a.lastIndexOf(".")==a.length-1&&(a=a.substring(0,a.lastIndexOf(".")-1)),m[n]=a});var f=m["fileName"],g=m["path"]+"/"+m["fileName"];f.includes("Application")&&s&&!g.includes(s)&&(g=s.concat(g));var b="";if(v.length>1)for(var _ in v)0!=_&&_<v.length-1?b=b.concat(v[_]+"---\n"):_==v.length-1&&(b=b.concat(v[_]));var w={},x={};b=b.replace("\n",""),b.length>1&&("org.uengine.modeling.model.Model"==i._type?(w={key:l[1]+f,fileName:f,code:b,file:e.fileType(f)},x={key:l[1]+f,fullPath:g.replace("for-model/","")}):"org.uengine.modeling.model.BoundedContext"==i._type?(w={key:i.elementView.id+f,fileName:f,code:b,file:e.fileType(f)},x={key:i.elementView.id+f,fullPath:g}):(w={key:i.boundedContext.id+i.elementView.id+f,fileName:f,code:b,file:e.fileType(f)},x={key:i.boundedContext.id+i.elementView.id+f,fullPath:g}),e.getCodeList.push(w),e.fullPathList.push(x))};Array.isArray(c)?c.forEach(u):u(c)},l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("GIT"==e.template){var n=JSON.parse(this.responseText),a=g.decode(n.content);r(a)}else r(this.responseText);m==o&&t()}},"GIT"==e.template?(l.open("GET",e.gitCodeUrl[n],!0),l.setRequestHeader("Authorization","token "+e.gitAccessToken),l.send()):(l.open("GET","/static/templates/"+d+"/"+n,!0),l.send())})})},fileType(e){var t;return e.includes(".java")?t="java":e.includes("Dockerfile")?t="docker":e.includes(".xml")?t="xml":e.includes(".yaml")||e.includes(".yml")||e.includes(".properties")||e.includes("mvnw")||e.includes(".groovy")?t="txt":e.includes("md")?t="md":e.includes(".jpg")||e.includes(".png")||e.includes(".jpeg")?t="png":e.includes(".json")?t="json":e.includes(".py")&&(t="python"),t},findFile(e,t){var n=this,a={};return n.getCodeList.some(function(n){n.key==e&&n.fileName==t&&(a={key:n.key,code:n.code,file:n.file})}),void 0==a.key&&(a={key:t}),a},async codeModalShow(){var e=this;e.getCodeList=[],e.model=[],e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName")),e.$EventBus.$emit("showOverlay",!0),await e.getListSetting(),e.$EventBus.$emit("showOverlay",!1),e.gitAccessToken=localStorage.getItem("gitAccessToken"),e.checkName&&e.$modal.show("code-modal"),e.codeViewing=!0,e.openCode=[],e.checkName=!0},umlModalShow(){this.$modal.show("uml-modal")},async uploadMinio(){var e=this;if(e.treeList.length>0){e.treeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var t=new x,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){})}),t.generateAsync({type:"blob"}).then(function(t){Object(l["saveAs"])(t,`${e.projectName}.zip`)})}else await e.getListSetting(),e.generateZip()},async generateZip(){var e=this;if(e.treeList.length>0){e.treeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var t=new x,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){})}),t.generateAsync({type:"blob"}).then(function(t){Object(l["saveAs"])(t,`${e.projectName}.zip`)})}else await e.getListSetting(),e.generateZip()},fileExistCheck(e,t){var n=this,a=localStorage.getItem("author").split("@")[0].toLowerCase(),i=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),o=n.projectName.toLowerCase();return"project"==t.type?new Promise(function(t){e.statObject("eventstorming",`${i}/${a}/${o}.zip`,function(n,r){n?e.statObject("eventstorming",`${i}/${a}/${o}.check`,function(e,n){t(void 0!=n&&"rebuild")}):t(!0)})}):"bounded"==t.type?new Promise(function(n){e.statObject("eventstorming",`${i}/${a}/${o}/${t.boundedContext}.zip`,function(e,t){e&&n(!1),console.log(t),n(!0)})}):void 0},getPodStatus(e,t,n){var a=this;return new Promise(function(i,o){a.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/ide-for-${e}-${t}-${n}`).then(function(e){"Running"==e.data.status.phase?i(!0):i(!1)}).catch(function(e){i(!1)})})},getServiceStatus(e,t,n){var a=this;return new Promise(function(i,o){a.$http.get(`http://34.69.232.192/api/v1/namespaces/default/services/ide-for-${e}-${t}-${n}`).then(function(e){console.log("getServiceStatus"),i(!0)}).catch(function(e){i(!1)})})},deletePod(e,t,n){var a=this;return new Promise(function(i,o){a.$http.delete(`http://34.69.232.192/api/v1/namespaces/default/pods/ide-for-${e}-${t}-${n}`).then(function(e){"Running"==e.data.status.phase?i(!0):i(!1)}).catch(function(e){i(!1)})})},deleteService(e,t,n){var a=this;return new Promise(function(i,o){a.$http.delete(`http://34.69.232.192/api/v1/namespaces/default/services/ide-for-${e}-${t}-${n}`).then(function(e){"Running"==e.data.status.phase?i(!0):i(!1)}).catch(function(e){i(!1)})})},deleteFileMinio(e,t,n){var a=this;return new Promise(function(i,o){var r=new f.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"});r.removeObject("eventstorming",`${t}/${e}/${n}.zip`,function(i){if(i)return console.log("Unable to remove object",i);a.ideUpdateCheck=!1,a.ideCheckDialog=!1,window.open(`#/IdeLoadingPage?param=ide-for-${e}-${t}-${n}`,"_blank"),setTimeout(function(){a.openProjectIDE()},5e4)})})},async ideStartValidation(){var e=this,t=localStorage.getItem("author").split("@")[0].toLowerCase(),n=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),a=e.projectName.toLowerCase();e.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/ide-for-${t}-${n}-${a}`).then(function(t){e.ideCheckDialog=!0}).catch(function(t){t.toString().includes(500)&&e.openProjectIDE()})},async openProjectIDE(){var e=this,t=localStorage.getItem("author").split("@")[0].toLowerCase(),n=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),a=e.projectName.toLowerCase();e.ideUpdateCheck&&(await e.deletePod(t,n,a),await e.deleteService(t,n,a),await e.deleteFileMinio(t,n,a));var i=await e.getPodStatus(t,n,a),o=await e.getServiceStatus(t,n,a);i&&o?window.open(`#/IdeLoadingPage?param=ide-for-${t}-${n}-${a}`,"_blank"):i||o?i&&!o?e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"ide",app:`ide-for-${t}-${n}-${a}`},name:`ide-for-${t}-${n}-${a}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`ide-for-${t}-${n}-${a}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){window.open(`#/IdeLoadingPage?param=ide-for-${t}-${n}-${a}`,"_blank")}):!i&&o&&e.$http.delete(`http://34.69.232.192/api/v1/namespaces/default/services/ide-for-${t}-${n}-${a}`).then(function(){e.openProjectIDE()}):e.$http.get(`http://34.69.232.192/api/v1/namespaces/default/services/ide-for-${t}-${n}-${a}`).then(function(e){}).catch(async function(i){if(i.toString().includes(500))if(await e.getListSetting(),e.treeList.length>0){e.treeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var o=new x,r=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&r.push(e.path.split("/")[0]),o.file(e.path,e.code)}),r.forEach(function(e){o.folder(e).forEach(function(e,t){})}),o.generateAsync({type:"nodebuffer"}).then(async function(i){var o={"Content-Type":"application/zip."},r=new f.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"}),l={type:"project"},s=await e.fileExistCheck(r,l);1==s?e.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`ide-for-${t}-${n}-${a}`,labels:{environment:"ide",app:`ide-for-${t}-${n}-${a}`}},spec:{initContainers:[{name:"unzip",image:"busybox",command:["unzip","-n",`/home/project/${n}/${t}/${a}.zip`,"-d",`/home/project/${n}/${t}/${a}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"eventstorming"}]}],containers:[{name:`ide-for-${t}-${n}-${a}`,image:"sanghoon01/theia-kafka",securityContext:{privileged:!0,runAsUser:0},resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`eventstorming/${n}/${t}/${a}`}],readinessProbe:{httpGet:{path:"/#/home/project",port:3e3}}}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"ide",app:`ide-for-${t}-${n}-${a}`},name:`ide-for-${t}-${n}-${a}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`ide-for-${t}-${n}-${a}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){window.open(`#/IdeLoadingPage?param=ide-for-${t}-${n}-${a}`,"_blank")})}):"rebuild"==s?r.putObject("eventstorming",`${n}/${t}/${a}.zip`,i,o,{"Content-Type":"application/zip"},function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`ide-for-${t}-${n}-${a}`,labels:{environment:"ide",app:`ide-for-${t}-${n}-${a}`}},spec:{initContainers:[{name:"unzip",image:"busybox",command:["unzip","-n",`/home/project/${n}/${t}/${a}.zip`,"-d",`/home/project/${n}/${t}/${a}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"eventstorming"}]}],containers:[{name:`ide-for-${t}-${n}-${a}`,image:"sanghoon01/theia-kafka",securityContext:{privileged:!0,runAsUser:0},resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`eventstorming/${n}/${t}/${a}`}],readinessProbe:{httpGet:{path:"/#/home/project",port:3e3}}}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{app:`ide-for-${t}-${n}-${a}`},name:`ide-for-${t}-${n}-${a}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`ide-for-${t}-${n}-${a}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then()})}):(r.putObject("eventstorming",`${n}/${t}/${a}.check`,"",o,{"Content-Type":"application/json"}),r.putObject("eventstorming",`${n}/${t}/${a}/.check`,"",o,{"Content-Type":"application/json"}),r.putObject("eventstorming",`${n}/${t}/${a}.zip`,i,o,{"Content-Type":"application/zip"},function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`ide-for-${t}-${n}-${a}`,labels:{environment:"ide",app:`ide-for-${t}-${n}-${a}`}},spec:{initContainers:[{name:"unzip",image:"busybox",command:["unzip",`/home/project/${n}/${t}/${a}.zip`,"-d",`/home/project/${n}/${t}/${a}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"eventstorming"}]}],containers:[{name:`ide-for-${t}-${n}-${a}`,image:"sanghoon01/theia-kafka",securityContext:{privileged:!0,runAsUser:0},resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`eventstorming/${n}/${t}/${a}`}],readinessProbe:{httpGet:{path:"/#/home/project",port:3e3}}}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{app:`ide-for-${t}-${n}-${a}`},name:`ide-for-${t}-${n}-${a}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`ide-for-${t}-${n}-${a}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){window.open(`#/IdeLoadingPage?param=ide-for-${t}-${n}-${a}`,"_blank")})})}))})}else await e.getListSetting(),e.openProjectIDE()})},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){var a=t+"/"+e.name;n.reverse(e.children,a)}else e.code&&n.pathTmp.push({path:t+"/"+e.name,code:e.code})})},codeModalhide(){this.$modal.hide("code-modal"),this.codeViewing=!1,me.openCode=[]},unselectedAll:function(e){console.log("newVal"),this.value.definition.forEach(function(e){null!=e&&(e.selected=!1)}),this.value.relation.forEach(function(e){null!=e&&(e.selected=!1)})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},async generateZipToFireBase(e,t){var n=this,a=[],i=n.$refs[t][0].value.name,o=e.fullPathList.reduce((e,t)=>{return t.fullPath.split("/").reduce((e,n,a)=>{if(0===a)var i=e;else i=e.children=e.children||[];let o=i.find(e=>e.name===n.trim());return o||(console.log(l(t.key,n.trim()).key),console.log(l(t.key,n.trim()).file),o={name:n.trim(),key:l(t.key,n.trim()).key,file:l(t.key,n.trim()).file,code:l(t.key,n.trim()).code},i.push(o)),o},e),e},[]);function r(e,t){e.forEach(function(e){if(e.children){var n=t+"/"+e.name;r(e.children,n)}else e.code&&a.push({path:t+"/"+e.name,code:e.code})})}function l(t,n){var a={};return e.getCodeList.some(function(e){e.key==t&&e.fileName==n&&(a={key:e.key,code:e.code,file:e.file})}),void 0==a.key&&(a={key:n}),a}o.forEach(function(e){console.log(e),void 0==e.file?(console.log("aa"),r(e.children,e.name)):(console.log("bb"),a.push({path:e.name,code:e.code}))});var s=new x,c=[];console.log(a),a.forEach(function(e){e.path.includes("/")&&c.push(e.path.split("/")[0]),s.file(e.path,e.code)}),c.forEach(function(e){s.folder(e).forEach(function(e,t){})}),s.generateAsync({type:"nodebuffer"}).then(async function(e){var t={"Content-Type":"application/zip."},a=new f.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"}),o={type:"bounded",boundedContext:i},r=await n.fileExistCheck(a,o),l=localStorage.getItem("author").split("@")[0].toLowerCase(),s=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),c=n.projectName.toLowerCase();r?window.open(`#/IdeLoadingPage?param=ide-for-${l}-${s}-${c}-${i.toLowerCase()}`,"_blank"):(a.putObject("eventstorming",`${s}/${l}/${c}/.check`,"",t,{"Content-Type":"application/json"}),a.putObject("eventstorming",`${s}/${l}/${c}/${i}.zip`,e,t,{"Content-Type":"application/zip"},function(){n.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`,labels:{environment:"ide",app:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`}},spec:{initContainers:[{name:"unzip",image:"busybox",command:["unzip","-n",`/home/project/${s}/${l}/${c}/${i}.zip`,"-d",`/home/project/${s}/${l}/${c}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"eventstorming"}]}],containers:[{name:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`,image:"sanghoon01/theia-kafka",securityContext:{privileged:!0,runAsUser:0},resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`eventstorming/${s}/${l}/${c}/${i}`}],readinessProbe:{httpGet:{path:"/#/home/project",port:3e3}}}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){n.$http.post("http://localhost:8080/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"ide",app:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`},name:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`ide-for-${l}-${s}-${c}-${i.toLowerCase()}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){window.open(`#/IdeLoadingPage?param=ide-for-${l}-${s}-${c}-${i.toLowerCase()}`,"_blank")})})}))})},modelSetting(){var e=this;return e.fullPathList=[],e.getCodeList=[],e.treeList=[],e.model={_type:"org.uengine.modeling.model.Model",boundedContexts:[],relations:[],projectName:e.projectName},new Promise(function(t){e.value.definition.forEach(function(t){null!=t&&"org.uengine.modeling.model.BoundedContext"==t._type&&e.model.boundedContexts.push(JSON.parse(JSON.stringify(t)))});var n={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],RelationCommandInfo:[],ViewEventInfo:[]};e.model.relations=e.recursiveDeepCopy(e.value.relation),e.model.boundedContexts.forEach(function(t,a){t.portGenerated=8081+a,n["BoundedContext"].push(t),t.groups.forEach(function(t){if("org.uengine.modeling.model.Event"==e.$refs[t][0].value._type&&void 0==e.$refs[t][0].value.aggregate.name){var a=e.$refs[t][0].value;n["Event"].push(a)}}),e.model.boundedContexts[a].aggregates.forEach(function(t,a){t.aggregateRoot.fieldDescriptors.forEach(function(e){e.isKey&&(t.aggregateRoot.keyFieldDescriptor=e)}),n["Aggregate"].push(t),n["AggregateRoot"].push(t.aggregateRoot),t.commands&&t.commands.forEach(function(t){""==t.name&&(e.text="Check Command Name",e.snackbar=!0,e.color="error",e.timeout=1e3,e.checkName=!1),n["Command"].push(t)}),t.events&&t.events.forEach(function(t){""==t.name&&(e.text="Check Event Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),n["Event"].push(t)})}),e.model.boundedContexts[a].policies.forEach(function(t){""==t.name&&(e.text="Check Element Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.relationEventInfo.forEach(function(e){e.eventValue.boundedContext={},e.eventValue.boundedContext.name=t.boundedContext.name,e.eventValue.elementView={},e.eventValue.elementView.id=t.elementView.id,n["RelationEventInfo"].push(e)}),n["Policy"].push(t)}),e.model.boundedContexts[a].viewes.forEach(function(t){""==t.name&&(e.text="Check Element Name",e.snackbar=!0,e.timeout=1e3,e.color="error",e.checkName=!1),t.createRules.forEach(function(e,a){if(0==Object.keys(e.when).length)t.createRules[a]=null,t.createRules=t.createRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,n["ViewEventInfo"].push(i.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e._index=a+1}}),t.updateRules.forEach(function(e,a){if(0==Object.keys(e.when).length)t.updateRules[a]=null,t.updateRules=t.updateRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,n["ViewEventInfo"].push(i.when)}e.fieldMapping.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.fieldMapping[n]=null,e.fieldMapping=e.fieldMapping.filter(e=>e))}),e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=a+1}}),t.deleteRules.forEach(function(e,a){if(0==Object.keys(e.when).length)t.deleteRules[a]=null,t.deleteRules=t.deleteRules.filter(e=>e);else{if(e.when.boundedContext.id!=t.boundedContext.id){var i=JSON.parse(JSON.stringify(e));i.when.boundedContext=t.boundedContext,n["ViewEventInfo"].push(i.when)}e.where.forEach(function(t,n){0!=Object.keys(t.eventField).length&&0!=Object.keys(t.viewField).length||(e.where[n]=null,e.where=e.where.filter(e=>e))}),e._index=a+1}}),n["View"].push(t)})}),t()})},saveProjectData(e,t){var n=this,a="",i="",o=n.projectName;null!=localStorage.getItem("uid")?"Fork"==t||"New"==t?(a=n.dbuid(),i=n.database.ref("definitions/").child(a+"/versionLists/").push().key,"Fork"==t&&(o=n.forkProjectName),n.database.ref("definitions/").child(a+"/shareOptions").update({type:"es",author:e.author,authorEmail:e.email,lastVersionName:i}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionValue").update({value:e.value}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionInfo").update({saveUser:e.author,saveUserEmail:e.email,saveUserName:e.userName,projectName:o,img:e.img,date:e.date,comment:e.comment}),n.database.ref("userLists/"+e.author).update({uid:e.author,name:e.userName,picture:localStorage.getItem("picture")}),n.database.ref("userLists/"+e.author+"/mine/"+a).update({projectId:a}),"local"==n.parmType&&"New"==t?(localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveTime"),localStorage.removeItem("localSaveProjectName"),n.saveDialogOpen=!1,n.$router.push({path:"/"})):(n.forkDialogOpen=!1,n.$router.push({path:"/"}))):"newVersion"==t&&(a=null!=localStorage.getItem("projectId")?localStorage.getItem("projectId"):n.parmProjectId,i=n.database.ref("definitions/").child(a+"/versionLists/").push().key,n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionValue").update({value:e.value}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionInfo").update({saveUser:e.author,saveUserEmail:e.email,saveUserName:e.userName,projectName:o,img:e.img,date:e.date,comment:e.comment}),n.database.ref("definitions/").child(a+"/shareOptions").update({lastVersionName:i}),n.saveDialogClose()):(n.$EventBus.$emit("showLoginDialog"),alert("로그인후에 server 저장이 가능합니다 (현재 로컬에서만 저장이 가능합니다) 참고:로컬은 자동 저장 됩니다."))},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){var n=new Blob([t.data],{type:"application/zip"}),a=e.projectName+".zip";Object(l["saveAs"])(n,a)})},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){null!=t&&1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){t||1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var c=new Uint8Array(l);i.push(c)}var u=new Blob(i,{type:t});return u},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));e.tempValue.length>0&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(JSON.parse(JSON.stringify(t)))})}},download:function(){var e=this;e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName"));var t=this.projectName+".json";e.modelSetting().then(function(){var n;n=e.model["boundedContexts"].length>0?new File([JSON.stringify(e.model)],t,{type:"text/json;charset=utf-8"}):new File([JSON.stringify(e.value)],t,{type:"text/json;charset=utf-8"}),b.saveAs(n)})},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop,s=e.canvas._CONFIG.SLIDER[0].innerText/100;r/=s,l/=s,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},dbuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i=this;if(e.shape?a=e:(!0,a=e.element),a&&t&&n){var o="["+a.shape.geom.vertices.toString()+"]",r={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:o,isFilled:!0,relationView:{style:JSON.stringify({}),value:o}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,i.canvas.removeShape(a,!0),this.addElement(r)}},makeElement(e,t){var n,a=this,i=!0;if(console.log(e),"org.uengine.modeling.model.Event"==e._type?n=a.getComponentByName("domain-event-definition"):"org.uengine.modeling.model.BoundedContext"==e._type?n=a.getComponentByName("bounded-context-definition"):"org.uengine.modeling.model.Aggregate"==e._type?n=a.getComponentByName("aggregate-definition"):"org.uengine.modeling.model.Command"==e._type?n=a.getComponentByName("command-definition"):"org.uengine.modeling.model.Policy"==e._type?n=a.getComponentByName("policy-definition"):"org.uengine.modeling.model.View"==e._type?n=a.getComponentByName("view-definition"):"org.uengine.modeling.model.External"==e._type?n=a.getComponentByName("external-definition"):"org.uengine.modeling.model.Actor"==e._type?n=a.getComponentByName("actor-definition"):"org.uengine.modeling.model.Relation"==e._type&&(n=a.getComponentByName("class-relation")),i="org.uengine.modeling.model.Relation"!=e._type,i){var o=n.computed.createNew(e.elementView.id,e.elementView.x,e.elementView.y,e.elementView.width,e.elementView.height);"bounded-context-definition"==n.name?(o.aggregates=e.aggregates,o.policies=e.policies):"aggregate-definition"==n.name?(o.aggregateRoot=e.aggregateRoot,o.boundedContext=e.boundedContext,e.events?o.events=e.events:o.events=[],e.commands?o.commands=e.commands:o.commands=[],e.viewes?o.viewes=e.viewes:o.viewes=[]):"domain-event-definition"==n.name?(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=w(e.aggregate.name)),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.relationPolicyInfo=e.relationPolicyInfo,o.relationCommandInfo=e.relationCommandInfo,o.fieldDescriptors=e.fieldDescriptors,o.trigger=e.trigger):"command-definition"==n.name?(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=_.camelCase(w(e.aggregate.name))),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.restfulType=e.restfulType):"policy-definition"==n.name?(o.boundedContext=e.boundedContext,o.relationEventInfo=e.relationEventInfo):"view-definition"==n.name&&(0!==Object.keys(e.aggregate).length&&(o.aggregate.namePascalCase=_.pascalCase(e.aggregate.name),o.aggregate.nameCamelCase=_.camelCase(e.aggregate.name),o.aggregate.namePlural=_.camelCase(w(e.aggregate.name))),o.aggregate=e.aggregate,o.boundedContext=e.boundedContext,o.dataProjection=e.dataProjection,o.aggregateEvents=e.aggregateEvents,"cqrs"==e.dataProjection&&(console.log(e),o.viewFieldDescriptors=e.viewFieldDescriptors)),null!=t?a.value["definition"].splice(t,1,o):a.value["definition"].push(o)}else{o=n.computed.createNew(e.relationView.id,e.sourceElement,e.targetElement,e.relationView.value);"class-relation"==n.name&&(o.name=e.name,o.from=e.from,o.to=e.to,o.relationView=e.relationView),null!=t?a.value.relation.splice(t,1,o):a.value.relation.push(o)}return a.$nextTick(function(){o.name=e.name}),o},loadAddElement:function(e){var t=this;t.value.definition=[],t.value.relation=[],t.projectName=e.projectName;t.getComponentByName("bounded-context-definition"),t.getComponentByName("aggregate-definition"),t.getComponentByName("command-definition"),t.getComponentByName("domain-event-definition"),t.getComponentByName("policy-definition"),t.getComponentByName("view-definition"),t.getComponentByName("class-relation");e.boundedContexts&&e.boundedContexts.forEach(function(n,a){if(e.boundedContexts[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.boundedContexts[a]=i,n.aggregates.forEach(function(e,a){if(n.aggregates[a].elementView.id==e.elementView.id){var i=t.makeElement(e);n.aggregates[a]=i}e.events&&e.events.forEach(function(n,a){if(e.events[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.events[a]=i}}),e.commands&&e.commands.forEach(function(n,a){if(e.commands[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.commands[a]=i}}),e.viewes&&e.viewes.forEach(function(n,a){if(e.viewes[a].elementView.id==n.elementView.id){var i=t.makeElement(n);e.viewes[a]=i}})}),n.policies&&n.policies.forEach(function(e,a){if(n.policies[a].elementView.id==e.elementView.id){var i=t.makeElement(e);n.policies[a]=i}})}}),e.relations&&e.relations.forEach(function(e){t.makeElement(e)})},addElement:function(e,t){this.enableHistoryAdd=!0;var n,a=this,i=a.getComponentByName(e.component);if("class-relation"==e.component){if(n=i.computed.createNew(this.uuid(),e.sourceElement.value,e.targetElement.value,e.vertices),"org.uengine.modeling.model.Policy"==e.targetElement.value._type?n.name="Pub/Sub":"org.uengine.modeling.model.Command"==e.targetElement.value._type&&(n.name="Req/Res"),"org.uengine.modeling.model.Policy"==n.targetElement._type||"org.uengine.modeling.model.Command"==n.targetElement._type)if(void 0!=t){if(t)return console.log("bounded"),n}else a.onAddElementPush(n)}else if(n=i.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height),void 0!=t){if(t)return console.log("bounded"),n}else a.onAddElementPush(n)},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t},recursiveDeepCopy(e){var t,n,a=this;if("object"!==typeof e)return e;if(!e)return e;if("[object Array]"===Object.prototype.toString.apply(e)){for(t=[],n=0;n<e.length;n+=1)t[n]=a.recursiveDeepCopy(e[n]);return t}for(n in t={},e)e.hasOwnProperty(n)&&(t[n]=a.recursiveDeepCopy(e[n]));return t},getBoundedSetting(e){var t=this;return new Promise(async function(n,a){var i=[],o=[];t.model={_type:"org.uengine.modeling.model.Model",boundedContexts:[],projectName:t.projectName};var r=JSON.parse(JSON.stringify(t.value));r.definition.forEach(function(n){null!=n&&n.elementView.id==e&&t.model.boundedContexts.push(n)});var l={BoundedContext:[],AggregateRoot:[],Aggregate:[],Policy:[],Event:[],Command:[],View:[],RelationEventInfo:[],RelationCommandInfo:[],ViewEventInfo:[]};if(t.model.boundedContexts.forEach(function(e,n){e.portGenerated=8081+n,l["BoundedContext"].push(e),e.groups.forEach(function(e){if("org.uengine.modeling.model.Event"==t.$refs[e][0].value._type&&void 0==t.$refs[e][0].value.aggregate.name){var n=t.$refs[e][0].value;l["Event"].push(n)}}),t.model.boundedContexts[n].aggregates.length>=1&&t.model.boundedContexts[n].aggregates.forEach(function(e,a){var i=[{trigger:"PostPersist",annotation:"@PostPersist",events:[]},{trigger:"PostUpdate",annotation:"@PostUpdate",events:[]},{trigger:"PostRemove",annotation:"@PostRemove",events:[]},{trigger:"PrePersist",annotation:"@PrePersist",events:[]},{trigger:"PreUpdate",annotation:"@PreUpdate",events:[]},{trigger:"PreRemove",annotation:"@PreRemove",events:[]}];e.aggregateRoot.fieldDescriptors.forEach(function(t){t.name=t.name,t.nameCamelCase=h.camelCase(t.name),t.namePascalCase=t.nameCamelCase.substring(0,1).toUpperCase()+t.nameCamelCase.substring(1),t.isKey&&(e.aggregateRoot.keyFieldDescriptor=t)}),l["Aggregate"].push(e),l["AggregateRoot"].push(e.aggregateRoot),e.commands&&e.commands.forEach(function(e){""==e.name&&(t.text="Check Command Name",t.snackbar=!0,t.color="error",t.timeout=1e3,t.checkName=!1),e.controllerInfo.apiPath,l["Command"].push(e)}),e.events&&e.events.forEach(function(e){i.some(function(t){t.annotation!=e.trigger||t.events.push(e)}),""==e.name&&(t.text="Check Event Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),l["Event"].push(e),e.relationCommandInfo&&e.relationCommandInfo.forEach(function(t){t.commandValue&&(t.commandValue.boundedContext=e.boundedContext,t.commandValue.elementView={},t.commandValue.elementView.id=e.elementView.id,l["RelationCommandInfo"].push(t))})}),i.forEach(function(e,t){0==e.events.length&&(i[t]=null)}),i=i.filter(e=>e),i.length>0&&(console.log(i),t.model.boundedContexts[n].aggregates[a].lifeCycles=i)}),t.model.boundedContexts[n].policies.length>=1&&t.model.boundedContexts[n].policies.forEach(function(e){""==e.name&&(t.text="Check Policy Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),e.relationEventInfo.forEach(function(t){t.eventValue.boundedContext={},t.eventValue.boundedContext.name=e.boundedContext.name,t.eventValue.elementView={},t.eventValue.elementView.id=e.elementView.id,l["RelationEventInfo"].push(t)}),l["Policy"].push(e)}),t.model.boundedContexts[n].viewes.length>=1&&t.model.boundedContexts[n].viewes.forEach(function(e){""==e.name&&(t.text="Check View Name",t.snackbar=!0,t.timeout=1e3,t.color="error",t.checkName=!1),e.createRules.forEach(function(t,n){if(0==Object.keys(t.when).length)e.createRules[n]=null,e.createRules=e.createRules.filter(e=>e);else{if(t.when.boundedContext.id!=e.boundedContext.id){var a=JSON.parse(JSON.stringify(t));a.when.boundedContext=e.boundedContext,l["ViewEventInfo"].push(a.when)}t.fieldMapping.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.fieldMapping[n]=null,t.fieldMapping=t.fieldMapping.filter(e=>e))}),t._index=n+1}}),e.updateRules.forEach(function(t,n){if(0==Object.keys(t.when).length)e.updateRules[n]=null,e.updateRules=e.updateRules.filter(e=>e);else{if(t.when.boundedContext.id!=e.boundedContext.id){var a=JSON.parse(JSON.stringify(t));a.when.boundedContext=e.boundedContext,l["ViewEventInfo"].push(a.when)}t.fieldMapping.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.fieldMapping[n]=null,t.fieldMapping=t.fieldMapping.filter(e=>e))}),t.where.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.where[n]=null,t.where=t.where.filter(e=>e))}),t._index=n+1}}),e.deleteRules.forEach(function(t,n){if(0==Object.keys(t.when).length)e.deleteRules[n]=null,e.deleteRules=e.deleteRules.filter(e=>e);else{if(t.when.boundedContext.id!=e.boundedContext.id){var a=JSON.parse(JSON.stringify(t));a.when.boundedContext=e.boundedContext,l["ViewEventInfo"].push(a.when)}t.where.forEach(function(e,n){0!=Object.keys(e.eventField).length&&0!=Object.keys(e.viewField).length||(t.where[n]=null,t.where=t.where.filter(e=>e))}),t._index=n+1}}),l["View"].push(e)})}),t.template.length>0)var s=t.template;else s="spring-boot";var c=t.$manifestsPerTemplate[s].length-1;t.$manifestsPerTemplate[s].forEach(function(e,a){e=e.replace("./","");var r=function(n){e.includes("for-model");var a="",r=0;n.split("---");if(n.includes("forEach:"))s=n.split("forEach:")[1].split("\n")[0].trim();else if(r+=1,e.includes("for-model")){var s="Model";a=a.concat("forEach: "+s)}else{var s="BoundedContext";a=a.concat("forEach: "+s)}if(!n.includes("fileName:")&&(r+=1,e.split("/"))){var c=e.substring(e.lastIndexOf("/")+1);a=a.concat("\n"),a=a.concat("fileName: "+c)}if(n.includes("path:")){if(!n.includes("forEach:")){e.substring(0,e.lastIndexOf("/")+1);e.includes("for-model")?a=a.concat("\n"):n.includes(" path:")?(r+=1,a=a.concat("\n"),a=a.concat(`path: {{name}}/${k.dirname(e).replace("./","")}`)):a=a.concat("\n")}}else{e.substring(0,e.lastIndexOf("/")+1);r+=1,e.includes("for-model")?(a=a.concat("\n"),a=a.concat(`path: ${k.dirname(e).replace("./","")}`)):(a=a.concat("\n"),a=a.concat(`path: {{name}}/${k.dirname(e).replace("./","")}`))}a=3==r?a.concat("\n---\n"):a.concat("\n"),a.length>0&&(n=a.concat(n));var u=l[s],d=function(a){if(void 0==a){var r=n.split("---"),l=y.load(r[0]),s=e.split("/"),c=s[0]+"/"+s[1];l["path"].includes(c)||(l["path"]=c.concat(l["path"]));for(var u=l["path"].split("/"),d="",m=1;m<u.length;m++)d=1==m?d.concat(u[m]):d.concat("/"+u[m]);var p={package:`${d}`.replace(s[1]+"/src/main/java/","").replace("-","").replace(/\//gi,"."),packagePath:`${d}`};a=t.model}else p={package:`${t.projectName.replace(" ",".").replace("-","")}`,packagePath:`src/main/java/${t.projectName.replace(" ","/").replace("-","")}`};a.options=p;var v=window.$Mustache.render(n,a),h=v.split("---"),f=y.load(h[0]);p={};Object.keys(f).forEach(function(e,t){var n=e,a=Object.values(f)[t];"path"==n&&a.lastIndexOf(".")==a.length-1&&(a=a.substring(0,a.lastIndexOf(".")-1)),p[n]=a});var g=p["fileName"],b=p["path"]+"/"+p["fileName"];g.includes("Application")&&c&&!b.includes(c)&&(b=c.concat(b));var _="";if(h.length>1)for(var w in h)0!=w&&w<h.length-1?_=_.concat(h[w]+"---\n"):w==h.length-1&&(_=_.concat(h[w]));var x={},k={};_=_.replace("\n",""),_.length>1&&("org.uengine.modeling.model.Model"==a._type?(x={key:s[1]+g,fileName:g,code:_,file:t.fileType(g)},k={key:s[1]+g,fullPath:b.replace("for-model/","")}):(x={key:a.elementView.id+g,fileName:g,code:_,file:t.fileType(g)},k={key:a.elementView.id+g,fullPath:b}),o.push(x),i.push(k))};Array.isArray(u)?u.forEach(d):d(u)},u=new XMLHttpRequest;u.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if("GIT"==t.template){var e=JSON.parse(this.responseText),l=g.decode(e.content);r(l)}else r(this.responseText);if(c==a){var s={getCodeList:o,fullPathList:i};n(s)}}},"GIT"==t.template?(u.open("GET",t.gitCodeUrl[e],!0),u.send()):(u.open("GET","/static/templates/"+s+"/"+e,!0),u.send())})})}}},E=S,V=(n("51ae"),n("2877")),I=n("6544"),O=n.n(I),T=n("8212"),P=n("8336"),N=n("b0af"),j=n("99d9"),D=n("ac7c"),L=n("62ad"),A=n("169a"),R=n("ce7e"),M=n("0789"),B=n("0e8f"),U=n("132d"),F=n("a722"),G=n("8860"),K=n("da13"),J=n("5d23"),z=n("e449"),H=n("a797"),W=n("490a"),q=n("0fd9"),Y=n("b974"),Q=n("1f4f"),Z=n("2db4"),X=n("2fa4"),ee=n("e0c7"),te=n("8654"),ne=n("a844"),ae=n("71d9"),ie=n("2a7f"),oe=n("3a2f"),re=n("eb2a"),le=Object(V["a"])(E,a,i,!1,null,"1e58217e",null);t["default"]=le.exports;O()(le,{VAvatar:T["a"],VBtn:P["a"],VCard:N["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCheckbox:D["a"],VCol:L["a"],VDialog:A["a"],VDivider:R["a"],VFabTransition:M["c"],VFlex:B["a"],VIcon:U["a"],VLayout:F["a"],VList:G["a"],VListItem:K["a"],VListItemContent:J["a"],VListItemTitle:J["c"],VMenu:z["a"],VOverlay:H["a"],VProgressCircular:W["a"],VRow:q["a"],VSelect:Y["a"],VSimpleTable:Q["a"],VSnackbar:Z["a"],VSpacer:X["a"],VSubheader:ee["a"],VTextField:te["a"],VTextarea:ne["a"],VToolbar:ae["a"],VToolbarItems:ie["a"],VToolbarTitle:ie["b"],VTooltip:oe["a"],VTreeview:re["a"]})},"27ea":function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: RelationCommandInfo\n| fileName: {{commandValue.aggregate.namePascalCase}}Service.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}/external\n| ---\n| ")},"286e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"max-width":"1500px"}},[n("v-row",[n("v-text-field",{staticStyle:{"max-width":"1300px","margin-right":"10px","margin-left":"12px"},attrs:{label:"Search Project",outlined:""},model:{value:e.tempSearch,callback:function(t){e.tempSearch=t},expression:"tempSearch"}}),e._e(),n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"green lighten-2","x-large":""},nativeOn:{click:function(t){return e.newStormingProjectCheck()}}},a),[e._v("\n                    New Project\n                ")])]}}])},[n("v-list",e._l(e.makeProjectBtnLists,function(t,a){return n("v-list-item",{key:a,nativeOn:{click:function(n){return e.selectFunctionName(t.title)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1),e.search?n("div",{staticStyle:{"margin-bottom":"10px"}},[e._v("\n        검색 결과 : 총 "+e._s(e.projectTabsLists[1].tabCount+e.projectTabsLists[2].tabCount+e.projectTabsLists[3].tabCount)+" 건\n        검색 되었습니다.\n    ")]):e._e(),n("v-tabs",{attrs:{"background-color":"transparent",color:"blue darken-1",left:""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[n("v-tabs-slider",{attrs:{color:"green lighten-2"}}),e._l(e.projectTabsLists,function(t,a){return n("v-tab",{key:t.tabName,attrs:{href:"#"+t.tabName}},[e._v("\n            "+e._s(t.tabName)+"\n            "),n("v-avatar",{staticStyle:{"margin-left":"5px","margin-bottom":"15px"},attrs:{color:"green lighten-5",size:"24"}},[e._v("\n                "+e._s(t.tabCount)+"\n            ")])],1)}),e._l(e.projectTabsLists,function(t){return n("v-tab-item",{key:t.tabName,attrs:{value:t.tabName}},["Local"==t.tabName?n("v-card",[n("v-row",[e._l(e.filteredLocalList,function(t,a){return n("v-col",{key:t.projectId,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.img,"max-width":"400","max-height":"300"}},[n("v-row",{staticStyle:{"margin-right":"1px"},attrs:{justify:"end"}},[n("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[e._v("\n                                        EventStroming\n                                    ")])],1)],1),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.projectName)+"\n                                    ")]),n("v-list-item-subtitle",[e._v("Author : "+e._s(t.email))]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.date))])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:e.toStormingUrl(t.author,t.projectType,t.projectId,t.projectVersion)}},[e._v("\n                                    Edit\n                                ")])],1)],1)],1)}),e._l(e.filteredKubernetesLocalList,function(t,a){return n("v-col",{key:t.projectId,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.img,"max-width":"400","max-height":"300"}},[n("v-row",{staticStyle:{"margin-right":"1px"},attrs:{justify:"end"}},[n("v-chip",{staticClass:"ma-2",attrs:{color:"blue","text-color":"white"}},[e._v("\n                                        Kubernetes\n                                    ")])],1)],1),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.projectName)+"\n                                    ")]),n("v-list-item-subtitle",[e._v("Author : "+e._s(t.email))]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.date))])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:e.toKubernetesUrl(t.author,t.projectType,t.projectId,t.projectVersion)}},[e._v("\n                                    Edit\n                                ")])],1)],1)],1)})],2)],1):"Mine"==t.tabName?n("v-card",[n("v-row",e._l(e.filteredMineList,function(t,a){return n("v-col",{key:t.projectId,attrs:{cols:"6",md:"4"}},[n("ProjectCard",{attrs:{projectId:t.projectId,projectType:"mine"},on:{cardProjectName:e.setMineProjectName}})],1)}),1)],1):"Shared"==t.tabName?n("v-card",{staticStyle:{margin:"5px"}},[n("v-row",e._l(e.filteredSharedList,function(t,a){return n("v-col",{key:t.projectId,attrs:{cols:"6",md:"4"}},[n("ProjectCard",{attrs:{projectId:t.projectId,projectType:"share"},on:{cardProjectName:e.setSharedProjectName}})],1)}),1)],1):"Public"==t.tabName?n("v-card",[n("v-row",e._l(e.filteredPublicList,function(t,a){return n("v-col",{key:t.projectId,attrs:{cols:"6",md:"4"}},[n("ProjectCard",{attrs:{projectId:t.projectId,projectType:"every"},on:{cardProjectName:e.setPublicProjectName}})],1)}),1)],1):e._e()],1)})],2),n("v-snackbar",{attrs:{color:"error"},model:{value:e.isNetworkOnline,callback:function(t){e.isNetworkOnline=t},expression:"isNetworkOnline"}},[e._v("\n        Network Connection is lost.\n    ")]),n("v-dialog",{attrs:{persistent:"","max-width":"370"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",["share"==e.selectDelete.projectType?n("v-card-title",{staticClass:"headline"},[e._v("삭제 알림 ( 공유 )")]):n("v-card-title",{staticClass:"headline"},[e._v("삭제 알림( 개인 )")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v('현재 프로젝트 "'+e._s(e.selectDelete.projectName)+'" 를 삭제 하시겠습니까?\n                ')]),n("div",[e._v("사용자 : "+e._s(e.selectDelete.projectAuthorEmail))]),n("div",[e._v("최근 저장시간 : "+e._s(e.selectDelete.date))]),n("div",[e._v("삭제 후에는 복구는 불가능합니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 삭제를 진행합니다."},model:{value:e.deleteConfirmCheckBox,callback:function(t){e.deleteConfirmCheckBox=t},expression:"deleteConfirmCheckBox"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},nativeOn:{click:function(t){return e.deleteItem()}}},[e._v("Delete")]),n("v-btn",{attrs:{color:"green darken-1",text:""},nativeOn:{click:function(t){e.deleteDialog=!1}}},[e._v("Close")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"430"},model:{value:e.newProjectDialog,callback:function(t){e.newProjectDialog=t},expression:"newProjectDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("저장 알림 (EventStorming)")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v("편집중인 로컬 문서( "+e._s(e.loginProjectName)+" )가 존재합니다.")]),n("div",{staticStyle:{color:"#000000"}},[e._v("로컬에 저장된 문서를 저장하시겠습니까?")]),n("div",{staticStyle:{color:"#000000"}},[e._v("새 문서로 만드는 경우는 기존 로컬문서가 상실됩니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 새 문서를 생성합니다."},model:{value:e.deleteConfirmCheckBox,callback:function(t){e.deleteConfirmCheckBox=t},expression:"deleteConfirmCheckBox"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.showServerSaveDialog()}}},[e._v("저장 하기")]),n("v-btn",{attrs:{color:"red darken-1",text:""},nativeOn:{click:function(t){return e.createNewProject()}}},[e._v("새 프로젝트")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.closeServerSaveDialog()}}},[e._v(" 닫기")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"430"},model:{value:e.newKuberProjectDialog,callback:function(t){e.newKuberProjectDialog=t},expression:"newKuberProjectDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("저장 알림 (Kubernetes Diagram)")]),n("v-card-text",[n("div",{staticStyle:{color:"#8b0000","font-size":"medium"}},[e._v("편집중인 로컬 문서가 존재합니다.")]),n("div",{staticStyle:{color:"#000000"}},[e._v("로컬에 저장된 문서를 저장하시겠습니까?")]),n("div",{staticStyle:{color:"#000000"}},[e._v("새 문서로 만드는 경우는 기존 로컬문서가 상실됩니다.")]),n("v-checkbox",{attrs:{label:"동의 하였으며, 새 문서를 생성합니다."},model:{value:e.deleteConfirmCheckBox,callback:function(t){e.deleteConfirmCheckBox=t},expression:"deleteConfirmCheckBox"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.kuberServerSave()}}},[e._v("저장 하기")]),n("v-btn",{attrs:{color:"red darken-1",text:""},nativeOn:{click:function(t){return e.createNewKuberProject()}}},[e._v("새 프로젝트")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.closeKuberServerSaveDialog()}}},[e._v(" 닫기")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.serverSaveDialog,callback:function(t){e.serverSaveDialog=t},expression:"serverSaveDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Save new version")]),n("v-card-text",[n("v-text-field",{attrs:{label:"projectName"},model:{value:e.loginProjectName,callback:function(t){e.loginProjectName=t},expression:"loginProjectName"}}),n("v-textarea",{attrs:{outline:"",name:"input-7-4",label:"comment",counter:255},model:{value:e.serverComment,callback:function(t){e.serverComment=t},expression:"serverComment"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.eventStromingServerSave()}}},[e._v("Save")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.serverSaveDialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},i=[],o=n("8aa5"),r=n.n(o),l={name:"EventStormingListPage",data(){return{selectedTab:"Local",serverSaveDialog:!1,serverComment:"",stormingLocalLists:[],stormingMineKeyLists:[],stormingShareKeyLists:[],stormingShareKeyTempLists:[],stormingPublicKeyLists:[],stormingPublicKeyTempLists:[],kubernetesLocalLists:[],kubernetesMineKeyLists:[],kubernetesShareKeyLists:[],kubernetesPublicKeyLists:[],kubernetesPublicKeyTempLists:[],newKuberProjectDialog:!1,loginProjectName:"",loginAuthor:"",search:"",tempSearch:"",deleteDialog:!1,selectDelete:[],newProjectDialog:!1,deleteConfirmCheckBox:!1,loadingDialog:!0,isNetworkOnline:!1,makeProjectBtnLists:[{title:"EventStorming"},{title:"Kubernetes Deploy Diagram"}]}},created(){var e=this;e.$EventBus.$emit("progressValue",!0),e.selectedTab=localStorage.getItem("saveSelectedTab"),e.loginAuthor=null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",e.loginProjectName=null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local",e.getList().then(function(){e.$EventBus.$emit("progressValue",!1),console.log("done LSIT")})},computed:{testSearch(){return this.search},projectTabsLists(){var e=this,t=[{tabName:"Local",tabCount:e.filteredKubernetesLocalList.length+e.filteredLocalList.length},{tabName:"Mine",tabCount:e.filteredKubernetesMineList.length+e.filteredMineList.length},{tabName:"Shared",tabCount:e.filteredKubernetesSharedList.length+e.filteredSharedList.length},{tabName:"Public",tabCount:e.filteredKubernetesPublicList.length+e.filteredPublicList.length}];return t},filteredKubernetesLocalList(){var e=this;return e.kubernetesLocalLists},filteredLocalList(){var e=this,t=[];return t=e.stormingLocalLists,e.testSearch?t.filter(t=>{if(void 0!=t.projectName)return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredMineList(){var e=this,t=[];return t=e.stormingMineKeyLists,e.testSearch?t.filter(t=>{if(void 0!=t.projectName)return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredKubernetesMineList(){var e=this,t=[];return t=e.kubernetesMineKeyLists,e.testSearch?t.filter(t=>{if(void 0!=t.projectName)return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredSharedList(){var e=this,t=[];return t=e.stormingShareKeyLists,e.testSearch?t.filter(t=>{if(void 0!=t.projectName)return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredKubernetesSharedList(){var e=this,t=[];return t=e.kubernetesShareKeyLists,e.testSearch?t.filter(t=>{if(void 0!=t.projectName)return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredPublicList(){var e=this,t=[];return t=e.stormingPublicKeyLists,e.testSearch?t.filter(t=>{return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t},filteredKubernetesPublicList(){var e=this,t=[];return t=e.kubernetesPublicKeyLists,e.testSearch?t.filter(t=>{return t.projectName.toLowerCase().includes(e.search.toLowerCase())}):t}},watch:{selectedTab(e){localStorage.setItem("saveSelectedTab",e)},tempSearch:_.debounce(function(e){var t=this;t.search=e},400)},mounted:function(){var e=this;e.$nextTick(function(){e.loginAuthor=null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",e.loginProjectName=null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local"}),e.$EventBus.$on("login",function(t){e.getList().then(function(){e.$EventBus.$emit("progressValue",!1)})}),e.$nextTick(function(){e.updateTabsCount}),e.$EventBus.$on("updatePic",function(t){e.getLocalList()}),e.$EventBus.$on("deleteProject",function(t){e.deleteProjectDialogReady(t)})},beforeDestroy(){this.$EventBus.$off("updatePic")},methods:{deleteDB(){},selectFunctionName(e){var t=this;"EventStorming"==e?t.newStormingProjectCheck():"Kubernetes Deploy Diagram"==e&&t.newKubeProjectCheck()},removeDb(){console.log("done")},setPublicProjectName(e){var t=this;t.stormingPublicKeyLists.some(function(t){if(t.projectId==e.projectId)return t.type=e.type,"es"==e.type?t.projectType="every":t.projectType="kuberEvery",t.projectName=e.projectName,!0})},setSharedProjectName(e){var t=this;t.stormingShareKeyLists.some(function(t){if(t.projectId==e.projectId)return t.type=e.type,"es"==e.type?t.projectType="share":t.projectType="kuberShare",t.projectName=e.projectName,!0})},setMineProjectName(e){var t=this;t.stormingMineKeyLists.some(function(t){if(t.projectId==e.projectId)return t.type=e.type,"es"==e.type?t.projectType="mine":t.projectType="kuberMine",t.projectName=e.projectName,!0})},checkNetworkState(){this.isNetworkOnline=!navigator.onLine},showKuberServerSaveDialog(){this.newKuberProjectDialog=!0,this.serverSaveDialog=!0},showServerSaveDialog(){var e=this;e.newProjectDialog=!1,e.serverSaveDialog=!0},closeServerSaveDialog(){var e=this;e.deleteConfirmCheckBox=!1,e.newProjectDialog=!1},closeKuberServerSaveDialog(){var e=this;e.deleteConfirmCheckBox=!1,e.newKuberProjectDialog=!1},kuberServerSave(){var e=this;if(null!=localStorage.getItem("uid")||null==window.localStorage.getItem("accessToken"))e.$EventBus.$emit("showLoginDialog");else{r.a.database(),localStorage.getItem("uid");var t=JSON.parse(localStorage.getItem("kuberLocalLoadData"));t.definition.filter(e=>e),t.relation.filter(e=>e);var n,a={value:JSON.stringify(t),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:localStorage.getItem("localSaveImg"),date:localStorage.getItem("localSaveTime"),email:localStorage.getItem("email"),projectName:e.loginProjectName,comment:e.serverComment},i=e.dbuid();n=r.a.database().ref("definitions/"+i+"/versionLists").push().key,console.log(i,n),r.a.database().ref("definitions/"+i+"/shareOptions").update({type:"k8s",author:a.author,authorEmail:a.email,lastVersionName:n}),r.a.database().ref("definitions/"+i+"/versionLists/"+n+"/versionValue").update({value:a.value}),r.a.database().ref("definitions/"+i+"/versionLists/"+n+"/versionInfo").update({saveUser:a.author,saveUserEmail:a.email,saveUserName:a.userName,projectName:a.projectName,img:a.img,date:a.date,comment:a.comment}),r.a.database().ref("userLists/"+a.author).update({uid:a.author,name:a.userName,picture:localStorage.getItem("picture")}),r.a.database().ref("userLists/"+a.author+"/mine/"+i).update({projectId:i}),e.serverComment="",localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveTime"),localStorage.removeItem("localSaveProjectName"),e.$router.push({path:`${e.toStormingUrl(e.loginAuthor,"local","init","-init")}`})}},eventStromingServerSave(){var e=this;if(null!=localStorage.getItem("uid")||null==window.localStorage.getItem("accessToken"))e.$EventBus.$emit("showLoginDialog");else{r.a.database(),localStorage.getItem("uid");var t=JSON.parse(JSON.stringify(localStorage.getItem("localLoadData")));t.definition=t.definition.filter(e=>e),t.relation=t.relation.filter(e=>e);var n,a={value:JSON.stringify(t),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:localStorage.getItem("localSaveImg"),date:localStorage.getItem("localSaveTime"),email:localStorage.getItem("email"),projectName:e.loginProjectName,comment:e.serverComment},i=e.dbuid();n=r.a.database().ref("definitions/"+i+"/versionLists").push().key,console.log(i,n),r.a.database().ref("definitions/"+i+"/shareOptions").update({type:"es",author:a.author,authorEmail:a.email,lastVersionName:n}),r.a.database().ref("definitions/"+i+"/versionLists/"+n+"/versionValue").update({value:a.value}),r.a.database().ref("definitions/"+i+"/versionLists/"+n+"/versionInfo").update({saveUser:a.author,saveUserEmail:a.email,saveUserName:a.userName,projectName:a.projectName,img:a.img,date:a.date,comment:a.comment}),r.a.database().ref("userLists/"+a.author).update({uid:a.author,name:a.userName,picture:localStorage.getItem("picture")}),r.a.database().ref("userLists/"+a.author+"/mine/"+i).update({projectId:i}),e.serverComment="",localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveTime"),localStorage.removeItem("localSaveProjectName"),e.$router.push({path:`${e.toStormingUrl(e.loginAuthor,"local","init","-init")}`})}},dbuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},syncDb(){r.a.database().ref("definitions/newDefinitions/d22c20c8619853bd09a77eccfda18822/snapshotLists").remove()},createNewKuberProject(){var e=this;e.deleteConfirmCheckBox?(localStorage.removeItem("kuberLocalLoadData"),localStorage.removeItem("KuberLocalSaveImg"),localStorage.removeItem("kuberLocalSaveProjectName"),e.deleteConfirmCheckBox=!1,e.$router.push({path:`${e.toKubernetesUrl(e.loginAuthor,"KuberLocal","KuberInit","-init")}`})):alert("삭제를 원하시면 '☐' 체크 해주세요.")},createNewProject(){var e=this;e.deleteConfirmCheckBox?(localStorage.removeItem("localLoadData"),localStorage.removeItem("localSaveImg"),localStorage.removeItem("localSaveProjectName"),e.deleteConfirmCheckBox=!1,e.$router.push({path:`${e.toStormingUrl(e.loginAuthor,"local","init","-init")}`})):alert("삭제를 원하시면 '☐' 체크 해주세요.")},newKubeProjectCheck(){var e=this;console.log("click"),null!=JSON.parse(localStorage.getItem("kuberLocalLoadData"))?(console.log(JSON.parse(localStorage.getItem("kuberLocalLoadData")).definitions),0==JSON.parse(localStorage.getItem("kuberLocalLoadData")).definitions.length?e.$router.push({path:`${e.toKubernetesUrl(e.loginAuthor,"kuberLocal","kuberInit","-init")}`}):e.newKuberProjectDialog=!0):e.$router.push({path:`${e.toKubernetesUrl(e.loginAuthor,"kuberLocal","kuberInit","-init")}`})},newStormingProjectCheck(){var e=this;null!=JSON.parse(localStorage.getItem("localLoadData"))?0==JSON.parse(localStorage.getItem("localLoadData")).definition.length?e.$router.push({path:`${e.toStormingUrl(e.loginAuthor,"local","init","-init")}`}):e.newProjectDialog=!0:e.$router.push({path:`${e.toStormingUrl(e.loginAuthor,"local","init","-init")}`})},isYours(e){return localStorage.getItem("uid")==e},toStormingUrl(e,t,n,a){return"storming/"+e+"/"+t+"/"+n+"/"+a},toKubernetesUrl(e,t,n,a){return"kubernetes/"+e+"/"+t+"/"+n+"/"+a},deleteProjectDialogReady(e){var t=this;t.selectDelete=JSON.parse(JSON.stringify(e)),t.deleteDialog=!0},deleteItem(){var e,t,n=this;n.deleteConfirmCheckBox?("mine"==n.selectDelete.projectType||"kuberMine"==n.selectDelete.projectType?e=r.a.database().ref("/userLists/"+localStorage.getItem("uid")+"/"+n.selectDelete.projectType+"/"+n.selectDelete.projectId):"share"!=n.selectDelete.projectType&&"kuberShare"!=n.selectDelete.projectType||(e=r.a.database().ref("/userLists/"+localStorage.getItem("uid")+"/"+n.selectDelete.projectType+"/"+n.selectDelete.projectId),t=r.a.database().ref("/definitions/"+n.selectDelete.projectId+"/shareOptions/permissions/"+localStorage.getItem("uid"))),e.remove(),"share"==n.selectDelete.projectType&&t.remove(),n.deleteConfirmCheckBox=!1,n.$nextTick(function(){n.getList(),n.deleteDialog=!1})):alert("삭제를 원하시면 '☐' 체크 해주세요.")},getUid(){return new Promise(function(e){r.a.auth().onAuthStateChanged(function(t){e(t?t.uid:"everyone")})})},getLocalList(){var e=this;return new Promise(function(t){var n=localStorage.getItem("uid"),a=[{type:"es",author:null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",email:null!=localStorage.getItem("email")?localStorage.getItem("email"):"anonymous@sample.org",date:null!=localStorage.getItem("localSaveTime")?localStorage.getItem("localSaveTime"):"undefined",img:null!=localStorage.getItem("localSaveImg")?localStorage.getItem("localSaveImg"):"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",userUid:null!=n?n:"anonymous",projectId:"init",projectVersion:"-init",projectName:null!=localStorage.getItem("localSaveProjectName")?localStorage.getItem("localSaveProjectName"):"local",projectType:"local"}],i=[{type:"k8s",author:null!=localStorage.getItem("uid")?localStorage.getItem("uid"):"anonymous",email:null!=localStorage.getItem("email")?localStorage.getItem("email"):"anonymous@sample.org",date:null!=localStorage.getItem("kuberLocalSaveTime")?localStorage.getItem("kuberLocalSaveTime"):"undefined",img:null!=localStorage.getItem("kuberLocalSaveImg")?localStorage.getItem("kuberLocalSaveImg"):"https://github.com/sooheon45/eventstorming/blob/master/docs/media/evtstrm.jpg?raw=true",userUid:null!=n?n:"anonymous",projectId:"kuberInit",projectVersion:"-init",projectName:null!=localStorage.getItem("KuberLocalSaveProjectName")?localStorage.getItem("KuberLocalSaveProjectName"):"local",projectType:"kuberLocal"}];void 0!=JSON.parse(localStorage.getItem("localLoadData"))&&JSON.parse(localStorage.getItem("localLoadData")).definition.length>0?e.stormingLocalLists=a:e.stormingLocalLists=[],void 0!=JSON.parse(localStorage.getItem("kuberLocalLoadData"))&&JSON.parse(localStorage.getItem("kuberLocalLoadData")).definitions.length>0?e.kubernetesLocalLists=i:e.kubernetesLocalLists=[],t()})},getMineList(){var e=this,t=localStorage.getItem("uid");return e.stormingMineKeyLists=[],new Promise(function(n){r.a.database().ref("/userLists/"+t+"/mine/").once("value",function(t){t.exists()?(Object.keys(t.val()).forEach(function(t){var n={type:"",projectId:t,projectName:""};e.stormingMineKeyLists.push(n)}),n()):n()})})},getShareList(){var e=this,t=localStorage.getItem("uid");return e.stormingShareKeyTempLists=[],new Promise(function(n){r.a.database().ref("/userLists/"+t+"/share/").once("value",function(t){t.exists()?(Object.keys(t.val()).forEach(function(t){var n={type:"",projectId:t,projectName:""};e.stormingShareKeyTempLists.push(n)}),n()):n()})})},getPublicList(){var e=this;localStorage.getItem("uid");return e.stormingPublicKeyTempLists=[],e.kubernetesPublicKeyTempLists=[],new Promise(function(t){r.a.database().ref("/userLists/everyone/share/").once("value",function(n){n.exists()?(Object.keys(n.val()).forEach(function(t){var n={type:"",projectId:t,projectName:""};e.stormingPublicKeyTempLists.push(n)}),t()):t()})})},async getList(){var e=this,t=localStorage.getItem("uid");null!=window.localStorage.getItem("accessToken")&&t?(await e.getLocalList(),await e.getMineList(),await e.getShareList().then(function(){e.stormingShareKeyLists=[],e.stormingMineKeyLists.length>0?e.stormingShareKeyTempLists.forEach(function(t){-1==e.stormingMineKeyLists.findIndex(e=>e.projectId==t.projectId)&&e.stormingShareKeyLists.push(t)}):e.stormingShareKeyLists=e.stormingShareKeyTempLists,e.stormingShareKeyTempLists=[],e.$EventBus.$emit("progressValue",!1)}),await e.getPublicList().then(function(){e.stormingPublicKeyLists=[],e.stormingMineKeyLists.length>0?e.stormingPublicKeyTempLists.forEach(function(t){-1==e.stormingMineKeyLists.findIndex(e=>e.projectId==t.projectId)&&e.stormingPublicKeyLists.push(t)}):e.stormingPublicKeyLists=e.stormingPublicKeyTempLists,e.stormingPublicKeyTempLists=[],e.$EventBus.$emit("progressValue",!1)})):(await e.getLocalList(),await e.getPublicList().then(function(){e.stormingPublicKeyLists=e.stormingPublicKeyTempLists,e.$EventBus.$emit("progressValue",!1)}))}}},s=l,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8212"),p=n("8336"),v=n("b0af"),h=n("99d9"),f=n("ac7c"),g=n("cc20"),y=n("62ad"),b=n("a523"),w=n("169a"),x=n("adda"),k=n("8860"),C=n("da13"),S=n("5d23"),E=n("e449"),$=n("0fd9"),V=n("2db4"),I=n("2fa4"),O=n("71a3"),T=n("c671"),P=n("fe57"),N=n("9a96"),j=n("8654"),D=n("a844"),L=Object(c["a"])(s,a,i,!1,null,"08cc4b02",null);t["a"]=L.exports;d()(L,{VAvatar:m["a"],VBtn:p["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCheckbox:f["a"],VChip:g["a"],VCol:y["a"],VContainer:b["a"],VDialog:w["a"],VImg:x["a"],VList:k["a"],VListItem:C["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VMenu:E["a"],VRow:$["a"],VSnackbar:V["a"],VSpacer:I["a"],VTab:O["a"],VTabItem:T["a"],VTabs:P["a"],VTabsSlider:N["a"],VTextField:j["a"],VTextarea:D["a"]})},2973:function(e,t,n){"use strict";var a=n("3a84"),i=n.n(a);i.a},"29a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type,faultMessage:e.faultMessage}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-task",props:{},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.DefaultActivity"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},selected:!1,tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"015c490a",null);t["default"]=c.exports},"29de":function(e,t){throw new Error("Module parse failed: Unexpected token (18:14)\nYou may need an appropriate loader to handle this file type.\n|     spec:\n|       containers:\n>         - name: command-handler\n|           image: username/{{name}}-command-handler:latest\n|           ports:")},"2a7c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:e.relation.sourceRef+"-"+e.relation.targetRef,vertices:e.vertices,from:e.relation.sourceRef,to:e.relation.targetRef,_style:e.style,label:e.relation.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.relation,"sourceRef",t)},"update:to":function(t){return e.$set(e.relation,"targetRef",t)},"update:_style":function(t){e.style=t},"update:label":function(t){return e.$set(e.relation,"name",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedFlow()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedFlow()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}}),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.relation,otherwise:e.otherwise},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.relation=t},"update:otherwise":function(t){e.otherwise=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("릴레이션 이름")]),n("md-input",{attrs:{type:"text"},model:{value:e.relation.name,callback:function(t){e.$set(e.relation,"name",t)},expression:"relation.name"}})],1),n("md-layout",{attrs:{"md-flex":"20"}},[n("md-checkbox",{model:{value:e.otherwise,callback:function(t){e.otherwise=t},expression:"otherwise"}},[e._v("otherwise")])],1),n("md-input-container",[n("label",[e._v("컨디션")]),e.otherwise?e._e():n("md-input",{attrs:{type:"text"},model:{value:e.relation.condition.conditionExpression,callback:function(t){e.$set(e.relation.condition,"conditionExpression",t)},expression:"relation.condition.conditionExpression"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-relation-diabled",props:{},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{selected:!1,sourceRef:e,targetRef:t,relationView:{style:JSON.stringify({}),value:n},condition:{_type:"org.uengine.kernel.ExpressionEvaluateCondition"}}},vertices:{get:function(){try{return JSON.parse(this.relation.relationView.value)}catch(e){return null}},set:function(e){this.relation.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{drawer:function(e){e&&("org.uengine.kernel.Otherwise"==this.relation.condition._type?this.otherwise=!0:this.otherwise=!1)},otherwise:function(e){var t=this,n={};e?n._type="org.uengine.kernel.Otherwise":(n._type="org.uengine.kernel.ExpressionEvaluateCondition",n.conditionExpression=t.relation.condition.conditionExpression),t.relation.condition=n}},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"1db87791",null);t["default"]=c.exports},"2ad2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:44}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-line",{attrs:{from:[76,30],to:[61,63]}}),n("geometry-line",{attrs:{from:[76,30],to:[61,81]}}),n("geometry-line",{attrs:{from:[24,70],to:[39,37]}}),n("geometry-line",{attrs:{from:[24,70],to:[39,19]}}),n("geometry-line",{attrs:{from:[39,19],to:[61,63]}}),n("geometry-line",{attrs:{from:[61,81],to:[39,37]}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("부착 액티비티 ID")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.attachedToRef,callback:function(t){e.$set(e.activity,"attachedToRef",t)},expression:"activity.attachedToRef"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-error-catch-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.CatchingErrorEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7f37b59a",null);t["default"]=c.exports},"2ae2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modeling-designer",{ref:"designer",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"},on:{change:e.onResultChange},model:{value:e.value.result,callback:function(t){e.$set(e.value,"result",t)},expression:"value.result"}})},i=[],o={name:"lab-tool-event-designer",props:{value:Object},data(){return{url:"",elementTypes:[{icon:"bpmn-icon-start-event-none",component:"domain-event-definition",label:"Event",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`},{icon:"bpmn-icon-start-event-none",component:"command-definition",label:"Command",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/command.png`},{icon:"bpmn-icon-start-event-none",component:"policy-definition",label:"Policy",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/policy.png`},{icon:"bpmn-icon-start-event-none",component:"aggregate-definition",label:"Aggregate",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/aggregate.png`},{icon:"bpmn-icon-start-event-none",component:"external-definition",label:"External",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/external.png`},{icon:"bpmn-icon-start-event-none",component:"view-definition",label:"View",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/view.png`},{icon:"bpmn-icon-start-event-none",component:"bounded-context-definition",label:"Bounded Context",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/bounded2.png`},{icon:"bpmn-icon-start-actor-none",component:"actor-definition",label:"Actor",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/actor.png`}]}},created:function(){null==this.value.result&&(this.value.result={definition:[],relation:[]})},mounted:function(){var e=this;setTimeout(()=>{e.$EventBus.$emit("progressValue",!1)},2e3)},methods:{onResultChange(e){this.value.result=e,this.$emit("input",this.value),this.$emit("change",this.value)}}},r=o,l=(n("71de"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,"7af32dfd",null);t["a"]=s.exports},"2af0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#aaaaaa",fill:"#aaaaaa","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"PV"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("3e15"),l={mixins:[o["default"]],name:"persistence-volume",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"PersistenceVolume"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pv.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0},object:{apiVersion:"v1",kind:"PersistentVolume",metadata:{name:""},spec:{accessModes:[""],capacity:{storage:"1"},persistentVolumeReclaimPolicy:"Retain",volumeMode:"Filesystem"}}}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}}},data:function(){return{}},created:function(){},mounted:function(){},watch:{},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"2b3a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},customMoveAction:e.delayedMove,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:function(t){return e.showProperty()},rotateShape:e.onRotateShape,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5FC08B",fill:"#5FC08B","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5FC08B",fill:"#5FC08B","fill-opacity":.5,r:"1"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< View >>"}}),e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"View",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/view.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"view-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context and Must has a name.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.boundedContext).length},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.View"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",aggregate:{},namePascalCase:"",namePlural:"",boundedContext:{},fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}],elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},editingView:!1,dataProjection:"cqrs",createRules:[{_type:"viewStoreRule",operation:"CREATE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}],updateRules:[{_type:"viewStoreRule",operation:"UPDATE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}],deleteRules:[{_type:"viewStoreRule",operation:"DELETE",when:{},fieldMapping:[{viewField:{},eventField:{}}],where:[{viewField:{},eventField:{}}]}]}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.refreshImg()},"value.name":function(e,t){this.namePanel=e},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)},"value.dataProjection":function(e,t){var n=this;"cqrs"==e&&(n.value.checkValue=!0)}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))});e.value.dataProjection;this.$nextTick(function(){})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"d5ec6eb8",null);t["default"]=c.exports},"2b46":function(e,t,n){"use strict";var a=n("91a3"),i=n.n(a);i.a},"2b70":function(e,t,n){"use strict";var a=n("d70c"),i=n.n(a);i.a},"2bd2":function(e,t){throw new Error('Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type.\n> <?xml version="1.0" encoding="UTF-8"?>\n| <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n| \t\t xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">')},"2e72":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[25,66],[73,66]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-signal-intermediate-throw-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.SignalIntermediateThrowEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"520e71b2",null);t["default"]=c.exports},"2f3b":function(e,t){throw new Error('Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type.\n> <?xml version="1.0" encoding="UTF-8"?>\n| <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n| \txsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">')},"2fa1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"vertical-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalPoolShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"48c2ae94",null);t["default"]=c.exports},3:function(e,t){},"332a":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"elevation-12",staticStyle:{background:"#FFFFFF"}},[n("v-card",{staticStyle:{background:"#ffffff"},attrs:{flat:""}},[n("v-col",{attrs:{justify:"center",align:"center"}},[n("v-btn",{staticStyle:{width:"250px","font-size":"13px",color:"#175FC7","justify-content":"center"},attrs:{block:"",color:"#ffffff"},on:{click:function(t){return e.snsLogin("google")}}},[n("img",{staticStyle:{"margin-bottom":"3px","margin-right":"15px"},attrs:{width:"20px",alt:"Google sign-in",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"}}),e._v("\n                Login in with Google\n            ")]),n("div",{staticClass:"pa-2"}),n("v-btn",{staticStyle:{width:"250px","font-size":"13px",color:"white","justify-content":"center"},attrs:{block:"",color:"#000000"},on:{click:function(t){return e.snsLogin("github")}}},[n("img",{staticStyle:{"margin-bottom":"3px","margin-right":"5px","background-color":"white","-webkit-filter":"invert(100%)",filter:"invert(100%)"},attrs:{width:"30px",alt:"Github sign-in",src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"}}),e._v("\n                  Login in with Github\n            ")])],1)],1)],1)},i=[],o=n("8aa5"),r=n.n(o);n("ea7b");var l={components:{},props:{},data:()=>({drawer:null}),created(){},methods:{writeUserData(e,t,n,a,i){var o=r.a.database(),l="admin";l=n.includes("@uengine.org")?"admin":"student",o.ref("users/"+e).update({username:t,email:n,profile_picture:a,state:"signIn",provider:i,authorized:l})},snsLogin(e){var t=this,n=this.getComponent("App");this.getComponent("EventStormingListPage");if("google"==e){var a=new r.a.auth.GoogleAuthProvider;a.addScope("profile"),a.addScope("email"),r.a.auth().signInWithPopup(a).then(function(e){var a=e.credential.accessToken,i=e.user.uid,o=e.additionalUserInfo.profile;e.operationType;window.localStorage.setItem("author",o.email),window.localStorage.setItem("userName",o.name),window.localStorage.setItem("email",o.email),window.localStorage.setItem("picture",o.picture),window.localStorage.setItem("accessToken",a),window.localStorage.setItem("uid",i),o.email.includes("@uengine.org")?window.localStorage.setItem("authorized","admin"):window.localStorage.setItem("authorized","student"),n.loginDialog=!1,t.$EventBus.$emit("login",a),t.writeUserData(i,o.name,o.email,o.picture,"google")}).catch(function(e){var t=e.code,n=e.message;alert("["+t+"] "+n)})}else if("github"==e){a=new r.a.auth.GithubAuthProvider;a.addScope("repo"),a.addScope("user"),r.a.auth().signInWithPopup(a).then(function(e){console.log(e);var a=e.credential.accessToken,i=e.user.uid,o=e.additionalUserInfo.username,r=e.user.providerData[0].email,l=e.additionalUserInfo.profile.avatar_url;e.operationType;window.localStorage.setItem("author",r),window.localStorage.setItem("userName",o),window.localStorage.setItem("email",r),window.localStorage.setItem("picture",l),window.localStorage.setItem("accessToken",a),window.localStorage.setItem("gitAccessToken",a),window.localStorage.setItem("uid",i),n.loginDialog=!1,t.$EventBus.$emit("login",a),t.writeUserData(i,o,r,l,"github")}).catch(function(e){var t=e.code,n=e.message;alert("["+t+"] "+n)})}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},s=l,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8336"),p=n("b0af"),v=n("62ad"),h=Object(c["a"])(s,a,i,!1,null,null,null);t["a"]=h.exports;d()(h,{VBtn:m["a"],VCard:p["a"],VCol:v["a"]})},3595:function(e,t,n){"use strict";var a=n("9252"),i=n.n(a);i.a},3640:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isView?n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",vertices:e.vertices,from:e.value.from,to:e.value.to,_style:e.style_,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value,"from",t)},"update:to":function(t){return e.$set(e.value,"to",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,removeShape:function(t){return e.onRemoveShape(e.value)}}}):e._e()],1)},i=[],o=n("e097"),r={mixins:[o["default"]],name:"kube-relation",props:{value:Object},created:function(){this.value&&this.value.relationView&&(this.value.from=this.value.relationView.from,this.value.to=this.value.relationView.to)},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Relation"},style_(){var e=this,t={};return void 0!=e.value.sourceElement.connectableType&&-1!=e.value.sourceElement.connectableType.indexOf(e.value.targetElement._type)?(t={"arrow-end":"block","font-size":20},t):(t={"arrow-end":"block","stroke-width":"1.3","stroke-dasharray":"- ","font-size":20},t)},createNew(e,t,n,a){return{_type:this.className(),name:"",sourceElement:t,targetElement:n,from:t.elementView.id,to:n.elementView.id,relationView:{id:e,style:JSON.stringify({"arrow-start":"none","arrow-end":"none"}),value:a,from:t.elementView.id,to:n.elementView.id,needReconnect:!0},sourceMultiplicity:3,targetMultiplicity:3}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}},isView(){var e=this;return e.value.sourceElement._type!=e.value.targetElement._type}},data:function(){return{}},watch:{},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.relationView.id}`,function(e){}),console.log(e.value.sourceElement),console.log(e.value.targetElement),e.value.sourceElement._type;var t={state:"addRelation",element:e.value};e.$EventBus.$emit(e.value.sourceElement.elementView.id,t),e.$EventBus.$emit(e.value.targetElement.elementView.id,t)},methods:{deleteRelation(){var e=this;return new Promise(function(t){e.$EventBus.$off(`${e.value.relationView.id}`);var n={state:"deleteRelation",element:e.value};e.value.from&&e.$EventBus.$emit(e.value.from,n),e.value.to&&e.$EventBus.$emit(e.value.to,n),e.$emit("update:value",null),t()})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"27ba523e",null);t["default"]=c.exports},3758:function(e,t,n){"use strict";var a=n("ed3c"),i=n.n(a);i.a},"37da":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#fdd835",fill:"#fdd835","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"ReplicaSet"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("d42e"),l={mixins:[o["default"]],name:"replicaSet",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"ReplicaSet"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/rs.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"apps/v1",kind:"ReplicaSet",metadata:{name:"",labels:{app:""}},spec:{replicas:1,selector:{matchLabels:{app:""}},template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:""}]}}}},connectableType:["Pod"]}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}}},data:function(){return{}},created:function(){},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(e){})},watch:{name(e){this.value.object.metadata.labels.app=e,this.value.object.spec.selector.matchLabels.app=e,this.value.object.spec.template.metadata.labels.app=e,this.value.object.spec.template.spec.containers[0].name=e}},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},3827:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableTo:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-conditional-start-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"StartEvent"},className(){return"org.uengine.kernel.bpmn.ConditionalStartEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"206bc58c",null);t["default"]=c.exports},3931:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("End Status Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-switch",{staticClass:"md-warn",attrs:{id:"my-test2",name:"my-test2"},model:{value:e.activity.stopAllTokens,callback:function(t){e.$set(e.activity,"stopAllTokens",t)},expression:"activity.stopAllTokens"}},[e._v("Stops all running tokens\n      ")]),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.EndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7a56c27e",null);t["default"]=c.exports},"396a":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%"},attrs:{align:"center"}},[e.ideUrl?n("vue-friendly-iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.ideUrl,frameborder:"0",gesture:"media",allow:"encrypted-media"}}):n("v-progress-circular",{staticStyle:{"margin-top":"25%",color:"#1976d2 !important"},attrs:{size:130,color:"primary",indeterminate:""}},[n("a",[e._v("약 30초 정도 "),n("br"),e._v(" 소요됩니다.")])])],1)},i=[],o=n("46e1"),r={name:"lab-tool-ide",mixins:[o["a"]],props:{value:Object,labInfo:Object},data(){return{ideInterval:"",ideUrl:null,interval:null,userId:this.$route.params.userId}},created:async function(){var e=this;e.userId=e.$route.params.userId;var t=await e.startIDE();this.ideInterval=setInterval(function(){console.log("ide Interval"),e.ideRunningCheck(t)},3e3),e.interval=setInterval(async function(){try{var t=await e.getString(`${e.courseId}/runningClass/${e.classId}/labs/${e.labId}/${e.userId}/result.log`);e.onResultChange(t)}catch(n){}},1e3)},mounted:function(){console.log(this.labInfo)},beforeDestroy(){clearInterval(this.interval)},methods:{onResultChange(e){this.value.result=e,this.$emit("input",this.value),this.$emit("change",this.value)},hashCode(e){return e.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0)},ideRunningCheck(e){var t=this;t.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/${e}/status`).then(function(n){n.data.status.conditions&&n.data.status.conditions.forEach(function(n){"Ready"==n.type&&"True"==n.status&&(t.ideUrl=`http://${e}.msastudy.io/`,clearInterval(t.ideInterval))})}).catch(function(e){})},ideExistCheck(e){var t=this;return new Promise(function(n){t.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/${e}/status`).then(function(e){n(!0)}).catch(function(e){n(!1)})})},startIDE(){var e=this;return new Promise(async function(t){var n=e.courseId,a=e.classId,i=e.labId,o=e.userId,r=n+"/runningClass/"+a+"/labs/"+i+"/"+o,l="labs-"+e.hashCode(r),s=await e.ideExistCheck(l),c=e.labInfo.templateFile;s&&t(l),e.labInfo.templateFile?e.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`${l}`,labels:{environment:"labs",app:`${l}`}},spec:{initContainers:[{name:"mkdir",image:"busybox",command:["mkdir","-p",`/home/project/${r}/${c}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"labs"}]},{name:"unzip",image:"busybox",command:["unzip","-n",`/home/project/${n}/planed/${i}/${c}`,"-d",`/home/project/${r}/${c}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"labs"}]}],containers:[{name:`${l}`,image:"sanghoon01/theia-labs",securityContext:{privileged:!0,runAsUser:0},env:[{name:"COURSE",value:`${n}`},{name:"LABS",value:`${i}`},{name:"CLAZZ",value:`${a}`},{name:"EMAIL",value:`${o}`}],resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`labs/${r}/${c}`}],readinessProbe:{httpGet:{path:"/",port:3e3,initialDelaySeconds:10,periodSeconds:5}}}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"labs",app:`${l}`},name:`${l}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`${l}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){var n={email:o,status:"start",startTime:new Date,result:!1};e.$minioClient.putObject("labs",`${r}/User_Lab_Metadata.json`,JSON.stringify(n)),t(l)})}):e.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`${l}`,labels:{environment:"labs",app:`${l}`}},spec:{initContainers:[{name:"mkdir",image:"busybox",command:["mkdir","-p",`/home/project/${r}/${o}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"labs"}]}],containers:[{name:`${l}`,image:"sanghoon01/theia-labs",securityContext:{privileged:!0,runAsUser:0},readinessProbe:{httpGet:{path:"/",port:3e3,initialDelaySeconds:10,periodSeconds:5}},env:[{name:"COURSE",value:`${n}`},{name:"LABS",value:`${i}`},{name:"CLAZZ",value:`${a}`},{name:"EMAIL",value:`${o}`}],resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`labs/${r}/${o}`}]}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){e.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"labs",app:`${l}`},name:`${l}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`${l}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){var n={email:o,status:"start",startTime:new Date,result:!1};e.$minioClient.putObject("labs",`${r}/User_Lab_Metadata.json`,JSON.stringify(n)),t(l)})})})}}},l=r,s=(n("c599"),n("2877")),c=n("6544"),u=n.n(c),d=n("490a"),m=Object(s["a"])(l,a,i,!1,null,null,null);t["a"]=m.exports;u()(m,{VProgressCircular:d["a"]})},"3a84":function(e,t,n){},"3a94":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-polygon",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15],[60,5],[20,5]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Polygon(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"1e774895",null);t["default"]=c.exports},"3b22":function(e,t,n){var a={"./python/Dockerfile.command.handler":"1271","./python/Dockerfile.policy.handler":"8e4c","./python/LICENSE":"d834","./python/README.md":"b850","./python/command-handler.py":"cacf","./python/kubernetes/deployment.yml":"29de","./python/kubernetes/service.yaml":"d82a","./python/policy-handler.py":"f611","./python/requirements.txt":"266e","./spring-boot/Dockerfile":"f623","./spring-boot/azure-pipelines.yml":"bf6f","./spring-boot/cloudbuild.yaml":"7291","./spring-boot/for-model/gateway/Dockerfile":"e38b","./spring-boot/for-model/gateway/README.md":"0161","./spring-boot/for-model/gateway/cloudbuild.yaml":"d7b6","./spring-boot/for-model/gateway/pom.xml":"2bd2","./spring-boot/for-model/gateway/src/main/java/com/example/template/Application.java":"f5c4","./spring-boot/for-model/gateway/src/main/resources/application.yml":"f741","./spring-boot/kubernetes/deployment.yml":"b84f","./spring-boot/kubernetes/service.yaml":"ac66","./spring-boot/pom.xml":"2f3b","./spring-boot/src/main/java/com/eventstorming/AbstractEvent.java":"a791","./spring-boot/src/main/java/com/eventstorming/Application.java":"6821","./spring-boot/src/main/java/com/eventstorming/Controller.java":"ba6d","./spring-boot/src/main/java/com/eventstorming/Entity.java":"a97f","./spring-boot/src/main/java/com/eventstorming/Event.java":"e2e4","./spring-boot/src/main/java/com/eventstorming/PolicyEvent.java":"e454","./spring-boot/src/main/java/com/eventstorming/PolicyHandler.java":"dd53","./spring-boot/src/main/java/com/eventstorming/Repository.java":"df59","./spring-boot/src/main/java/com/eventstorming/View.java":"805d","./spring-boot/src/main/java/com/eventstorming/ViewEvent.java":"3cfd","./spring-boot/src/main/java/com/eventstorming/ViewHandler.java":"e275","./spring-boot/src/main/java/com/eventstorming/ViewRepository.java":"428b","./spring-boot/src/main/java/com/eventstorming/config/kafka/KafkaProcessor.java":"910c","./spring-boot/src/main/java/com/eventstorming/external/ExternalEntity.java":"a7bd","./spring-boot/src/main/java/com/eventstorming/external/ExternalService.java":"27ea","./spring-boot/src/main/resources/application.yml":"51e1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="3b22"},"3cfd":function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: ViewEventInfo\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},"3d28":function(e,t,n){"use strict";n.r(t);var a,i,o=n("9bf5"),r={mixins:[o["default"]],name:"org-uengine-kernel-And",data:function(){return{myConditionType:"And",conditionTypeAndOr:"org.uengine.kernel.And"}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"3d87":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"bpmn-component-finder",created:function(){},data:function(){return{bpmnComponent:null}},watch:{},mounted:function(){var e,t=null,n=function(a){e=a.$parent,e&&("bpmn-component"==e.bpmnRole?t=e:n(e))};n(this),this.bpmnComponent=t}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"d8d1f4ce",null);t["default"]=s.exports},"3dfd":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ideLoading?a("div",[a("router-view")],1):a("v-app",{staticStyle:{overflow:"hidden"},attrs:{id:"inspire"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.overlay=!1}}},[a("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"blue darken-1",dark:"",app:"",fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"500px"}},[a("v-layout",[e.openGuide?a("v-app-bar-nav-icon",{on:{click:e.guideButtonClose}}):e._e(),a("v-btn",{staticStyle:{width:"150px",height:"50px"},attrs:{text:""},nativeOn:{click:function(t){return e.$router.push("/")}}},[a("v-img",{attrs:{contain:"","max-height":"45","max-width":"140",src:n("f52a")}})],1)],1)],1),a("v-spacer"),e.$route.params.author&&e.$route.params.projectName&&"Local"!=e.$route.params.author?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{text:"",dark:""}},n),[a("v-icon",{attrs:{dark:""}},[e._v("chat")])],1)]}}],null,!1,2279388760),model:{value:e.chatWindow,callback:function(t){e.chatWindow=t},expression:"chatWindow"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[e.loginUser.picture?a("img",{attrs:{src:e.loginUser.picture}}):e._e()]),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                                "+e._s(e.$route.params.projectName)+"\n                            ")]),a("v-list-item-subtitle",[e._v("\n                                "+e._s(e.$route.params.author)+"\n                            ")])],1)],1)],1),e._l(e.messageLists,function(t){return a("div",[t.model?a("span",[e._v("\n                        "+e._s(t.userName)+"님이 수정하였습니다.\n                    ")]):a("v-col",[t.uid==e.uid?a("v-row",{attrs:{justify:"end"}},[a("v-col",[a("v-row",{attrs:{justify:"end"}},[a("span",{staticClass:"caption",staticStyle:{"margin-bottom":"0px",display:"block"}},[e._v(e._s(t.userName))])])],1),a("v-chip",{staticStyle:{display:"block"},attrs:{color:"green","text-color":"white"}},[e._v(e._s(t.message)+"\n                            ")])],1):a("v-row",[a("v-chip",{staticStyle:{display:"block"}},[e._v(e._s(t.message)+"\n                            ")]),a("span",{staticClass:"caption",staticStyle:{"margin-bottom":"0px",display:"block"}},[e._v(e._s(t.userName))])],1)],1)],1)}),a("v-divider"),a("v-card-actions",[a("v-text-field",{attrs:{outlined:"","append-icon":"mdi-send"},on:{"click:append":e.sendMessage,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],2)],1):e._e(),e.showParticiateLists&&e.particiateLists.length>0?a("v-row",{staticStyle:{width:"100px","margin-right":"3px"},attrs:{justify:"end",align:"center"}},[e._l(e.particiateLists,function(t,n){return a("div",{staticStyle:{width:"25px"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(i){var o=i.on;return[e.particiateLists.length-8==n?a("v-avatar",{attrs:{size:"40"}},[a("v-icon",[e._v(" mdi-account-multiple")])],1):e._e(),e.particiateLists.length-7<=n&&n<e.particiateLists.length?a("v-avatar",e._g({attrs:{size:"36"}},o),[a("img",{attrs:{src:t.picture,alt:t.userName}})]):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.userName)+" "+e._s(t.email))])])],1)}),a("div",{staticStyle:{"margin-left":"3px"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-btn",{attrs:{text:"",icon:""},on:{click:function(t){return e.openPanelParticiateLists()}}},[a("v-avatar",{attrs:{color:"indigo",size:"36"}},[a("v-icon",[e._v(" mdi-account-multiple")])],1)],1)]}}],null,!1,4010717333)},[a("span",[e._v("particiate Lists ")])])],1)],2):e._e(),a("v-btn",{attrs:{text:"",color:"white"},on:{click:function(t){return e.local()}}},[e._v("\n            English\n        ")]),e.successLogin?e._e():a("v-btn",{attrs:{fab:"",icon:""},on:{click:e.loginPage}},[a("v-avatar",{attrs:{size:"40"}},[a("v-icon",{attrs:{"x-large":""}},[e._v("mdi-account-circle")])],1)],1),e.successLogin?a("v-btn",{attrs:{fab:"",icon:""},on:{click:function(t){return e.logout()}}},[a("v-avatar",{attrs:{size:"40"}},[e.loginUser.picture?a("img",{attrs:{src:e.loginUser.picture}}):e._e()])],1):e._e(),a("v-btn",{attrs:{icon:"",color:"white"},on:{click:e.wikiOpen}},[a("v-icon",{attrs:{medium:""}},[e._v("info")])],1)],1),e.courseNavi&&e.$route.path.includes("eventstorming")?a("course-navigator",{attrs:{value:e.naviObject},on:{"update:value":function(t){e.naviObject=t}}}):e._e(),e.iFrame?a("v-content",{staticStyle:{height:"100%"}},[a("vue-friendly-iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.iFrameUrl,frameborder:"0",gesture:"media",allow:"encrypted-media"}})],1):a("v-content",[e.progressValue?a("v-progress-linear",{attrs:{fixed:"",indeterminate:"",color:"orange",height:"10"}}):e._e(),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("router-view")],1)],1)],1)],1),a("v-overlay",{attrs:{value:e.overlay,align:"end"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-layout",{staticStyle:{height:"90%",width:"90%"}},[a("youtube-media",{attrs:{"video-id":"4J8mViMo8lE","player-width":.7*this.$innerWidth,"player-height":.7*this.$innerHeight}})],1)],1),a("v-dialog",{staticStyle:{width:"700px",height:"700px"},model:{value:e.infoDialog,callback:function(t){e.infoDialog=t},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("How to use EventStorming-tool?")]),a("v-carousel",{attrs:{"show-arrows":"true"},model:{value:e.infoNum,callback:function(t){e.infoNum=t},expression:"infoNum"}},e._l(e.infoSlider,function(e,t){return a("v-carousel-item",{key:e,attrs:{src:e}})}),1)],1)],1),a("v-dialog",{attrs:{width:"300"},model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[a("Login")],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1,e.kubeToken="",e.kubeHost=""}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){return e.saveSetting()}}},[e._v("Save")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Connection Setting")]),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Host",hint:"Ex) https://api.k8s.bzdvops.com",outline:""},model:{value:e.kubeHost,callback:function(t){e.kubeHost=t},expression:"kubeHost"}})],1)],1)],1),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[a("v-text-field",{attrs:{label:"Kube Token",outline:""},model:{value:e.kubeToken,callback:function(t){e.kubeToken=t},expression:"kubeToken"}})],1)],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{color:"error",timeout:1e4},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        Click Setting & Insert Infomation\n        "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)},i=[],o=n("bc3a"),r=n.n(o),l=n("24f8"),s=n.n(l),c=n("8aa5"),u=n.n(c),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{app:"",clipped:"",stateless:""},model:{value:e.value.drawer,callback:function(t){e.$set(e.value,"drawer",t)},expression:"value.drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n            Instruction\n        ")]),n("div",{domProps:{innerHTML:e._s(e.compiledMarkdown)}})],1),n("v-divider"),n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n            checkPoints\n        ")]),e._l(e.value.checkPoints,function(t,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(a+1)+". "+e._s(t.text))])],1),n("v-list-item-action",[e.renderComponent&&e.isAdmin?n("v-checkbox",{attrs:{success:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}}):e._e(),e.renderComponent&&(t.javascript||t.regExp)&&!e.isAdmin?n("v-checkbox",{attrs:{success:"",readonly:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}}):e._e()],1)],1)})],2),n("v-divider"),n("v-list",{attrs:{dense:"",shaped:""}},[n("v-subheader",[e._v("\n            hints\n        ")]),e._l(e.value.hints,function(t,a){return n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(a+1)+". "+e._s(t.text))])],1),n("v-list-item-action",[e.renderComponent?n("v-checkbox",{attrs:{error:"",readonly:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"hint.status"}}):e._e()],1)],1)})],2)],1)},m=[],p=n("216c"),v=p["a"],h=n("2877"),f=n("6544"),g=n.n(f),y=n("ac7c"),b=n("ce7e"),_=n("8860"),w=n("da13"),x=n("1800"),k=n("5d23"),C=n("f774"),S=n("e0c7"),E=Object(h["a"])(v,d,m,!1,null,"6234d852",null),V=E.exports;g()(E,{VCheckbox:y["a"],VDivider:b["a"],VList:_["a"],VListItem:w["a"],VListItemAction:x["a"],VListItemContent:k["a"],VListItemTitle:k["c"],VNavigationDrawer:C["a"],VSubheader:S["a"]});var I={name:"App",props:{},data:()=>({terminalUrl:"",terminal:!1,openGuide:!1,infoSlider:["https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png","https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"],messageLists:[],infoNum:0,chatWindow:!1,dialog:!1,drawer:!1,infoDialog:!1,kubeHost:"",kubeToken:"",loginDialog:!1,ideLoading:!1,items:[{icon:"fa-sticky-note",text:"EventStorming",route:"/"}],api:[],snackbar:!1,fab:!1,courseNavi:!1,overlay:!0,successLogin:!1,message:"",uid:"",userName:"",messageRef:{},progressValue:!1,showParticiateLists:!1,particiateLists:[],naviObject:{drawer:!1,instruction:[],checkPoints:[],hints:[],logs:""},iFrame:!1,iFrameUrl:"",interval:""}),components:{axios:r.a,https:s.a,CourseNavigator:V},beforeDestroy(){window.localStorage.removeItem("accessToken")},computed:{activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},loginUser(){var e={author:window.localStorage.getItem("author"),userName:window.localStorage.getItem("userName"),picture:window.localStorage.getItem("picture"),email:window.localStorage.getItem("email")};return e},authorized(){var e=this;return null==window.localStorage.getItem("accessToken")?(window.authorized=!1,!1):window.localStorage.getItem("accessToken")?(e.loginUser,window.authorized=!0,e.loginDialog=!1,!0):void 0}},created:function(){var e=this;"IdeLoadingPage"==e.$route.name&&(e.ideLoading=!0),e.authorized?(e.successLogin=!0,e.overlay=!1):e.successLogin=!1},watch:{},beforeDestroy(){},mounted(){var e=this;if(localStorage.getItem("projectName")&&(e.overlay=!1),e.$EventBus.$on("login",function(t){e.successLogin=!!t,e.authorized,e.$forceUpdate()}),e.$EventBus.$on("showLoginDialog",function(){e.loginDialog=!0}),e.$EventBus.$on("closeChat",function(t){e.messageLists=[],e.messageRef.off()}),e.$EventBus.$on("particiateLists",function(t){e.particiateLists=t}),e.$EventBus.$on("progressValue",function(t){e.progressValue=t}),e.$EventBus.$on("storming-start",function(t){console.log(t),e.courseNavi=!0,e.naviObject.labsName=t.labName,e.naviObject.drawer=!0,e.naviObject.checkPoints=t.checkPoints,e.naviObject.hints=t.hints,e.naviObject.lab=t.lab,e.naviObject.instruction=t.instruction,e.naviObject.email=t.email}),this.$EventBus.$on("guideClose",function(){e.openGuide=!0}),$(document).keydown(e=>{27==e.keyCode&&(this.overlay=!1)}),e.$route.query.access_token){localStorage.setItem("accessToken",e.$route.query.access_token);var t=window.location.protocol+"//"+window.location.host+"/";window.location.href=t}var n=e.getUid();n.then(function(t){e.userName=t.displayName,e.uid=t.uid})},methods:{goMessage(){var e=this;e.$router.push("/MessageTest")},openPanelParticiateLists(){this.$EventBus.$emit("participantsListsPanel",!0)},async sendMessage(){var e=this;if(e.message.length>0){var t=e.getUid();e.userName.length<1&&e.uid.length<1?t.then(function(t){e.userName=t.displayName,e.uid=t.uid,e.messageRef=u.a.database().ref(`/${e.chatUid}/${e.$route.params.projectName}`),e.messageRef.push({message:e.message,userName:e.userName,uid:e.uid}),e.message=""}):(e.messageRef=u.a.database().ref(`/${e.chatUid}/${e.$route.params.projectName}`),e.messageRef.push({message:e.message,userName:e.userName,uid:e.uid}),e.message="")}},closeIFrame(){var e=this;e.$nextTick(function(){e.courseNavi=!1,e.naviObject={labsName:"",drawer:!1,instruction:[],checkPoints:[],hints:[],logs:""},e.iFrame=!1,e.iFrameUrl="",e.naviObject.drawer=!1,clearInterval(e.interval)})},getUid(){return new Promise(function(e){u.a.auth().onAuthStateChanged(function(t){e(t||"everyone")})})},logout(){var e=this,t=localStorage.getItem("uid");u.a.database().ref("users/"+t).update({state:"signOut"}),u.a.auth().signOut().then(function(t){console.log("logout"),window.localStorage.removeItem("gitAccessToken"),window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("author"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("email"),window.localStorage.removeItem("projectName"),window.localStorage.removeItem("picture"),window.localStorage.removeItem("loadData"),window.localStorage.removeItem("uid"),e.$EventBus.$emit("login",localStorage.getItem("accessToken")),window.localStorage.clear();var n=window.location.protocol+"//"+window.location.host+"/";window.location.href=n}).catch(function(e){})},saveSetting(){var e=this;e.dialog=!1,this.$http.put(`${API_HOST}/kube/user/saveUserDetail`,{username:e.userInfo.user_name,host:e.kubeHost,token:e.kubeToken}).then(t=>{let n={kubeHost:e.kubeHost,kubeToken:e.kubeHost,userName:e.userInfo.user_name};e.$store.dispatch("LOGIN",n)})},loginPage(){var e=this;e.loginDialog=!0},wikiOpen(){window.open("http://uengine.org/eventstorming/#/")},guideButtonClose(){this.openGuide=!1,this.$EventBus.$emit("guideOpen")}}},O=I,T=(n("034f"),n("7496")),P=n("40dc"),N=n("5bc1"),j=n("8212"),D=n("8336"),L=n("b0af"),A=n("99d9"),R=n("5e66"),M=n("3e35"),B=n("cc20"),U=n("62ad"),F=n("a523"),G=n("a75b"),K=n("169a"),J=n("0e8f"),z=n("132d"),H=n("adda"),W=n("a722"),q=n("8270"),Y=n("e449"),Q=n("a797"),Z=n("8e36"),X=n("0fd9"),ee=n("2db4"),te=n("2fa4"),ne=n("8654"),ae=n("71d9"),ie=n("2a7f"),oe=n("3a2f"),re=Object(h["a"])(O,a,i,!1,null,null,null);t["a"]=re.exports;g()(re,{VApp:T["a"],VAppBar:P["a"],VAppBarNavIcon:N["a"],VAvatar:j["a"],VBtn:D["a"],VCard:L["a"],VCardActions:A["a"],VCardTitle:A["c"],VCarousel:R["a"],VCarouselItem:M["a"],VChip:B["a"],VCol:U["a"],VContainer:F["a"],VContent:G["a"],VDialog:K["a"],VDivider:b["a"],VFlex:J["a"],VIcon:z["a"],VImg:H["a"],VLayout:W["a"],VList:_["a"],VListItem:w["a"],VListItemAvatar:q["a"],VListItemContent:k["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VMenu:Y["a"],VOverlay:Q["a"],VProgressLinear:Z["a"],VRow:X["a"],VSnackbar:ee["a"],VSpacer:te["a"],VSubheader:S["a"],VTextField:ne["a"],VToolbar:ae["a"],VToolbarItems:ie["a"],VToolbarTitle:ie["b"],VTooltip:oe["a"]})},"3e15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-select",{attrs:{label:"AccessModes",items:e.accessModeList},model:{value:e.value.object.spec.accessModes,callback:function(t){e.$set(e.value.object.spec,"accessModes",t)},expression:"value.object.spec.accessModes"}}),n("v-text-field",{attrs:{label:"Storage",type:"number"},model:{value:e.value.object.spec.capacity.storage,callback:function(t){e.$set(e.value.object.spec.capacity,"storage",t)},expression:"value.object.spec.capacity.storage"}}),n("v-text-field",{attrs:{label:"PersistentVolumeReclaimPolicy"},model:{value:e.value.object.spec.persistentVolumeReclaimPolicy,callback:function(t){e.$set(e.value.object.spec,"persistentVolumeReclaimPolicy",t)},expression:"value.object.spec.persistentVolumeReclaimPolicy"}}),n("v-text-field",{attrs:{label:"VolumeMode"},model:{value:e.value.object.spec.volumeMode,callback:function(t){e.$set(e.value.object.spec,"volumeMode",t)},expression:"value.object.spec.volumeMode"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"ingress-property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"PersistentVolume"}},data:function(){return{accessModeList:[["ReadWriteOnce"],["ReadOnlyMany"],["ReadWriteMany"]]}},watch:{},methods:{}},l=r,s=(n("7926"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("b974"),k=n("8654"),C=n("3a2f"),S=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=S.exports;u()(S,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VSelect:x["a"],VTextField:k["a"],VTooltip:C["a"]})},"3e54":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-text-field",{attrs:{label:"Deployment Name"},model:{value:e.value.object.spec.selector.app,callback:function(t){e.$set(e.value.object.spec.selector,"app",t)},expression:"value.object.spec.selector.app"}}),n("v-text-field",{attrs:{label:"Port",type:"number"},model:{value:e.value.object.spec.ports[0].port,callback:function(t){e.$set(e.value.object.spec.ports[0],"port",t)},expression:"value.object.spec.ports[0].port"}}),n("v-text-field",{attrs:{label:"Target Port",type:"number"},model:{value:e.value.object.spec.ports[0].targetPort,callback:function(t){e.$set(e.value.object.spec.ports[0],"targetPort",t)},expression:"value.object.spec.ports[0].targetPort"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"service-property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"Service"}},data:function(){return{}},watch:{},methods:{}},l=r,s=(n("1ed1"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},4:function(e,t){},"402c":function(e,t,n){"use strict";var a=n("2b0e"),i=n("f309");a["a"].use(i["a"]),t["a"]=new i["a"]({icons:{iconfont:"mdi"}})},"417b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{attrs:{absolute:"",right:"",width:"390"},model:{value:e.value.drawer,callback:function(t){e.$set(e.value,"drawer",t)},expression:"value.drawer"}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.titleName))])],1)],1)],1),"org.uengine.modeling.model.Relation"!=e.value._type?n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.value.fieldDescriptors,"hide-default-header":"","hide-default-footer":""},on:{"update:items":function(t){return e.$set(e.value,"fieldDescriptors",t)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{attrs:{small:""},on:{click:function(t){return e.UMLDeleteEntity(a)}}},[e._v("\n                            delete\n                        ")])]}}],null,!1,1792230538)}),n("v-row",{attrs:{justify:"center"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{staticStyle:{"margin-right":"15px"},attrs:{items:e.entityTypeList,label:"Type","menu-props":{top:!0,offsetX:!1}},model:{value:e.umlEntityType,callback:function(t){e.umlEntityType=t},expression:"umlEntityType"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:e.umlEntityName,callback:function(t){e.umlEntityName=t},expression:"umlEntityName"}})],1)],1),n("v-layout",{attrs:{"justify-end":"",wrap:""}},[n("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){return e.UMLEntityADD(e.umlEntityType,e.umlEntityName)}}},[e._v("ADD Attribute\n                    ")])],1)],1):n("v-list")],1)],1)},i=[],o={name:"uml-property-panel",props:{value:Object,titleName:String,img:String},data:function(){return{entityTypeList:["Int","String","Float","Double","Long"],umlEntityType:"",umlEntityName:"",relationList:[{name:"1",shape:"------------"},{name:"2",shape:"------------\x3e"},{name:"3",shape:"------------0"}],headers:[{text:"type",value:"className",align:"center"},{text:"name",value:"name",align:"center"},{text:"Actions",value:"action",sortable:!1,align:"center"}],translateText:"",usedTranslate:!1,UMLInput:""}},created:function(){console.log("open")},methods:{UMLDeleteEntity(e){var t=this;t.value.fieldDescriptors.forEach(function(n,a){n.name==e.name&&n.type==e.type&&a>-1&&t.value.fieldDescriptors.splice(a,1)})},UMLEntityADD:function(e,t){var n=this;if(0!=e.length&&0!=t.length){let a=null;a="id"==t?{_type:"org.uengine.uml.model.FieldDescriptor",name:t,className:e,isKey:!0}:{_type:"org.uengine.model.FieldDescriptor",name:t,className:e},n.value.fieldDescriptors.push(a),this.umlEntityType="",this.umlEntityName=""}else{var a=this.$parent.getComponent("modeling-designer");a.text="TYPE & NAME INPUT REQUEST",a.snackbar=!0}}},watch:{"value.drawer":function(e){this.navigationDrawer=e},navigationDrawer:{handler:function(e,t){this.$parent.getComponent("opengraph");1==e&&(this._item=this.value,this.value.elementView&&(this.x=this.value.elementView.x,this.y=this.value.elementView.y,this.width=this.value.elementView.width,this.height=this.value.elementView.height))}}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),d=n("8fea"),m=n("ce7e"),p=n("0e8f"),v=n("132d"),h=n("a722"),f=n("8860"),g=n("da13"),y=n("8270"),b=n("5d23"),_=n("f774"),w=n("0fd9"),x=n("b974"),k=n("8654"),C=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=C.exports;c()(C,{VBtn:u["a"],VDataTable:d["a"],VDivider:m["a"],VFlex:p["a"],VIcon:v["a"],VLayout:h["a"],VList:f["a"],VListItem:g["a"],VListItemAvatar:y["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VNavigationDrawer:_["a"],VRow:w["a"],VSelect:x["a"],VTextField:k["a"]})},"41cb":function(e,t,n){"use strict";var a=n("2b0e"),i=n("8c4f"),o=n("286e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[e.teacherClassList.length>0?n("h1",[e._v("강의 중인 클래스")]):e._e(),n("v-row",[e.loaded?e._e():n("v-col",{attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1),e._l(e.teacherClassList,function(t,a){return n("v-col",{key:a,attrs:{md:"3"}},[n("v-card",[n("v-card-title",[e._v("\n                    "+e._s(t.className)+"\n                ")]),n("v-card-text",[e._v("\n                    코스명 : "+e._s(t.course?t.course.courseDesc:t.courseId)+" "),n("br"),e._v("\n                    클래스 시작 : "+e._s(t.classStartDate)+" "),n("br"),e._v("\n                    클래스 종료 : "+e._s(t.classEndDate)+" "),n("br")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",to:"/courses/"+t.courseId+"/"+t.classId}},[e._v("\n                        입장\n                    ")])],1)],1)],1)})],2),n("h1",[e._v("수강 신청된 클래스")]),n("v-overlay",{attrs:{value:e.overlay}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}}),n("v-icon",[e._v("mdi-close")])],1)],1),n("v-row",[e.loaded?e._e():n("v-col",{attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1),e._l(e.clazzList,function(t,a){return n("v-col",{key:a,attrs:{md:"3"}},[n("v-card",[n("v-card-title",[e._v("\n                    "+e._s(t.className)+"\n                ")]),n("v-card-text",[e._v("\n                    코스명 : "+e._s(t.course?t.course.courseDesc:t.courseId)+" "),n("br"),e._v("\n                    클래스 시작 : "+e._s(t.classStartDate)+" "),n("br"),e._v("\n                    클래스 종료 : "+e._s(t.classEndDate)+" "),n("br")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",to:"/courses/"+t.courseId+"/"+t.classId}},[e._v("\n                        입장\n                    ")])],1)],1)],1)})],2)],1)},l=[],s=(n("ad23"),{name:"ClazzListPage",components:{},data:()=>({clazzList:[],teacherClassList:[],overlay:!1,email:"",loaded:!1}),computed:{sortedClazzList(){var e,t=this,n=t.clazzList,a={},i=[];for(e in n)n.hasOwnProperty(e)&&i.push(e);for(i.sort(),e=0;e<i.length;e++)a[i[e]]=n[i[e]];return a}},watch:{},mounted(){this.email=localStorage.getItem("email"),this.email&&this.getClazzList()},methods:{async getClazzList(){var e=this;await new Promise((t,n)=>{this.$minioClient.listObjects("labs","",!0).on("data",function(t){t.name&&t.name.includes("Class_Metadata")&&0!=t.size&&e.$minioClient.getObject("labs",t.name,function(n,a){if(n)return console.log(n);a.on("data",function(n){var a=new TextDecoder("utf-8").decode(n),i=JSON.parse(a);i.teacherId==e.email&&e.teacherClassList.push(i),i.groupedUsers.some(n=>{return n.users.some(n=>{if(n.email==e.email){var a=t.name.split("/");return console.log(a),i.classId=a[2],i.courseId=a[0],e.$minioClient.getObject("labs",i.courseId+"/Course_Metadata.json",function(e,t){if(e)return console.log(e);t.on("data",function(e){var t=new TextDecoder("utf-8").decode(e),n=JSON.parse(t);i.course=n,i.__ob__.dep.notify()}),t.on("error",function(e){console.log(e)})}),e.clazzList.push(i),!0}})})}),a.on("error",function(e){console.log(e)})})}).on("error",function(e){alert(e),n()}).on("end",function(e){t()})}),e.loaded=!0}}}),c=s,u=n("2877"),d=n("6544"),m=n.n(d),p=n("8336"),v=n("b0af"),h=n("99d9"),f=n("62ad"),g=n("a523"),y=n("132d"),b=n("a797"),_=n("490a"),w=n("0fd9"),x=n("2fa4"),k=Object(u["a"])(c,r,l,!1,null,null,null),C=k.exports;m()(k,{VBtn:p["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:f["a"],VContainer:g["a"],VIcon:y["a"],VOverlay:b["a"],VProgressCircular:_["a"],VRow:w["a"],VSpacer:x["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[e._v("\n            현재 로그인 유저 : "+e._s(e.loginName)+" "),e.isStudent?n("span",[e._v("학생")]):e.isStudent?e._e():n("span",[e._v("강사")])]),n("v-col",[n("v-text-field",{attrs:{label:"학생이름",outlined:""},model:{value:e.loginName,callback:function(t){e.loginName=t},expression:"loginName"}})],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.loginStudent(e.loginName)}}},[e._v("학생 로그인하기")]),n("v-btn",{on:{click:function(t){return e.loginTeacher(e.loginName)}}},[e._v("강사 로그인하기")])],1)],1),e.isStudent?e._e():n("div",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"코스이름",outlined:""},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}})],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.registerCourse(e.courseName)}}},[e._v("코스등록")])],1)],1),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"랩 이름",outlined:""},model:{value:e.labName,callback:function(t){e.labName=t},expression:"labName"}})],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.registerLab(e.courseName,e.labName)}}},[e._v("랩 등록")])],1)],1),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"클래스 이름",outlined:""},model:{value:e.clazzName,callback:function(t){e.clazzName=t},expression:"clazzName"}})],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.registerClazz(e.courseName,e.clazzName)}}},[e._v("클래스 등록")])],1)],1)],1),e.isStudent?n("div",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"코스이름",outlined:""},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"클래스 이름",outlined:""},model:{value:e.clazzName,callback:function(t){e.clazzName=t},expression:"clazzName"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"랩 이름",outlined:""},model:{value:e.labName,callback:function(t){e.labName=t},expression:"labName"}})],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.joinLab(e.labName)}}},[e._v("랩 조인")])],1)],1),n("v-row",[n("v-label",[e._v("내가 등록한 클래스")])],1),e._l(e.myClazzList,function(t,a){return n("v-row",{key:a},[e._v("\n            "+e._s(t)+"\n        ")])})],2):e._e(),n("v-row",[n("v-label",[e._v("코스 목록")])],1),e._l(e.courseList,function(t,a){return n("v-row",{key:a},[e._v("\n        "+e._s(t)+"\n    ")])}),n("v-row",[n("v-label",[e._v("잠시 테스트")])],1),e._l(e.labList,function(t,a){return n("v-row",{key:a},[e._v("\n        "+e._s(t)+"\n    ")])}),n("v-row",[n("v-label",[e._v("클래스 목록")])],1),e._l(e.clazzList,function(t,a){return n("v-row",{key:a},[e._v("\n        "+e._s(t)+"\n    ")])})],2)},E=[],V=n("ad23"),I={name:"labAdminTest",components:{},data:()=>({userName:"sanghoon",userGroup:"gmail",clazz:"uengine",courseName:"kubernetes",labName:"lab1",clazzName:"sk1st",loginName:"uengine1@uengine.org",isStudent:!1,minioClient:null,courseList:{},labList:null,clazzList:{},myClazzList:{},overlay:!1}),computed:{loadingStatus(){return Object.keys(this.courseList).length<1}},mounted(){var e=this,t=new V.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"});e.$minioClient=t,e.courseLists(),e.clazzLists()},methods:{courseLists(){var e=this;e.labList=new Map;var t=e.$minioClient.listObjectsV2("labs","",!0,"");t.on("data",function(t){console.log(t.name);var n=t.name.split("/"),a=n[0];t.name;if("planed"==n[1]){var i=n[2],o={"강좌 이름":a,"랩 이름":i};if(e.labList.has(a)){var r=e.labList.get(a);r.push(o)}else e.labList.set(a,[o]);e.$set(e.courseList,a+"_"+i,o)}}),t.on("error",function(e){console.log(e)})},clazzLists(){var e=this,t=e.$minioClient.listObjectsV2("labs","",!0,"");t.on("data",function(t){console.log(t.name);var n=t.name.split("/"),a=n[0];if("runningClass"==n[1]){var i=n[2],o={"강좌이름":a,"클래스이름":i,"포함된 랩":""};e.$set(e.clazzList,a+"_"+i,o)}}),t.on("error",function(e){console.log(e)})},myClazzLists(){var e=this,t=e.$minioClient.listObjectsV2("labs","",!0,"");t.on("data",function(e){console.log(e.name);var t=e.name.split("/");t[0];t[1]}),t.on("error",function(e){console.log(e)})},registerCourse(e){var t=this;t.$minioClient.putObject("labs",`${e}/Course_Metadata.json`,"",{"Content-Type":"application/json"},function(e,n){return t.courseLists(),console.log(e,n)})},registerLab(e,t){var n=this;n.$minioClient.putObject("labs",`${e}/planed/${t}/Lab_Metadata.json`,"",{"Content-Type":"application/json"},function(e,t){return n.courseLists(),console.log(e,t)})},registerClazz(e,t){var n=this;n.$minioClient.putObject("labs",`${e}/runningClass/${t}/Class_Metadata.json`,"",{"Content-Type":"application/json"},function(e,t){return n.clazzLists(),console.log(e,t)})},joinClazz(e){var t=this;t.$minioClient.putObject("labs",`${t.courseName}/runningClass/${e}/Class_Metadata.json.json`,"",{"Content-Type":"application/json"},function(e,t){return console.log(e,t)})},joinLab(e){var t=this,n={labPass:!1};t.$minioClient.putObject("labs",`${t.courseName}/runningClass/${t.clazzName}/${e}/${t.loginName}/User_Lab_Metadata.json`,JSON.stringify(n),{"Content-Type":"application/json"},function(e,t){return console.log(e,t)})},loginStudent(e){this.isStudent=!0,this.myClazzList={},this.myClazzLists()},loginTeacher(e){this.isStudent=!1}}},O=I,T=n("24c9"),P=n("8654"),N=Object(u["a"])(O,S,E,!1,null,"05545d43",null),j=N.exports;m()(N,{VBtn:p["a"],VCol:f["a"],VContainer:g["a"],VLabel:T["a"],VRow:w["a"],VTextField:P["a"]});var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[e._v("\n            코스 이름 : "+e._s(e.courseName)+"\n            클래스 이름 : "+e._s(e.clazzName)+"\n            랩 이름 : "+e._s(e.labName)+"\n        ")])],1),n("v-row",[n("v-col",[e._v("\n            랩 시나리오 : "+e._s(e.labScenario)+"\n            랩 시간 : "+e._s(e.labTime)+"\n            랩 성공 데이터 : "+e._s(e.passData)+"\n        ")])],1),n("v-row",[n("v-col",[n("v-btn",{on:{click:function(t){return e.changeLab1()}}},[e._v("1번 랩")])],1),n("v-col",[n("v-btn",{on:{click:function(t){return e.changeLab2()}}},[e._v("2번 랩")])],1)],1),e._l(e.labUserList,function(t,a){return n("v-row",{key:a,attrs:{md:"3"}},[e._v("\n\n        "+e._s(t)+"\n        "+e._s(t.username)+"\n        "+e._s(t.isPass)+"\n    ")])})],2)},L=[],A=n("ad23"),R={name:"labMonitoring",components:{},data:()=>({labUserList:{},courseName:"kubernetes1",clazzName:"sk1st",labName:"lab1",labScenario:"",labTime:20,passData:"",minioClient:null}),mounted(){var e=this,t=new A.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"});e.$minioClient=t,e.changeLab1()},methods:{myClazzLabLists(){var e=this;e.clearLabInfo();var t=e.$minioClient.listObjectsV2("labs",`${e.courseName}/runningClass/${e.clazzName}/`,!0,"");t.on("data",function(t){var n=t.name.split("/");if(n.length>=4&&n[3],n.length>=4&&n[3]==e.labName)if(n.length>=5&&"Lab_Metadata.json"==n[4])e.$minioClient.getObject("labs",t.name,function(t,n){if(t)return console.log(t);n.on("data",function(t){try{var n=new TextDecoder("utf-8").decode(t),a=JSON.parse(n);a.labScenario&&(e.labScenario=a.labScenario),a.labTime&&(e.labTime=a.labTime),a.passData&&(e.passData=a.passData)}catch(i){console.log(i)}})});else if(n.length>=6){var a=n[4],i="test.log",o="";n.length>=6&&n[5]==i&&e.checkLabPass(t.name,a);var r={username:a,isPass:o};e.labUserList&&e.labUserList[a]||e.$set(e.labUserList,a,{}),e.$set(e.labUserList[a],a,r)}}),t.on("error",function(e){console.log(e)}),console.log(e.labUserList)},clearLabInfo(){var e=this;e.labUserList={},e.labScenario="",e.labTime="",e.passData=""},checkLabPass(e,t){var n=this,a=!1;n.$minioClient.getObject("labs",e,function(i,o){if(i)return console.log(i);o.on("data",function(i){i.includes(n.passData)&&(a=!0,console.log(e+" => "+a)),n.labUserList[t].isPass=a})})},changeLab1(){this.labName="lab1",this.myClazzLabLists()},changeLab2(){this.labName="lab2",this.myClazzLabLists()}}},M=R,B=Object(u["a"])(M,D,L,!1,null,"898acbea",null),U=B.exports;m()(B,{VBtn:p["a"],VCol:f["a"],VContainer:g["a"],VRow:w["a"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{height:"100%"},attrs:{fluid:""}},[e.labInfo?n("v-row",{staticStyle:{height:"100%"},attrs:{"no-gutters":""}},[n("v-navigation-drawer",{attrs:{clipped:"",app:"",width:"400"},model:{value:e.guideOpened,callback:function(t){e.guideOpened=t},expression:"guideOpened"}},[n("div",{staticStyle:{"margin-top":"5px","margin-right":"5px","margin-bottom":"5px"},attrs:{align:"right"}},[n("v-icon",{attrs:{text:""},on:{click:function(t){return e.closeGuide()}}},[e._v("mdi-close")])],1),n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n                    Instruction\n                ")]),n("v-col",[n("v-sheet",{domProps:{innerHTML:e._s(e.labInfo.instructionHtml)}})],1),n("v-divider"),n("v-subheader",[e._v("\n                    Checkpoints\n                ")]),e._l(e.labInfo.checkPoints,function(t,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(a+1)+". "+e._s(t.text))])],1),n("v-list-item-action",[n("v-checkbox",{attrs:{success:"",readonly:!e.isAdmin},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}})],1)],1)})],2),n("v-divider"),e.isAdmin||e.myId==e.userId?n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"4"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.submitResult()}}},[e._v("제출")])],1):e._e()],1),n("lab-tool-"+e.labInfo.tool,{tag:"component",staticStyle:{height:"100% !important",width:"100%"},attrs:{"lab-info":e.labInfo},on:{change:e.onResultChanged},model:{value:e.tool,callback:function(t){e.tool=t},expression:"tool"}})],1):n("v-row",[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)],1)},G=[],K=n("94b6"),J=K["a"],z=n("ac7c"),H=n("ce7e"),W=n("8860"),q=n("da13"),Y=n("1800"),Q=n("5d23"),Z=n("f774"),X=n("8dd9"),ee=n("e0c7"),te=Object(u["a"])(J,F,G,!1,null,null,null),ne=te.exports;m()(te,{VBtn:p["a"],VCheckbox:z["a"],VCol:f["a"],VContainer:g["a"],VDivider:H["a"],VIcon:y["a"],VList:W["a"],VListItem:q["a"],VListItemAction:Y["a"],VListItemContent:Q["a"],VListItemTitle:Q["c"],VNavigationDrawer:Z["a"],VProgressCircular:_["a"],VRow:w["a"],VSheet:X["a"],VSubheader:ee["a"]});var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[e.labInfo?n("v-bottom-sheet",{attrs:{persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"green",dark:""}},"v-btn",i,!1),a),[e._v("\n            미션 보기\n            ")])]}}],null,!1,3601064177),model:{value:e.missionSheet,callback:function(t){e.missionSheet=t},expression:"missionSheet"}},[n("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[n("v-btn",{staticClass:"mt-6",attrs:{text:"",color:"error"},on:{click:function(t){e.missionSheet=!e.missionSheet}}},[e._v("close")]),n("div",{staticClass:"py-3",domProps:{innerHTML:e._s(e.labInfo.instructionHtml)}})],1)],1):e._e(),e.classInfo?n("v-row",[n("v-subheader",[e._v("Class Room Status")]),n("br")],1):e._e(),e.classInfo?n("v-row",[e._l(e.classInfo.groupedUsers,function(t,a){return n("v-col",{key:a,attrs:{align:"center"}},[n("v-card",{attrs:{width:"350px",height:"350px"}},[n("v-card-title",[e._v("\n                    "+e._s(t.groupName)+" ("+e._s(t.passedMemberCount)+"/"+e._s(t.users.length)+")\n                ")]),n("v-card-text",{attrs:{center:""}},[n("v-row",{attrs:{align:"center"}},e._l(t.users,function(t,a){return n("v-col",[e._v("\n\n\n                            "+e._s(e.userMessages[t.email]?e.userMessages[t.email]:"")+"\n                            \n                            "),n("br"),n("v-icon",{attrs:{"x-large":""},on:{click:function(n){return e.selectUser(t)}}},[e._v("\n                                mdi-account-circle\n                            ")]),n("br"),e.userResults[t.email]&&e.userResults[t.email].allPassed?n("font",{attrs:{color:"green"}},[n("b",[e._v(e._s(t.name)+" "),n("br"),e._v(" "+e._s(e.userResults[t.email]?e.userResults[t.email].passMessage:"..."))])]):n("div",[e._v("\n                                "+e._s(t.name)+" "),n("br"),e._v(" "+e._s(e.userResults[t.email]?e.userResults[t.email].passMessage:"...")+"\n                            ")])],1)}),1)],1)],1)],1)}),e.selectedUser?n("v-col",[n("v-navigation-drawer",{attrs:{clipped:"",app:"",stateless:"",width:"400"},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}},[n("div",{staticStyle:{"margin-top":"5px","margin-right":"5px","margin-bottom":"5px"},attrs:{align:"right"}},[n("v-icon",{attrs:{text:""},on:{click:function(t){return e.unselectUser()}}},[e._v("mdi-close")])],1),n("v-divider"),n("v-icon",{style:{color:e.selectedUser.color},attrs:{"x-large":""}},[e._v("\n                    mdi-account-circle\n                ")]),e._v("\n                "+e._s(e.selectedUser.name)+" - "+e._s(e.selectedUser.email)+"\n                "),n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n                        Checkpoints\n                    ")]),e._l(e.userResults[e.selectedUser.email],function(t,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(a+1)+". "+e._s(t.text))])],1),n("v-list-item-action",[n("v-checkbox",{attrs:{success:"",readonly:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}})],1)],1)})],2),n("v-divider"),e.log?n("v-list",[n("v-subheader",[e._v("\n                        Logs\n                    ")]),n("log-viewer",{model:{value:e.log,callback:function(t){e.log=t},expression:"log"}})],1):e._e(),n("v-divider"),n("v-col",{staticClass:"text-center"},[e.selectedUser.email==e.myId?n("answer",{attrs:{"lab-info":e.labInfo,"class-info":e.classInfo}}):e._e()],1),n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"4"}},[n("v-btn",{attrs:{to:"/courses/"+e.courseId+"/"+e.classId+"/"+e.labId+"/"+e.selectedUser.email,large:"",color:"primary"}},[e._v("랩실 보기\n                    ")])],1)],1)],1):e._e()],2):n("v-row",[n("v-col",[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)],1),e.isAdmin?n("question",{attrs:{"lab-info":e.labInfo,"class-info":e.classInfo}}):e._e()],1)},ie=[],oe=n("46e1"),re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"답을 입력하세요"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),n("v-btn",{attrs:{large:"",text:"",color:"primary"},on:{click:function(t){return e.submitAnswer()}}},[e._v("답안 제출\n    ")])],1)},le=[],se={name:"Answer",components:{},mixins:[oe["a"]],data:()=>({isAdmin:!1,dialog:!1,answer:""}),props:{labInfo:Object,classInfo:Object},created(){var e=this;"admin"==window.localStorage.getItem("authorized")&&(e.isAdmin=!0)},computed:{},watch:{},mounted(){},destroyed(){},methods:{submitAnswer(){console.log(this.userId);var e=`${this.courseId}/runningClass/${this.classId}/messages/${this.answer}.${this.myId}.txt`;this.putString(e,this.answer)},clearAnswer(){}}},ce=se,ue=n("a844"),de=Object(u["a"])(ce,re,le,!1,null,null,null),me=de.exports;m()(de,{VBtn:p["a"],VTextarea:ue["a"]});var pe=n("451e"),ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{clipped:"",app:"",stateless:"",width:"400"},model:{value:e.value.drawer,callback:function(t){e.$set(e.value,"drawer",t)},expression:"value.drawer"}},[n("div",{staticStyle:{"margin-top":"5px","margin-right":"5px","margin-bottom":"5px"},attrs:{align:"right"}},[n("v-icon",{attrs:{text:""},on:{click:function(t){return e.closeNavi()}}},[e._v("mdi-close")])],1),n("v-divider"),n("v-icon",{style:{color:e.value.userInfo.color},attrs:{"x-large":""}},[e._v("\n        mdi-account-circle\n    ")]),e._v("\n    "+e._s(e.value.userInfo.name)+" - "+e._s(e.value.userInfo.email)+"\n    "),n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n            CheckPoint\n        ")]),e._l(e.value.userInfo.labsData.checkPoints,function(t,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(a+1)+". "+e._s(t.text))])],1),n("v-list-item-action",[e.renderComponent&&(t.javascript||t.regExp)?n("v-checkbox",{attrs:{success:"",readonly:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}}):e.renderComponent?n("v-checkbox",{attrs:{success:""},model:{value:t.status,callback:function(n){e.$set(t,"status",n)},expression:"item.status"}}):e._e()],1)],1)})],2),n("v-divider"),e.value.userInfo.logs?n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v("\n            Logs\n        ")]),n("log-viewer",{model:{value:e.value.userInfo.logs,callback:function(t){e.$set(e.value.userInfo,"logs",t)},expression:"value.userInfo.logs"}})],1):n("v-list",{attrs:{dense:"",align:"center"}},[n("v-subheader",[e._v("\n            Logs\n        ")]),e._v("\n        로그 없음.\n    ")],1),n("v-divider"),e.isAdmin||e.value.userInfo.email==e.email?n("v-btn",{attrs:{primary:""},on:{click:function(t){return e.startLab(e.value.userInfo.labsData,e.value.userInfo.email)}}},[e._v("Start\n    ")]):e._e()],1)},he=[],fe=n("aa33"),ge=fe["a"],ye=Object(u["a"])(ge,ve,he,!1,null,"2c515564",null),be=ye.exports;m()(ye,{VBtn:p["a"],VCheckbox:z["a"],VDivider:H["a"],VIcon:y["a"],VList:W["a"],VListItem:q["a"],VListItemAction:Y["a"],VListItemContent:Q["a"],VListItemTitle:Q["c"],VNavigationDrawer:Z["a"],VSubheader:ee["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isAdmin?n("v-speed-dial",{attrs:{left:"",absolute:"",bottom:"",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-btn",{staticStyle:{"margin-bottom":"50px"},attrs:{color:"pink",fab:"",dark:"",medium:""},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?n("v-icon",[e._v("mdi-close")]):n("v-icon",[e._v("mdi-cloud-question")])],1)]},proxy:!0}],null,!1,4084130586),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:e.openQuestionDialog}},[n("v-icon",[e._v("mdi-pencil")])],1),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(t){return e.submitUserAnswer()}}},[n("v-icon",[e._v("mdi-pencil")])],1),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.clearMessages()}}},[n("v-icon",[e._v("mdi-delete")])],1)],1):e._e(),n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                "+e._s(e.labInfo.labName)+"\n            ")]),n("v-card-text",[n("v-radio-group",{attrs:{mandatory:!1,row:""},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},e._l(e.questionTypeList,function(e){return n("v-radio",{key:e.value,attrs:{label:""+e.label,value:e.value}})}),1),"choice"==e.questionType?n("div",[n("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"문제"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}}),n("v-slider",{attrs:{min:"1",max:"5","thumb-size":24,"thumb-label":"always",label:"객관식 갯수"},model:{value:e.choice,callback:function(t){e.choice=t},expression:"choice"}}),e._l(e.choice,function(t){return n("v-text-field",{attrs:{label:t+"번",outlined:""},model:{value:e.choiceList[t-1],callback:function(n){e.$set(e.choiceList,t-1,n)},expression:"choiceList[n-1]"}})})],2):e._e(),"short"==e.questionType?n("div",[n("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"문제"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}})],1):e._e()],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.postQuestion()}}},[e._v("\n                    문제 보내기\n                ")])],1)],1)],1)],1)},we=[],xe={name:"Question",components:{},mixins:[oe["a"]],data:()=>({isAdmin:!1,dialog:!1,questionTypeList:[{label:"주관식",value:"short"},{label:"객관식",value:"choice"}],questionType:"",choice:1,question:"",choiceList:[],fab:!1}),props:{labInfo:Object,classInfo:Object},created(){var e=this;"admin"==window.localStorage.getItem("authorized")&&(e.isAdmin=!0)},computed:{},watch:{},mounted(){},destroyed(){},methods:{openQuestionDialog(){this.dialog=!0},clearMessages(){var e=this,t=`${this.courseId}/runningClass/${this.classId}/messages/`,n=e.$minioClient.listObjects("labs",t);n.on("data",function(t){e.delete(t.name)})},submitUserAnswer(){},postQuestion(){if(console.log(this.questionType),console.log(this.question),"choice"==this.questionType)var e={questionType:this.questionType,question:this.question,choiceList:this.choiceList};else if("short"==this.questionType)e={questionType:this.questionType,question:this.question};var t=`${this.courseId}/runningClass/${this.classId}/labs/${this.labId}/question/question.json`;this.putObject(t,e),this.dialog=!1}}},ke=xe,Ce=n("169a"),Se=n("67b6"),Ee=n("43a6"),$e=n("ba0d"),Ve=n("c73b"),Ie=Object(u["a"])(ke,_e,we,!1,null,null,null),Oe=Ie.exports;m()(Ie,{VBtn:p["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VDialog:Ce["a"],VDivider:H["a"],VIcon:y["a"],VRadio:Se["a"],VRadioGroup:Ee["a"],VSlider:$e["a"],VSpacer:x["a"],VSpeedDial:Ve["a"],VTextField:P["a"],VTextarea:ue["a"]});var Te={name:"ClassRoom",components:{Question:Oe,LogViewer:pe["a"],UserNavigator:be,Answer:me,Question:Oe},mixins:[oe["a"]],data:()=>({classInfo:null,userResults:{},userMessages:{},labInfo:null,pollingJob:null,isAdmin:!1,selectedUser:null,log:"not loaded yet",show:!0,missionSheet:!1}),created(){var e=this;"admin"==window.localStorage.getItem("authorized")&&(e.isAdmin=!0)},computed:{},watch:{},mounted(){var e=this;this.loadLabInfo(),this.loadClassInfo(),e.pollingJob=setInterval(function(){e.loadAllUserResults(),e.loadLog(),e.loadAllUserMessages()},5e3)},destroyed(){var e=this;clearInterval(e.pollingJob)},methods:{async loadAllUserResults(){var e=this;this.classInfo.groupedUsers.forEach(function(t,n){t.users.forEach(function(t,n){e.loadUserResult(t.email)})}),e.userResults.__ob__.dep.notify()},async selectUser(e){this.selectedUser=e,this.log=null},checkScore(){},unselectUser(){this.selectedUser=null},async loadLabInfo(){this.labInfo=await this.getLabInfo()},async loadLog(){var e=this;if(e.selectedUser)try{var t=await e.getString(`${e.courseId}/runningClass/${e.classId}/labs/${e.labId}/${e.selectedUser.email}/result.log`);this.log=t}catch(n){console.log(n)}},async loadAllUserMessages(){var e=this,t=await e.list(`${e.courseId}/runningClass/${e.classId}/messages/`);e.userMessages={},e.classInfo.groupedUsers.forEach(n=>{n.users.forEach(n=>{t.forEach(t=>{if(t.endsWith(n.email+".txt")){var a=t.split(".")[0].split("/");e.userMessages[n.email]=a[a.length-1]}})})}),e.userMessages.__ob__.dep.notify()},async loadClassInfo(){this.classInfo=await this.getClassInfo(),this.classInfo.__ob__.dep.notify()},async loadUserResult(e){try{var t=await this.getObject(`${this.courseId}/runningClass/${this.classId}/labs/${this.labId}/${e}/checkpointResults.json`);this.userResults[e]=t;var n=this.getPassInfo(e);n?(this.userResults[e].passMessage=n.passed+"/"+n.all,this.userResults[e].allPassed=n.passed==n.all):this.userResults[e].passMessage="N/A",this.calculateGroupStatus()}catch(a){}},calculateGroupStatus(){this.classInfo.groupedUsers.forEach(e=>{var t=0;e.users.forEach(e=>{e.allPassed&&t++}),e.passedMemberCount=t}),this.classInfo.groupedUsers.__ob__.dep.notify()},getPassInfo(e){var t=this.userResults[e];if(t){for(var n=0,a=0;a<t.length;a++)t[a].status&&n++;return{passed:n,all:t.length}}return null}}},Pe=Te,Ne=n("288c"),je=Object(u["a"])(Pe,ae,ie,!1,null,null,null),De=je.exports;m()(je,{VBottomSheet:Ne["a"],VBtn:p["a"],VCard:v["a"],VCardText:h["b"],VCardTitle:h["c"],VCheckbox:z["a"],VCol:f["a"],VContainer:g["a"],VDivider:H["a"],VIcon:y["a"],VList:W["a"],VListItem:q["a"],VListItemAction:Y["a"],VListItemContent:Q["a"],VListItemTitle:Q["c"],VNavigationDrawer:Z["a"],VProgressCircular:_["a"],VRow:w["a"],VSheet:X["a"],VSubheader:ee["a"]});var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{align:"center"}},[n("h1",[e._v("\n            "+e._s(e.classInfo.className))]),n("v-timeline",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},e._l(e.labs,function(t,a){return n("v-timeline-item",{key:a,attrs:{color:"purple lighten-2","fill-dot":"",left:a%2==0,right:a%2==1}},[n("v-card",{staticStyle:{width:"400px"}},[n("v-card-title",[n("v-chip",{attrs:{color:"completed"==t.status?"green":"primary"}},[e._v(e._s(t.labId))]),e._v("\n                            "+e._s(t.labName)+"\n                        ")],1),n("v-card-text",[e._v("\n                            "+e._s(t.labScenario)+" "),n("br"),e._v("\n                            "+e._s(t.labTime)+"분 이내 완료\n                        ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{to:e.$route.fullPath+"/"+t.labId+"/class-room"}},[e._v("입장")])],1)],1)],1)}),1)],1)],1)],1)},Ae=[],Re={name:"ClassDetail",components:{},mixins:[oe["a"]],data:()=>({courseInfo:null,classInfo:null,labs:[]}),computed:{},watch:{},mounted(){this.load()},methods:{async load(){this.courseInfo=await this.getCourseInfo(),this.classInfo=await this.getClassInfo();for(var e=this,t=0;t<this.classInfo.labsList.length;t++)e.labs[t]=await e.getLabInfo(this.classInfo.labsList[t]),e.labs[t].labId=this.classInfo.labsList[t],e.labs.__ob__.dep.notify()}}},Me=Re,Be=n("cc20"),Ue=n("8414"),Fe=n("1e06"),Ge=Object(u["a"])(Me,Le,Ae,!1,null,null,null),Ke=Ge.exports;m()(Ge,{VBtn:p["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VChip:Be["a"],VCol:f["a"],VContainer:g["a"],VRow:w["a"],VSpacer:x["a"],VTimeline:Ue["a"],VTimelineItem:Fe["a"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.value&&"org.uengine.uml.ClassDiagram"==e.value._type?n("class-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e(),e.value&&"org.uengine.kernel.ProcessDefinition"==e.value._type?n("process-designer",{attrs:{value:e.value,id:e.path,backend:e.backend}}):e._e()],1)},ze=[],He={props:{backend:Object,path:String},data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){this.load()},methods:{load:function(){var e=this;e.value=null,e.$nextTick(function(){var t={};e.backend.$bind("definition/raw/"+e.path+".json",t),t.$load().then(function(t){t&&(e.value=t.definition)})})}}},We=He,qe=Object(u["a"])(We,Je,ze,!1,null,null,null),Ye=qe.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("md-layout",[n("md-layout",{attrs:{"md-flex":"20"}},[e.id&&e.id.indexOf("@")>-1?n("md-layout",[e.isProduction?n("div",[n("md-button",{staticClass:"md-primary"},[e._v("this is production (rev. "+e._s(e.id.substring(e.id.indexOf("@")+1))+")")])],1):n("md-button",{staticClass:"md-raised md-accent",on:{click:e.markProduction}},[e._v("Mark Production (rev\n          "+e._s(e.id.substring(e.id.indexOf("@")+1))+")\n        ")])],1):e._e(),e.versions?n("md-layout",[n("md-button",{staticClass:"md-primary",on:{click:e.loadVersions}},[e._v("latest version")])],1):e._e(),e.monitor?n("md-list",{staticClass:"tree-list"},[n("bpmn-tree-list",{attrs:{trees:e.trees}})],1):e._e()],1),n("md-layout",{nativeOn:{contextmenu:function(t){return e.openMenu(t)},mousedown:function(t){return e.closeMenu(t)}}},[0==e.loaded?n("div",{staticStyle:{position:"absolute",left:"48%",top:"37%","z-index":"99999"}},[n("md-spinner",{staticStyle:{"z-index":"99999"},attrs:{"md-size":90,"md-indeterminate":""}})],1):e._e(),e.definition?n("bpmn-vue",{ref:"bpmn-vue",style:e.cursorStyle,attrs:{definition:e.definition,monitor:e.monitor,backend:e.backend,dragPageMovable:e.dragPageMovable,loaded:e.loaded},on:{"update:definition":function(t){e.definition=t},bpmnReady:e.bindEvents,"update:loaded":function(t){e.loaded=t}}}):e._e(),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"100px"}},[n("span",{staticClass:"bpmn-icon-hand-tool hands",style:e.handsStyle,attrs:{_width:"30",_height:"30"},on:{click:e.changeMultiple}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Drag On/Off")])],1),e._l(e.dragItems,function(t){return n("span",{staticClass:"icons draggable",class:t.icon,attrs:{_component:t.component,_width:t.width,_height:t.height}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v(e._s(t.label))])],1)})],2),e.monitor?e._e():n("md-card",{staticClass:"tools",staticStyle:{top:"427px"}},[n("span",{staticClass:"icons fa fa-undo",staticStyle:{"margin-left":"7px"},on:{click:e.undo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Undo")])],1),n("span",{staticClass:"icons fa fa-repeat",staticStyle:{"margin-left":"7px"},on:{click:e.redo}},[n("md-tooltip",{attrs:{"md-direction":"right"}},[e._v("Redo")])],1)]),n("md-layout",[e.monitor?e._e():n("md-layout",[n("md-input-container",[n("label",[e._v("Process Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.definitionName,callback:function(t){e.definitionName=t},expression:"definitionName"}})],1)],1),e.versions?n("md-layout",[n("md-input-container",[n("label",[e._v("Revision")]),n("md-select",{on:{change:e.changeVersion},model:{value:e.selectedVersion,callback:function(t){e.selectedVersion=t},expression:"selectedVersion"}},e._l(e.versions.slice().reverse(),function(t){return n("md-option",{attrs:{value:t}},[e._v("rev. "+e._s(t.ver)+"\n                "),e.productionVersionId==t.versionId?n("md-chip",[e._v("production")]):e._e()],1)}),1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openDefinitionSettings}},[n("md-icon",[e._v("settings")]),e._v("\n            Settings\n          ")],1)],1),e.monitor?e._e():n("md-layout",[n("md-button",{attrs:{c:"",lass:"md-primary",id:"processVariables"},on:{click:e.openProcessVariables}},[n("md-icon",[e._v("sort_by_alpha")]),e._v("\n            Vars\n          ")],1)],1),!e.monitor&&e.definition?n("md-layout",{staticStyle:{"max-width":"200px"}},[n("md-input-container",[n("label",[e._v("Language")]),n("md-select",{on:{change:e.changeLocale},model:{value:e.definition._selectedLocale,callback:function(t){e.$set(e.definition,"_selectedLocale",t)},expression:"definition._selectedLocale"}},[n("md-option",{attrs:{value:"ko"}},[e._v("Korean")]),n("md-option",{attrs:{value:"en"}},[e._v("English")])],1)],1)],1):e._e(),e.monitor?e._e():n("md-layout",{staticStyle:{"margin-left":"30px"}},[e.monitor?e._e():n("md-button",{staticClass:"md-fab md-primary md-mini",on:{click:e.initiateProcess}},[n("md-icon",[e._v("play_arrow")])],1),e.monitor?e._e():n("md-button",{staticClass:"md-fab md-warn md-mini",on:{click:e.save}},[e.id&&-1==e.id.indexOf("@")?n("md-icon",[e._v("save")]):n("md-icon",[e._v("history")])],1)],1),e.monitor?n("md-layout",[n("md-input-container",[n("label",[e._v("Instance Name")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.instanceName,callback:function(t){e.instanceName=t},expression:"instanceName"}})],1)],1):e._e(),e.monitor?n("md-layout",[n("md-button",{attrs:{id:"instanceVariables"},on:{click:e.openInstanceVariables}},[e._v("Variables")]),e.definition?n("bpmn-instance-variables",{ref:"instanceVariables",attrs:{id:e.instanceId,definition:e.definition}}):e._e(),n("md-button",{attrs:{id:"userPicker"},on:{click:e.openUserPicker}},[e._v("Role Mappings")]),e.definition?n("user-picker",{ref:"userPicker",staticStyle:{"min-width":"70%"},attrs:{id:e.instanceId,roles:e.definition.roles}}):e._e()],1):e._e()],1)],1)],1),e._m(0),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},Ze=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"custom-menu"},[n("li",{attrs:{"data-action":"backToHere"}},[e._v("Back To Here")])])}],Xe={props:{monitor:Boolean,backend:Object,id:String,value:{default:function(){return{_type:"org.uengine.kernel.ProcessDefinition",name:{},childActivities:["java.util.ArrayList",[]],sequenceFlows:[],_selectedLocale:"ko",_changedByLocaleSelector:!1}},type:Object},instanceId:String,rootInstanceId:String},data(){return{loaded:!1,copyActivity:[],beforeTracing:[],afterTracing:[],contextMenuActivated:!1,definition:null,definitionName:null,instanceName:null,processVariables:[],dialog:!1,items:[],active:!1,mode:"editor",shapeMenu:!1,dragPageMovable:!1,cursorStyle:null,handsStyle:null,versions:null,selectedVersion:null,isProduction:!1,productionVersionId:null,dragItems:[{icon:"bpmn-icon-start-event-none",component:"bpmn-start-event",label:"Start Event",width:"30",height:"30"},{icon:"bpmn-icon-intermediate-event-none",component:"bpmn-intermediate-event",label:"Intermediate Event",width:"30",height:"30"},{icon:"bpmn-icon-end-event-none",component:"bpmn-end-event",label:"End Event",width:"30",height:"30"},{icon:"bpmn-icon-gateway-xor",component:"bpmn-exclusive-gateway",label:"Gateway",width:"40",height:"40"},{icon:"bpmn-icon-task",component:"bpmn-task",label:"Task",width:"100",height:"70"},{icon:"bpmn-icon-subprocess-expanded",component:"bpmn-subprocess",width:"200",height:"150"},{icon:"bpmn-icon-participant",component:"bpmn-role",label:"Role Lane",width:"400",height:"200"}],trees:[],bthTracingTag:""}},computed:{},mounted(){$(document).keydown(e=>{67==e.keyCode&&(e.metaKey||e.ctrlKey)&&this.copy()}),$(document).keydown(e=>{86==e.keyCode&&(e.ctrlKey||e.metaKey)&&this.paste()}),$(document).keydown(e=>{46!=e.keyCode&&8!=e.keyCode||this.deleteActivity()});var e=this;e.setMode(),$(".custom-menu li").click(function(){switch($(this).attr("data-action")){case"backToHere":e.onBackToHere();break}$(".custom-menu").hide(0)})},watch:{instanceId:function(e){this.setMode()}},methods:{changeMultiple:function(){0==this.dragPageMovable&&0==this.active?(this.dragPageMovable=!0,this.active=!0,this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):1==this.dragPageMovable&&1==this.active&&(this.dragPageMovable=!1,this.active=!1,this.cursorStyle=null,this.handsStyle=null)},openProcessVariables(){this.$refs["bpmn-vue"].openProcessVariables()},openDefinitionSettings(){this.$refs["bpmn-vue"].openDefinitionSettings()},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&($(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.$refs["bpmn-vue"].addComponenet(o)}a.removeData("DRAG_SHAPE")}}))},copy:function(){var e=this;e.copyActivity=[],e.copySquenceFlow=[],this.definition.childActivities[1].forEach(function(t){t&&t._selected&&(e.copyActivity.push(t),e.beforeTracing=e.copyActivity.map(function(e){var t=e.tracingTag;return t}))}),e.copyActivity.length>0?e.$root.$children[0].success("Copied."):e.$root.$children[0].success("Not Selected")},deleteActivity:function(){for(var e=this,t=[],n=e.$children[0].$children[1].$children[3],a=!1,i=0;i<n.$children[0].$children.length;i++)1==n.$children[0].$children[i].drawer&&(a=!0);if(0==a){for(var o=0;o<e.definition.childActivities[1].length;o++)null!=e.definition.childActivities[1][o]&&1==e.definition.childActivities[1][o]._selected&&(t.push(e.definition.childActivities[1][o].tracingTag),e.definition.childActivities[1][o]=null);for(var r=0;r<e.definition.sequenceFlows.length;r++)if(e.definition.sequenceFlows[r])for(var l=0;l<t.length;l++)if(e.definition.sequenceFlows[r].sourceRef==t[l])for(var s=0;s<t.length;s++)e.definition.sequenceFlows[r].targetRef==t[s]&&(e.definition.sequenceFlows[r]=null);for(s=0;s<e.definition.sequenceFlows.length;s++)null!=e.definition.sequenceFlows[s]&&1==e.definition.sequenceFlows[s].selected&&(e.definition.sequenceFlows[s]=null);for(l=0;l<e.definition.messageFlows.length;l++)null!=e.definition.messageFlows[l]&&1==e.definition.messageFlows[l].selected&&(e.definition.messageFlows[l]=null)}var c=e.definition.sequenceFlows;e.definition.sequenceFlows=null,e.definition.sequenceFlows=c},paste:function(){for(var e=this,t=e.$refs["bpmn-vue"],n=!1,a=0;a<t.$children[0].$children.length;a++)1==t.$children[0].$children[a].drawer&&(n=!0);0==n&&(e.afterTracing=[],e.copyActivity.forEach(function(n){var a=JSON.parse(JSON.stringify(n)),i=parseInt(n.elementView.x+20),o=parseInt(n.elementView.y+20);a.tracingTag=t.createNewTracingTag(e.definition),a._selected=!1,a.elementView.x=i,a.elementView.y=o,a.elementView.id=a.tracingTag,e.afterTracing.push(a.tracingTag),e.definition.childActivities[1].push(a)}),e.definition.sequenceFlows.forEach(function(t,n,a){if(t)for(var i=JSON.parse(JSON.stringify(t)),o=0;o<e.beforeTracing.length;o++)if(i.sourceRef==e.beforeTracing[o])for(var r=0;r<e.beforeTracing.length;r++)i.targetRef==e.beforeTracing[r]&&(i.sourceRef=e.afterTracing[o],i.targetRef=e.afterTracing[r],i.relationView.value="",e.definition.sequenceFlows.push(i))}))},undo:function(){this.$refs["bpmn-vue"].undo()},redo:function(){this.$refs["bpmn-vue"].redo()},setMode:function(){var e=this;e.loaded=!1,e.definition=null,e.$nextTick(function(){e.monitor?e.getInstance():e.getDefinition()})},getInstance:function(){var e=this,t={};e.backend.$bind("instance/"+e.instanceId,t),t.$load().then(function(t){e.instanceName=t.name,t.definition.$load().then(function(t){e.definitionName=t.name,t.raw.$load().then(function(t){var n=t.definition;e.loadStatus(n),e.treeStructure()})})})},loadVersions:function(){var e=this,t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(t){e.productionVersionId=t.prodVerId,t.versions&&t.versions.$load().then(function(t){t&&t.length>0&&(e.versions=t,e.selectedVersion=t[t.length-1])})})},changeVersion:function(){window.open("#/definition/"+this.id+"@"+this.selectedVersion.versionId,"_blank")},markProduction:function(){var e=this,t={};e.backend.$bind("version/"+e.id.substring(e.id.indexOf("@")+1),t),t.$load().then(function(){t.makeProduction.$create().then(function(){e.$root.$children[0].success("설정되었습니다."),e.isProduction=!0},function(){e.$root.$children[0].error("저장할 수 없습니다.")})})},treeStructure:function(){var e=this,t={};e.backend.$bind("instances/search/findChild?instId="+e.rootInstanceId,t);var n=[];t.$load().then(function(t){for(var a in t)if(t[a]instanceof Object){var i=t[a].$bind.self,o=i.substring(i.lastIndexOf("/")+1,i.length);n[a]={name:t[a].defName,id:parseInt(o),rootInstId:t[a].rootInstId,mainInstId:t[a].mainInstId,children:[]}}e.trees=e.listToTree(n,e.rootInstanceId)})},listToTree:function(e,t){var n=[],a=JSON.parse(JSON.stringify(e)),i=function(n){var o=n.id;e.forEach(function(e,r){e.id!=o&&e.id!=t&&e.mainInstId==o&&(n.children.push(a[r]),i(a[r]))})};return e.forEach(function(e,o){e.id==t&&(n.push(a[o]),i(a[o]))}),n},loadStatus:function(e){var t=this;t.$root.codi("instance{/id}/variables").get({id:t.instanceId}).then(function(n){for(var a in n.data){var i=a.split(":");if(i&&i.length>1){var o=i[0],r=i[1],l=t.getActivity(o,e);l&&(l._instanceInfo||(l._instanceInfo={}),l._instanceInfo[r]=n.data[a],"_status"==r&&(l.status=n.data[a]))}}t.definition=e})},getActivity:function(e,t){var n=this;for(var a in t||(t=n.definition),t.childActivities[1])if(t.childActivities[1][a]["tracingTag"]==e)return t.childActivities[1][a]},updateElementStatus:function(e,t){},getDefinition:function(){var e=this,t=JSON.parse(JSON.stringify(e.value));t._selectedLocale="ko",t._changedByLocaleSelector=!1,e.definition=t,e.definitionName=e.definition.name.text,e.changeLocale(),this.loadVersions()},save:function(e){var t=this,n=JSON.parse(JSON.stringify(t.definition));if(t.definitionName||(t.definitionName=prompt("Specify definition name"),t.definitionName)){t.id||(t.id=t.definitionName),n.name.text=t.definitionName;var a=function(e){return e.filter(function(e){return!!e})};n.roles=a(n.roles);var i=function(e){e&&(e.sequenceFlows&&e.sequenceFlows.length&&(e.sequenceFlows=a(e.sequenceFlows)),e.messageFlows&&e.messageFlows.length&&(e.messageFlows=a(e.messageFlows)),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&(e.childActivities[1]=a(e.childActivities[1]),$.each(e.childActivities[1],function(e,n){"org.uengine.kernel.HumanActivity"==n._type&&(n.role.name=t.$refs["bpmn-vue"].getWhereRoleAmIByTracingTag(n.tracingTag)),i(n)})))};i(n,null),n.shortDescription=this.$refs["bpmn-vue"].defintionSettings.shortDescription;var o={};t.backend.$bind("definition/raw/"+t.id+".json",o),o.definition=n,o.$save().then(function(n){t.$root.$children[0].success("저장되었습니다."),t.loadVersions(),e&&"function"===typeof e&&e(n)},function(e){t.$root.$children[0].error("저장할 수 없습니다.")}),t.$refs["modeler-image-generator"].save(t.id,t.$refs["bpmn-vue"].canvas)}},initiateProcess:function(){var e=this;this.save(function(){var t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(e){e.instantiation.$create(null,{simulation:!0}).then(function(e){window.open("#/instance/"+e.instanceId+"/"+e.instanceId,"_blank")})})})},openInstanceVariables(e){this.$refs["instanceVariables"].openInstanceVariables()},openUserPicker(e){this.$refs["userPicker"].openUserPicker()},openMenu(e){var t=this;t.monitor&&t.instanceOpenMenu(e)},instanceOpenMenu(e){e.preventDefault();var t=this,n=t.definition.childActivities[1],a="",i="";for(var o in n)n[o].tracingTag==e.toElement.parentNode.id&&(a=n[o]._type,i=n[o].status,t.bthTracingTag=n[o].tracingTag,n[o].faultMessage&&n[o]._faultMessage);a=a.substring(a.lastIndexOf(".")+1,a.length),"Task"!=a&&"SendTask"!=a&&"ReceiveTask"!=a&&"UserTask"!=a&&"ManualTask"!=a&&"BusinessTask"!=a&&"ServiceTask"!=a&&"ScriptTask"!=a&&"HumanActivity"!=a&&"DefaultActivity"!=a||"Completed"==i&&$(".custom-menu").finish().show(0).css({top:e.offsetY+"px",left:e.offsetX+"px"})},closeMenu(){!$(event.target).parents(".custom-menu").length>0&&$(".custom-menu").hide(0)},onBackToHere(){var e=this,t="instance/"+e.instanceId+"/activity/"+e.bthTracingTag+"/backToHere",n={};e.backend.$bind(t,n),n.$create().then(function(){e.$root.$children[0].success("작업 내역을 선택한 위치로 되돌렸습니다."),setInterval(function(){e.$router.go(e.$router.currentRoute)},1500)})},changeLocale(){var e=this;e.definition._changedByLocaleSelector=!0,e.definition.childActivities&&e.definition.childActivities[1].forEach(function(t){t&&t.name&&t.name.localedTexts&&t.name.localedTexts[e.definition._selectedLocale]&&(t.name.text=t.name.localedTexts[e.definition._selectedLocale])})}}},et=Xe,tt=(n("2b46"),Object(u["a"])(et,Qe,Ze,!1,null,"5391b3fc",null)),nt=tt.exports,at=n("72ea"),it=n("2382"),ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"image-gen",staticStyle:{display:"none"}})},rt=[],lt={data(){return{value:null}},watch:{path:function(e){this.load()}},computed:{},mounted(){},methods:{load:function(e){return localStorage["svg-"+e]},save:function(e,t){var n=this;if(t){var a=t._RENDERER.getRootElement(),i=(new XMLSerializer).serializeToString(a);return new Promise(function(e,t){var a=n.$refs["image-gen"];o(a,i,function(){e(a.toDataURL())})})}function o(e,t,n){var a=e.getContext("2d"),i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),o=self.URL||self.webkitURL||self,r=o.createObjectURL(i),l=new Image;l.onload=function(){e.width=2e3,e.height=1e3;try{return a.drawImage(l,0,0,2e3,1e3,0,0,2e3,1e3),o.revokeObjectURL(r),n(this),$(l).remove(),e.toDataURL()}catch(t){$(l).remove()}},l.src=r}}}},st=lt,ct=Object(u["a"])(st,ot,rt,!1,null,null,null),ut=ct.exports,dt=n("dcd5"),mt=n("9ee1"),pt=n("f47d"),vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"fixed","text-align":"center","background-color":"#1e1e1e",height:"100%",width:"100%"}},[n("v-progress-circular",{staticStyle:{"margin-top":"25%",color:"#1976d2 !important"},attrs:{size:130,color:"primary",indeterminate:""}},[e._v("\n        "+e._s(e.checkTime)+"초 진행중...\n    ")])],1)},ht=[],ft={name:"IdeLoadingPage",data(){return{intervalVariable:"",timeOutVariable:"",checkTime:0}},mounted(){var e=this;e.intervalVariable=setInterval(()=>e.checkStatus(),5e3),e.checkTimeVariable=setInterval(()=>e.checkTime=e.checkTime+1,1e3)},methods:{checkStatus(){var e=this;this.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/${e.$route.query.param}/status`).then(function(t){if(t.data.spec.containers[0].readinessProbe.successThreshold>0){console.log("done"),clearInterval(e.intervalVariable);var n="http://"+e.$route.query.param+".msastudy.io/";console.log(n),setTimeout(function(){clearInterval(e.checkTimeVariable),window.location.href=n},6e4)}}).catch(function(e){})}}},gt=ft,yt=Object(u["a"])(gt,vt,ht,!1,null,"f7e88baa",null),bt=yt.exports;m()(yt,{VProgressCircular:_["a"]}),a["a"].use(i["a"]),a["a"].component("modeler-router",Ye),a["a"].component("modeler-image-generator",ut),a["a"].component("process-designer",nt),a["a"].component("event-modeler",at["default"]),a["a"].component("class-modeler",it["default"]),a["a"].component("class-modeler",pt["default"]),a["a"].component("view-modeler",dt["a"]),a["a"].component("view-modeling-designer",mt["default"]);t["a"]=new i["a"]({base:"/",routes:[{path:"/",name:"EventStormingListPage",component:o["a"]},{path:"/storming/:userUid/:projectType/:projectId/:projectVersion",name:"EventStormingCanvas",component:at["default"]},{path:"/IdeLoadingPage",name:"IdeLoadingPage",component:bt},{path:"/kubernetes/:userUid/:projectType/:projectId/:projectVersion",name:"KubeModelingCanvas",component:pt["default"]},{path:"/courses",name:"classList",component:C},{path:"/courses/labAdminTest",name:"labAdminTest",component:j},{path:"/courses/:courseId/:classId",name:"ClassRounge",component:Ke},{path:"/courses/:courseId/:classId/:labId",name:"labLocator",component:ne},{path:"/courses/:courseId/:classId/:labId/class-room",name:"classRoom",component:De},{path:"/courses/:courseId/:classId/:labId/:userId",name:"labLocator",component:ne},{path:"/courses/monitor",name:"monitor",component:U},{path:"/courses/:course/:clazzName/:labName/eventstorming",name:"EventStormingCanvas",component:at["default"]}]})},"428b":function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n| fileName: {{namePascalCase}}Repository.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},"446f":function(e,t,n){var a={"./ClassModeler.vue":"2382","./EventModeler.vue":"72ea","./UMLelements/ClassRelation.vue":"56e1","./UMLelements/classDefinition.vue":"884a","./elements/Actor.vue":"e8e5","./elements/AggregateDefinition.vue":"57a6","./elements/BoundedContext.vue":"1150","./elements/ClassDefinition.vue":"62f8","./elements/ClassRelation.vue":"9241","./elements/CommandDefinition.vue":"6e2d","./elements/DomainEventDefinition.vue":"84db","./elements/ExternalDefinition.vue":"cc89","./elements/PolicyDefinition.vue":"8a68","./elements/ViewDefinition.vue":"2b3a"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="446f"},4482:function(e,t,n){},"451e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[e.value?n("codemirror",{ref:"codemirror",attrs:{value:e.value,options:e.cmOption,height:"200px"},on:{ready:e.onCmReady,Focus:e.onCmFocus,input:e.onCmCodeChange}}):e._e()],1)],1)},i=[],o=(n("ced0"),n("47ac"),n("959b"),n("dc5b"),n("02f0"),n("d5e0"),n("db91"),n("a7be"),n("7ba3"),n("4ba6"),{props:{value:String},data(){return{}},computed:{cmOption(){if(this.value.length>0){var e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/shell",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:!0,scrollbarStyle:null,lineWiseCopyCut:!0};return e}}},watch:{},methods:{onScroll(e){},onCmReady(e){},onCmFocus(e){},onCmCodeChange(e){}},mounted(){},beforeDestroy(){console.log("aaa")}}),r=o,l=(n("0679"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("a523"),m=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=m.exports;c()(m,{VCard:u["a"],VContainer:d["a"]})},"46e1":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("ad23"),r={name:"LabBase",components:{},props:{},computed:{minioClient(){return new o.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"})},myId(){return localStorage.getItem("email")},isAdmin(){return"admin"==window.localStorage.getItem("authorized")},courseId(){return this.$route.params.courseId},labId(){return this.$route.params.labId},classId(){return this.$route.params.classId}},data:{},beforeDestroy(){},created(){},methods:{getLabInfo(e){var t=this;return e||(e=t.labId),new Promise(async function(n){var a=`${t.courseId}/planed/${e}/Lab_Metadata.json`,i=await t.getObject(a),o=await t.getString(`${t.courseId}/planed/${t.labId}/instruction.md`);try{i.instructionHtml=marked(o,{sanitize:!0})}catch(r){i.instructionHtml=r.message}n(i)})},async getClassInfo(){var e=`${this.courseId}/runningClass/${this.classId}/Class_Metadata.json`;return await this.getObject(e)},async getCourseInfo(){return await this.getObject(`${this.courseId}/Course_Metadata.json`)},_list(e){var t=[];return new Promise((n,a)=>{this.$minioClient.listObjects("labs",e,!1).on("data",function(e){t.push(e)}).on("error",function(e){a(e)}).on("end",function(e){var a=[];t.sort(function(e,t){return e.lastModified-t.lastModified}),t.forEach(e=>{a.push(e.name)}),n(a)})})},async _get(e){var t=this,n=await t._list(e);return 0==n.length?null:new Promise((n,a)=>{t.minioClient.getObject("labs",e,function(e,t){e?a(e):t?(t.on("data",function(e){var t=new TextDecoder("utf-8").decode(e);n(t)}),t.on("error",function(e){a(e)})):a(new Error("no stream connected"))})})},_put(e,t){var n=this;return new Promise((a,i)=>{n.minioClient.putObject("labs",e,t,function(e,t){null==e&&t?a(t):i(e)})})},_delete(e){var t=this;return new Promise((n,a)=>{t.minioClient.removeObject("labs",e,function(e){e&&a(e),n()})})},async list(e){return await this._list(e)},async getString(e){return await this._get(e)},async delete(e){return await this._delete(e)},async getObject(e){var t=await this.getString(e),n=JSON.parse(t);return n},async putString(e,t){return await this._put(e,t)},async putObject(e,t){var n=JSON.stringify(t);return await this.putString(e,n)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["a"]=c.exports},4822:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"PersistenceVolumeClaim"}},data:function(){return{accessModeList:[]}},watch:{},methods:{}},l=r,s=(n("2973"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},"486a":function(e,t,n){},"4b7b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:e.closeComponentChanger,deSelectShape:e.closeComponentChanger,removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-polygon",{attrs:{vertices:[[0,50],[50,100],[100,50],[50,0]]}}),n("geometry-line",{attrs:{from:[30,30],to:[70,70],_style:{"stroke-width":5}}}),n("geometry-line",{attrs:{from:[30,70],to:[70,30],_style:{"stroke-width":5}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-exclusive-gateway",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"Gateway"},className(){return"org.uengine.kernel.bpmn.ExclusiveGateway"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"f820535a",null);t["default"]=c.exports},"4bd1":function(e,t,n){"use strict";var a=n("486a"),i=n.n(a);i.a},"4f37":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("geometry-polygon",{attrs:{vertices:[[24,32],[24,68],[74,68],[74,32]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}}),n("geometry-line",{attrs:{from:[20,32],to:[50,50],_style:{stroke:"#ffffff"}}}),n("geometry-line",{attrs:{from:[80,32],to:[50,50],_style:{stroke:"#ffffff"}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("Target Service Pool")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.activity.role.name,callback:function(t){e.$set(e.activity.role,"name",t)},expression:"activity.role.name"}})],1),n("md-input-container",[n("label",[e._v("호출 URI 패턴")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}})],1),e.activity.uriTemplate&&0==e.activity.uriTemplate.indexOf("https://")?n("md-checkbox",{model:{value:e.activity.noValidationForSSL,callback:function(t){e.$set(e.activity,"noValidationForSSL",e._n(t))},expression:"activity.noValidationForSSL"}},[e._v("Don't validate the certificate")]):e._e(),e.links?n("md-input-container",[n("label",[e._v("호출 서비스 선택")]),n("md-select",{on:{change:e.giveJSONHint},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}},e._l(e.links,function(t,a){return n("md-option",{attrs:{value:t.href}},[e._v(e._s(a))])}),1)],1):e._e(),n("md-input-container",[n("label",[e._v("호출 메서드")]),n("md-select",{attrs:{type:"text"},model:{value:e.activity.method,callback:function(t){e.$set(e.activity,"method",t)},expression:"activity.method"}},[n("md-option",{attrs:{value:"GET"}},[e._v("GET")]),n("md-option",{attrs:{value:"POST"}},[e._v("POST")]),n("md-option",{attrs:{value:"DELETE"}},[e._v("DELETE")]),n("md-option",{attrs:{value:"PUT"}},[e._v("PUT")]),n("md-option",{attrs:{value:"PATCH"}},[e._v("PATCH")])],1)],1),-1=="GET,DELETE".indexOf(e.activity.method)?n("div",[n("md-subheader",[e._v("Input")]),n("md-switch",{model:{value:e.useJSONTemplate,callback:function(t){e.useJSONTemplate=t},expression:"useJSONTemplate"}},[e._v("Use JSON Template")]),e.useJSONTemplate?n("md-input-container",[n("label",[e._v("입력 데이터 (JSON template)")]),n("md-textarea",{model:{value:e.activity.inputPayloadTemplate,callback:function(t){e.$set(e.activity,"inputPayloadTemplate",t)},expression:"activity.inputPayloadTemplate"}})],1):n("bpmn-variable-selector",{staticStyle:{width:"100%",height:"80px"},attrs:{definition:e.definition},model:{value:e.inputVariable,callback:function(t){e.inputVariable=t},expression:"inputVariable"}})],1):e._e(),n("md-subheader",[e._v("Headers")]),e._l(e.activity.headers,function(t,a){return n("p",[n("md-input-container",[n("label",[e._v("Name")]),n("md-input",{model:{value:e.activity.headers[a].name,callback:function(t){e.$set(e.activity.headers[a],"name",t)},expression:"activity.headers[index].name"}})],1),n("md-input-container",[n("label",[e._v("Value")]),n("md-input",{model:{value:e.activity.headers[a].value,callback:function(t){e.$set(e.activity.headers[a],"value",t)},expression:"activity.headers[index].value"}})],1),n("md-button",{on:{click:function(t){return e.deleteHeader(a)}}},[e._v("delete")])],1)}),n("md-button",{on:{click:e.addHeader}},[e._v("Add header")]),n("md-subheader",[e._v("Output")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.outputMapping,definition:e.definition}}),n("md-checkbox",{model:{value:e.activity.skipIfNotFound,callback:function(t){e.$set(e.activity,"skipIfNotFound",e._n(t))},expression:"activity.skipIfNotFound"}},[e._v("리소스 없을 경우 (404) 오류 처리 하지 않음")]),n("md-checkbox",{model:{value:e.activity.queuingEnabled,callback:function(t){e.$set(e.activity,"queuingEnabled",e._n(t))},expression:"activity.queuingEnabled"}},[e._v("Queuing Enabled")]),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],2),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-message-intermediate-throw-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.MessageIntermediateThrowEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],headers:[],tracingTag:e,selected:!1,queuingEnabled:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){var e;return this.activity.inputPayloadTemplate&&0==this.activity.inputPayloadTemplate.indexOf("<%=")&&(e=this.activity.inputPayloadTemplate.substring(3,this.activity.inputPayloadTemplate.length-2).trim()),{links:null,useJSONTemplate:!e,inputVariable:{name:e}}},watch:{drawer:function(e){if(e){this.activity.role.name=this.bpmnVue.getWhereRoleAmIByTracingTag(this.activity.tracingTag);var t=this,n=null;this.definition.messageFlows.forEach(function(e){e.sourceRef==t.activity.tracingTag&&(n=t.bpmnVue.getWhereRoleAmIByTracingTag(e.targetRef))}),n&&(this.activity.role={name:n},this.$root.codi("eureka/apps/"+n).get().then(function(e){var a=e.data.application.instance[0].homePageUrl;a=n.toLowerCase(),t.$root.codi(a).get().then(function(e){e.data._links&&(t.links=e.data._links)})}))}},inputVariable:{handler:function(){this.activity.inputPayloadTemplate="<%="+this.inputVariable.name+"%>"},deep:!0}},mounted:function(){},methods:{addHeader:function(){this.activity.headers||(this.activity.headers=[]),this.activity.headers.push({name:"",value:"",_type:"org.uengine.kernel.bpmn.HttpHeader"})},deleteHeader:function(e){this.activity.headers.splice(e,1)},giveJSONHint:function(){var e=function(e){var t=document.createElement("a");t.href=e,t.path=t.pathname.substr(1);try{t.path=t.path.split("%7")[0]}catch(n){}return t},t=e(this.activity.uriTemplate),n=this;this.$root.codi(t.path).get().then(function(t){if(t.data._links.profile){var a=e(t.data._links.profile.href);n.$root.codi(a.path).get().then(function(e){if(console.log(e.data),e.data.alps.descriptors[0].descriptors){var t={};e.data.alps.descriptors[0].descriptors.forEach(function(e){t[e.name]="<%="+e.name+"%>"}),n.activity.inputPayloadTemplate=JSON.stringify(t,null,2);var a=n.activity;n.activity=null,n.activity=a}})}})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"678a11ad",null);t["default"]=c.exports},5:function(e,t){},5061:function(e,t,n){},"50c8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-ellipse",props:{center:{default:function(){return[10,10]},type:Array},radiusX:{default:function(){return 10},type:Number},radiusY:{default:function(){return 5},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Ellipse(this.center,this.radiusX,this.radiusY,this.angle),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"fb6c0026",null);t["default"]=c.exports},"51ae":function(e,t,n){"use strict";var a=n("c986"),i=n.n(a);i.a},"51e1":function(e,t){throw new Error("Module parse failed: Assigning to rvalue (3:2)\nYou may need an appropriate loader to handle this file type.\n| server:\n|   port: 8080\n> ---\n| spring:\n|   profiles: default")},5380:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}]},[e.bpmnComponent?n("md-card",[n("md-card-content",{staticClass:"no-padding"},[("Task"==e.bpmnComponent.type||e.bpmnComponent.type,n("div",[n("span",{staticClass:"icons bpmn-icon-parallel-mi-marker"}),n("span",{staticClass:"icons bpmn-icon-sequential-mi-marker"}),n("span",{staticClass:"icons bpmn-icon-loop-marker"}),n("span",{staticClass:"icons bpmn-icon-close",staticStyle:{"padding-left":"70px"},on:{click:e.close}},[n("md-icon",{on:{click:e.close}},[e._v("clear")])],1),n("hr",{staticClass:"separator"})])),e._l(e.items,function(t){return n("p",{staticClass:"icons",class:t.icon,staticStyle:{cursor:"default"},on:{click:function(n){return e.change(t.component)}}},[n("span",{staticClass:"icon-text"},[e._v(e._s(t.label))])])})],2)],1):e._e()],1)},i=[],o=n("d693"),r=n("e67d"),l=n.n(r),s={mixins:[o["default"]],name:"bpmn-component-changer",props:{data:Object},directives:{ClickOutside:l.a},data:function(){return{bpmnComponent:null,items:[],showInside:!1}},watch:{"$props.data":function(e,t){e&&e.bpmnComponent?(this.bpmnComponent=e.bpmnComponent,"IntermediateEvent"==e.bpmnComponent.type&&(console.log(window.innerHeight-e.top<390),window.innerHeight-e.top<390?(console.log(e.top),e.top=400,$(this.$el).css({position:"fixed",width:"260px",height:"auto",top:e.top+"px",left:e.left+"px"})):$(this.$el).css({position:"fixed",width:"260px",height:"auto",top:e.top+"px",left:e.left+"px"})),window.innerHeight-e.top<390?$(this.$el).css({position:"fixed",width:"260px",height:"auto",top:e.top-180+"px",left:e.left+"px"}):$(this.$el).css({position:"fixed",width:"260px",height:"auto",top:e.top+"px",left:e.left+"px"}),this.getComponentChangeItems()):this.bpmnComponent=null}},mounted:function(){},methods:{getComponentChangeItems:function(){"StartEvent"==this.bpmnComponent.type?this.items=[{component:"bpmn-start-event",label:"Start Event",icon:"bpmn-icon-start-event-none"},{component:"bpmn-message-start-event",label:"Message Start Event",icon:"bpmn-icon-start-event-message"},{component:"bpmn-timer-start-event",label:"Timer Start Event",icon:"bpmn-icon-start-event-timer"},{component:"bpmn-conditional-start-event",label:"Conditional Start Event",icon:"bpmn-icon-start-event-condition"},{component:"bpmn-signal-start-event",label:"Signal Start Event",icon:"bpmn-icon-start-event-signal"}]:"IntermediateEvent"==this.bpmnComponent.type?this.items=[{component:"bpmn-intermediate-event",label:"Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-none"},{component:"bpmn-message-intermediate-catch-event",label:"Message Intermediate Catch Event",icon:"bpmn-icon-intermediate-event-catch-message"},{component:"bpmn-message-intermediate-throw-event",label:"Message Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-throw-message"},{component:"bpmn-timer-intermediate-event",label:"Timer Intermediate Event",icon:"bpmn-icon-intermediate-event-catch-timer"},{component:"bpmn-escalation-intermediate-throw-event",label:"Escalation Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-throw-escalation"},{component:"bpmn-conditional-intermediate-catch-event",label:"Conditional Intermediate Catch Event",icon:"bpmn-icon-intermediate-event-catch-condition"},{component:"bpmn-link-intermediate-catch-event",label:"Link Intermediate Catch Event",icon:"bpmn-icon-intermediate-event-catch-link"},{component:"bpmn-link-intermediate-throw-event",label:"Link Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-throw-link"},{component:"bpmn-compensation-intermediate-throw-event",label:"Compensation Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-throw-compensation"},{component:"bpmn-signal-intermediate-catch-event",label:"Signal Intermediate Catch Event",icon:"bpmn-icon-intermediate-event-catch-signal"},{component:"bpmn-signal-intermediate-throw-event",label:"Signal Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-throw-signal"},{component:"bpmn-error-catch-event",label:"Catch Error Intermediate Throw Event",icon:"bpmn-icon-intermediate-event-catch-error"}]:"EndEvent"==this.bpmnComponent.type?this.items=[{component:"bpmn-end-event",label:"End Event",icon:"bpmn-icon-end-event-none"},{component:"bpmn-escalation-end-event",label:"Escalation End Event",icon:"bpmn-icon-end-event-escalation"},{component:"bpmn-error-end-event",label:"Error End Event",icon:"bpmn-icon-end-event-error"},{component:"bpmn-compensation-end-event",label:"Compensation End Event",icon:"bpmn-icon-end-event-compensation"},{component:"bpmn-signal-end-event",label:"Signal End Event",icon:"bpmn-icon-end-event-signal"},{component:"bpmn-terminate-end-event",label:"Terminate End Event",icon:"bpmn-icon-end-event-terminate"}]:"Gateway"==this.bpmnComponent.type?this.items=[{component:"bpmn-gateway",label:"Gateway",icon:"bpmn-icon-gateway-none"},{component:"bpmn-parallel-gateway",label:"Parallel Gateway",icon:"bpmn-icon-gateway-parallel"},{component:"bpmn-exclusive-gateway",label:"Exclusive Gateway",icon:"bpmn-icon-gateway-xor"},{component:"bpmn-inclusive-gateway",label:"Inclusive Gateway",icon:"bpmn-icon-gateway-or"},{component:"bpmn-complex-gateway",label:"Complex Gateway",icon:"bpmn-icon-gateway-complex"},{component:"bpmn-event-based-gateway",label:"EventBased Gateway",icon:"bpmn-icon-gateway-eventbased"}]:"Task"==this.bpmnComponent.type?this.items=[{component:"bpmn-task",label:"Task",icon:"bpmn-icon-task-none"},{component:"bpmn-send-task",label:"Send Task",icon:"bpmn-icon-send-task"},{component:"bpmn-receive-task",label:"Receive Task",icon:"bpmn-icon-receive-task"},{component:"bpmn-user-task",label:"User Task",icon:"bpmn-icon-user-task"},{component:"bpmn-manual-task",label:"Manual Task",icon:"bpmn-icon-manual-task"},{component:"bpmn-business-task",label:"Business Task",icon:"bpmn-icon-business-rule-task"},{component:"bpmn-service-task",label:"Service Task",icon:"bpmn-icon-service-task"},{component:"bpmn-script-task",label:"Script Task",icon:"bpmn-icon-script-task"},{component:"bpmn-call-activity",label:"Call Activity",icon:"bpmn-icon-call-activity"}]:"SubProcess"==this.bpmnComponent.type&&(this.items=[{component:"bpmn-subprocess",label:"Sub Process",icon:"bpmn-icon-subprocess-expanded"},{component:"bpmn-transaction",label:"Transaction",icon:"bpmn-icon-transaction"},{component:"bpmn-event-subprocess",label:"Event Sub Process",icon:"bpmn-icon-event-subprocess-expanded"}])},close:function(){this.bpmnComponent=!1},change:function(e){var t=JSON.parse(JSON.stringify(this.bpmnComponent.activity)),n=this.bpmnVue.getComponentByName(e),a=n.default.computed.createNew(t.tracingTag,t.elementView.x,t.elementView.y,t.elementView.width,t.elementView.height);for(var i in t)"elementView"!=i&&"_type"!=i&&(a[i]=t[i]);var o=this.bpmnVue.getParentActByOpengraphId(t.tracingTag);this.bpmnVue.removeComponentByOpenGraphComponentId(t.tracingTag),o?(o.childActivities||(o.childActivities=["java.util.ArrayList",[]]),o.childActivities[1].push(a)):this.bpmnVue.data.definition.childActivities[1].push(a),this.$nextTick(function(){var e;for(var n in this.bpmnVue.$refs["bpmnOpengraph"].elements)e=this.bpmnVue.$refs["bpmnOpengraph"].elements[n],e.to!=t.tracingTag&&e.from!=t.tracingTag||(console.log("redraw relation by component change.",e.id),e.updateShape());this.bpmnVue.onUserAction()})}}},c=s,u=(n("a125"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"bbbbfb62",null);t["default"]=d.exports},"54b1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("opengraph",[[e._l(e.left,function(e,t){return n("div",[n("text-element",{attrs:{text:e,"sub-width":"100%","sub-height":"30px","sub-algin":"center","sub-bottom":"30px","sub-style":{"font-color":"grey"},x:50,y:100+20*t}}),n("circle-element",{attrs:{x:100,y:100+20*t,width:7,height:7,selectable:"",connectable:"",draggable:"",movable:""}})],1)}),e._l(e.transformers,function(t){return n("rectangle-element",{attrs:{x:t.location.x,y:t.location.y,width:100,height:20,selectable:"",connectable:"",draggable:"",movable:"",resizable:"",deletable:"",text:t.name},on:{"update:x":function(n){return e.$set(t.location,"x",n)},"update:y":function(n){return e.$set(t.location,"y",n)},click:function(n){return e.showProperty(t)}}},[n("sub-elements",[n("text-element",{attrs:{text:t.name,"sub-width":"100%","sub-height":"30px","sub-align":"center","sub-vertical-align":"middle","sub-style":{"font-color":"grey"}}})],1)],1)}),e._l(e.right,function(e,t){return n("div",[n("text-element",{attrs:{text:e,"sub-width":"100%","sub-height":"30px","sub-algin":"center","sub-bottom":"30px","sub-style":{"font-color":"grey"},x:550,y:100+20*t}}),n("circle-element",{attrs:{selectable:"",connectable:"",draggable:"",movable:"",x:500,y:100+20*t,width:7,height:7}})],1)})]],2),n("div",{staticStyle:{height:"300px"}}),n("md-button",{on:{click:e.addTransformer}},[e._v("ADD TRANSFORMER")]),e.editingTransformer?n("div",[n("md-input-container",[n("label",[e._v("트랜스포머 유형")]),n("md-select",{on:{change:e.changeName},model:{value:e.editingTransformer._type,callback:function(t){e.$set(e.editingTransformer,"_type",t)},expression:"editingTransformer._type"}},[n("md-subheader",[e._v("Math")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.MaxTransformer"}},[e._v("Max")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.RoundTransformer"}},[e._v("Round")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.SumTransformer"}},[e._v("Sum")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.FloorTransformer"}},[e._v("Floor")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.CeilTransformer"}},[e._v("Ceil")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.MinTransformer"}},[e._v("Min")]),n("md-subheader",[e._v("String")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.ConcatTransformer"}},[e._v("Concat")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.NumberTransformer"}},[e._v("To Number")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.NumberFormatTransformer"}},[e._v("String to Number Format")]),n("md-subheader",[e._v("Data")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.DirectValueTransformer"}},[e._v("Direct Value")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.ReplaceTransformer"}},[e._v("Replace")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.BeanValueTransformer"}},[e._v("Bean Property Value")]),n("md-subheader",[e._v("Validation")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.NotNullValidatorTransformer"}},[e._v("Is Not Null")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.RegularExpValidatorTransformer"}},[e._v("RegExp Validation")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.SizeValidatorTransformer"}},[e._v("Size Validation")]),n("md-option",{attrs:{value:"org.uengine.processdesigner.mapper.transformers.SequenceGeneratorTransformer"}},[e._v("Create Sequence")])],1)],1),n("md-input-container",[n("label",[e._v("이름")]),n("md-input",{attrs:{type:"text"},model:{value:e.editingTransformer.name,callback:function(t){e.$set(e.editingTransformer,"name",t)},expression:"editingTransformer.name"}})],1)],1):e._e()],1)},i=[],o={name:"bpmn-mapper",data:function(){return{transformers:[],editingTransformer:null}},props:{definition:Object},computed:{left:function(){var e=[];return this.definition.processVariableDescriptors.forEach(function(t){e.push(t.name)}),e},right:function(){return this.left}},methods:{addTransformer:function(){this.transformers.push({name:"SUM",_type:"org.uengine.kernel.transformers.SumTransformer",location:{x:300,y:200}})},showProperty:function(e){this.editingTransformer=e},changeName:function(){this.editingTransformer.name=this.editingTransformer._type}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},5508:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.clone.intermediate?n("sub-controller",{attrs:{cloneable:"",image:"event_intermediate.png"},on:{clone:e.intermediateClone}},[n("circle-element",{attrs:{width:28,height:28}})],1):e._e(),e.clone.end?n("sub-controller",{attrs:{cloneable:"",image:"event_end.png"},on:{clone:e.endClone}},[n("circle-element",{attrs:{width:30,height:30}})],1):e._e(),e.clone.gateway?n("sub-controller",{attrs:{cloneable:"",image:"gateway_exclusive.png"},on:{clone:e.exclusiveGatewayClone}},[n("circle-element",{attrs:{width:30,height:30}})],1):e._e(),e.clone.task?n("sub-controller",{attrs:{cloneable:"",image:"task.png"},on:{clone:e.taskClone}},[n("circle-element",{attrs:{width:100,height:70}})],1):e._e(),e.clone.annotaion?n("sub-controller",{attrs:{cloneable:"",image:"annotation.png"},on:{clone:e.annotaionClone}},[n("circle-element",{attrs:{width:100,height:30}})],1):e._e(),e.clone.call?n("sub-controller",{attrs:{image:"popup.png"},on:{click:e.popDefinition}},[n("circle-element",{attrs:{width:100,height:30}})],1):e._e(),e.clone.wrench?n("sub-controller",{attrs:{image:"wrench.png"},on:{click:e.showComponentChange}}):e._e()],1)},i=[],o=n("d693"),r=n("3d87"),l={mixins:[o["default"],r["default"]],name:"bpmn-sub-controller",props:{type:String,className:String,calleeDefinitionId:String},computed:{},data:function(){return{clone:{intermediate:!1,end:!1,gateway:!1,task:!1,annotaion:!1,wrench:!1,call:!1,deleteActivity:!1}}},watch:{},mounted:function(){"EndEvent"==this.type?(this.clone.annotaion=!0,this.clone.wrench=!0,this.clone.deleteActivity=!0):"Pool"==this.type?(this.clone.intermediate=!0,this.clone.end=!0,this.clone.gateway=!0,this.clone.task=!0,this.clone.annotaion=!0,this.clone.deleteActivity=!0):"Data"==this.type||"Role"==this.type?(this.clone.annotaion=!0,this.clone.deleteActivity=!0):"org.uengine.kernel.bpmn.CallActivity"==this.className?(this.clone.intermediate=!0,this.clone.end=!0,this.clone.gateway=!0,this.clone.task=!0,this.clone.annotaion=!0,this.clone.wrench=!0,this.clone.call=!0,this.clone.deleteActivity=!0):(this.clone.intermediate=!0,this.clone.end=!0,this.clone.gateway=!0,this.clone.task=!0,this.clone.annotaion=!0,this.clone.wrench=!0,this.clone.deleteActivity=!0)},methods:{deleteActivity:function(){this.$root.$children[0].$children[3].$children[2].deleteActivity(),console.log(this.$root.$children[0].$children[3].$children[2])},popDefinition:function(){window.open("#/definition/"+this.bpmnComponent.activity.definitionId,"_blank")},createEdgeAndElement:function(e,t,n,a){var i=this.bpmnVue.createNewTracingTag(),o={from:t.id,to:i,vertices:"["+e.shape.geom.vertices.toString()+"]",component:"bpmn-relation"};let r=n.shape.geom.getBoundary();var l={x:r.getCentroid().x,y:r.getCentroid().y,width:r.getWidth(),height:r.getHeight(),component:a};this.bpmnVue.canvas.removeShape(e),this.bpmnVue.canvas.removeShape(n),this.bpmnVue.addComponenet(l,i),this.bpmnVue.addComponenet(o)},intermediateClone:function(e,t,n){this.createEdgeAndElement(e,t,n,"bpmn-intermediate-event")},endClone:function(e,t,n){this.createEdgeAndElement(e,t,n,"bpmn-end-event")},exclusiveGatewayClone:function(e,t,n){this.createEdgeAndElement(e,t,n,"bpmn-exclusive-gateway")},taskClone:function(e,t,n){this.createEdgeAndElement(e,t,n,"bpmn-task")},annotaionClone:function(e,t,n){this.createEdgeAndElement(e,t,n,"bpmn-annotaion")},showComponentChange:function(e,t){if(this.bpmnComponent){console.log("showComponentChange",this.bpmnComponent.activity.elementView);var n=$(this.bpmnVue.canvas._CONTAINER),a=t.x,i=t.y,o=t.width,r=(t.height,a*this.bpmnVue.canvas.getScale()+n.offset().left-n[0].scrollLeft),l=i*this.bpmnVue.canvas.getScale()+n.offset().top-n[0].scrollTop,s=l-70,c=r+(o/2+10);this.bpmnComponent.openComponentChanger(s,c)}}}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,"4d4e8c21",null);t["default"]=u.exports},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2b0e"),_plugins_vuetify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("402c"),vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bf40"),vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(vuetify_dist_vuetify_min_css__WEBPACK_IMPORTED_MODULE_2__),_App_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3dfd"),_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("41cb"),_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c0d6"),_registerServiceWorker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ddb8"),vuejs_jwt__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("c051"),vuejs_jwt__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(vuejs_jwt__WEBPACK_IMPORTED_MODULE_7__),vue_js_modal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("1881"),vue_js_modal__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(vue_js_modal__WEBPACK_IMPORTED_MODULE_8__),_components_edityamlpage_vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d371"),_components_yaml_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6eb3"),_components_opengraph__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("66eb"),_components_designer_class_modeling__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("d4b0"),_components_designer_modeling__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("82a6"),_components_designer_k8s_modeling__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("f74a"),_components_oauth_Login_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("332a"),mustache__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("9dbb0"),mustache__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(mustache__WEBPACK_IMPORTED_MODULE_16__),firebase_app__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("59ca"),firebase_app__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_17__),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("6c39"),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_18__),trackjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("376c"),vue_codemirror__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("8f94"),vue_codemirror__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(vue_codemirror__WEBPACK_IMPORTED_MODULE_20__),vue_youtube_embed__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("f6dd"),_components_EventStormingList_ViewEventStormingVersionPage__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("dcd5"),vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("bd62"),vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(vue_simple_context_menu_dist_vue_simple_context_menu_css__WEBPACK_IMPORTED_MODULE_23__),vue_simple_context_menu__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("2560"),vue_webrtc__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("6293"),vue_webrtc__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(vue_webrtc__WEBPACK_IMPORTED_MODULE_25__),_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("bc23"),_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_26__),_components_designer_view_modeling_ViewCreate__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("7cf0"),_components_designer_view_modeling_ViewUpdate__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("dd10"),_components_designer_view_modeling_ViewDelete__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("fbc9"),_components_EventStormingList_EventStormingListPage__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("286e"),_components_designer_modeling_ModelingPropertyPanel__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("1c71"),_components_designer_modeling_ParticipantListsPanel__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("b255"),_components_EventStormingList_ProjectCard__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("e7d2"),_components_designer_bpmnModeling_ProcessDesigner__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("d358"),_components_designer_bpmnModeling_bpmn__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("d77a"),_components_designer_bpmnModeling_ObjectGrid__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("888d");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_k8s_modeling__WEBPACK_IMPORTED_MODULE_14__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_18___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_hscmap_vue_window__WEBPACK_IMPORTED_MODULE_26__),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(mustache__WEBPACK_IMPORTED_MODULE_16___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_codemirror__WEBPACK_IMPORTED_MODULE_20___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_opengraph__WEBPACK_IMPORTED_MODULE_11__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_class_modeling__WEBPACK_IMPORTED_MODULE_12__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_modeling__WEBPACK_IMPORTED_MODULE_13__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_EventStormingList_EventStormingListPage__WEBPACK_IMPORTED_MODULE_30__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_components_designer_bpmnModeling_bpmn__WEBPACK_IMPORTED_MODULE_35__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_js_modal__WEBPACK_IMPORTED_MODULE_8___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component(vue_webrtc__WEBPACK_IMPORTED_MODULE_25__["WebRTC"].name,vue_webrtc__WEBPACK_IMPORTED_MODULE_25__["WebRTC"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("EditYaml",_components_edityamlpage_vue__WEBPACK_IMPORTED_MODULE_9__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("text-reader",_components_yaml_vue__WEBPACK_IMPORTED_MODULE_10__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("Login",_components_oauth_Login_vue__WEBPACK_IMPORTED_MODULE_15__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewEventStormingVersionPage",_components_EventStormingList_ViewEventStormingVersionPage__WEBPACK_IMPORTED_MODULE_22__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewCreate",_components_designer_view_modeling_ViewCreate__WEBPACK_IMPORTED_MODULE_27__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewUpdate",_components_designer_view_modeling_ViewUpdate__WEBPACK_IMPORTED_MODULE_28__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ViewDelete",_components_designer_view_modeling_ViewDelete__WEBPACK_IMPORTED_MODULE_29__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ProjectCard",_components_EventStormingList_ProjectCard__WEBPACK_IMPORTED_MODULE_33__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("EventStormingListPage",_components_EventStormingList_EventStormingListPage__WEBPACK_IMPORTED_MODULE_30__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ModelingPropertyPanel",_components_designer_modeling_ModelingPropertyPanel__WEBPACK_IMPORTED_MODULE_31__["default"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("ParticipantListsPanel",_components_designer_modeling_ParticipantListsPanel__WEBPACK_IMPORTED_MODULE_32__["default"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("vue-simple-context-menu",vue_simple_context_menu__WEBPACK_IMPORTED_MODULE_24__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("bpmn-process-designer",_components_designer_bpmnModeling_ProcessDesigner__WEBPACK_IMPORTED_MODULE_34__["a"]),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("object-grid",_components_designer_bpmnModeling_ObjectGrid__WEBPACK_IMPORTED_MODULE_36__["a"]);var options={keyName:"accessToken"},Minio=__webpack_require__("ad23");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuejs_jwt__WEBPACK_IMPORTED_MODULE_7___default.a,options),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vue_youtube_embed__WEBPACK_IMPORTED_MODULE_21__["a"],{global:!0,componentId:"youtube-media"}),Object({NODE_ENV:"production",VUE_APP_API_HOST:"http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",VUE_APP_TRANSLATE_KEY:"AIzaSyB2_MiQOuI2clNuy0QP3yktUXxbfiVAaUk",VUE_APP_FILE_PATH:"../public/static/templates/",VUE_APP_FIREBASE_apiKey:"AIzaSyDAAxdC_Pw-83twpuGH_VIV28jgV1E_xrg",VUE_APP_FIREBASE_authDomain:"eventstorming-tool-db.firebaseapp.com",VUE_APP_FIREBASE_databaseURL:"https://eventstorming-tool-db.firebaseio.com",VUE_APP_FIREBASE_projectId:"eventstorming-tool-db",VUE_APP_FIREBASE_storageBucket:"gs://eventstorming-tool-db.appspot.com",VUE_APP_FIREBASE_messagingSenderId:"779007656524",VUE_APP_FIREBASE_appId:"1:779007656524:web:dca1266cda32bf61c3aae9",VUE_APP_FIREBASE_measurementId:"G-JYWCP4JG7B",BASE_URL:"/"}).NODE_TLS_REJECT_UNAUTHORIZED="0",vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$EventBus=new vue__WEBPACK_IMPORTED_MODULE_0__["a"],vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$ModelingBus=new vue__WEBPACK_IMPORTED_MODULE_0__["a"],vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$minioClient=new Minio.Client({endPoint:"35.232.244.51",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"}),window.$Mustache=mustache__WEBPACK_IMPORTED_MODULE_16___default.a;var firebaseConfig={apiKey:"AIzaSyDAAxdC_Pw-83twpuGH_VIV28jgV1E_xrg",authDomain:"eventstorming-tool-db.firebaseapp.com",databaseURL:"https://eventstorming-tool-db.firebaseio.com",projectId:"eventstorming-tool-db",storageBucket:"gs://eventstorming-tool-db.appspot.com",messagingSenderId:"779007656524",appId:"1:779007656524:web:dca1266cda32bf61c3aae9",measurementId:"G-JYWCP4JG7B"};firebase_app__WEBPACK_IMPORTED_MODULE_17___default.a.initializeApp(firebaseConfig),window.API_HOST="http://a3957b136544e11e9a56802910c21b39-1662590085.ap-northeast-2.elb.amazonaws.com:8080",window.vueFilePath="../public/static/templates/";const templateFiles=__webpack_require__("3b22");var tempRootPathList=[];templateFiles.keys().forEach(function(e){var t=e.replace("./","").split("/");tempRootPathList.push(t[0])}),tempRootPathList.push("GIT");var tempRootPath=new Set(tempRootPathList),rootPathList=Array.from(tempRootPath);vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$manifestsPerTemplate={},rootPathList.forEach(function(item){eval('Vue.prototype.$manifestsPerTemplate["'+item+'"] = []')}),templateFiles.keys().forEach(function(tempFiles){var tempFileStructure=tempFiles.replace("./","").split("/"),rootName=tempFileStructure[0],tmp;eval('tmp= tempFiles.replace("'+rootName+'/","")'),eval('Vue.prototype.$manifestsPerTemplate["'+rootName+'"].push(tmp)')}),vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$innerWidth=window.innerWidth,vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$innerHeight=window.innerHeight,vue__WEBPACK_IMPORTED_MODULE_0__["a"].config.productionTip=!1,new vue__WEBPACK_IMPORTED_MODULE_0__["a"]({router:_router__WEBPACK_IMPORTED_MODULE_4__["a"],store:_store__WEBPACK_IMPORTED_MODULE_5__["a"],vuetify:_plugins_vuetify__WEBPACK_IMPORTED_MODULE_1__["a"],WebRTC:vue_webrtc__WEBPACK_IMPORTED_MODULE_25__["WebRTC"],render:function(e){return e(_App_vue__WEBPACK_IMPORTED_MODULE_3__["a"])}}).$mount("#app")},"56e1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:null,vertices:e.vertices,from:e.value.from,to:e.value.to,_style:e.style_,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value,"from",t)},"update:to":function(t){return e.$set(e.value,"to",t)},removeShape:e.onRemoveShape,dblclick:e.showProperty}}),n("modeling-property-panel",{attrs:{drawer:e.drawer},on:{"update:drawer":function(t){e.drawer=t}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("template",{slot:"properties-contents"},["org.uengine.uml.model.Aggregation"==e.value._type?n("div"):e._e()])],2)],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"class-relation",props:{value:Object},created:function(){this.value&&this.value.relationView&&(this.value.from=this.value.relationView.from,this.value.to=this.value.relationView.to),OG.marker.GeneralizationMarker||(OG.marker.GeneralizationMarker=function(){OG.marker.GeneralizationMarker.superclass.call(this),this.MARKER_ID="OG.marker.GeneralizationMarker"},OG.marker.GeneralizationMarker.prototype=new OG.marker.IMarker,OG.marker.GeneralizationMarker.superclass=OG.marker.IMarker,OG.marker.GeneralizationMarker.prototype.constructor=OG.marker.GeneralizationMarker,OG.GeneralizationMarker=OG.marker.GeneralizationMarker,OG.marker.GeneralizationMarker.prototype.createMarker=function(){var e,t=[];return this.geom?this.geom:(e=new OG.geometry.Polygon([[20,15],[50,51],[20,85]]),e.style=new OG.geometry.Style({"stroke-width":.8,fill:"#ffffff","fill-opacity":1}),t.push(e),this.geom=new OG.geometry.GeometryCollection(t),this.geom)}),OG.marker.AggregationMarker||(OG.marker.AggregationMarker=function(){OG.marker.AggregationMarker.superclass.call(this),this.MARKER_ID="OG.marker.AggregationMarker"},OG.marker.AggregationMarker.prototype=new OG.marker.IMarker,OG.marker.AggregationMarker.superclass=OG.marker.IMarker,OG.marker.AggregationMarker.prototype.constructor=OG.marker.AggregationMarker,OG.GeneralizationMarker=OG.marker.AggregationMarker,OG.marker.AggregationMarker.prototype.createMarker=function(){var e,t=[];return this.geom?this.geom:(e=new OG.geometry.Polygon([[20,15],[40,51],[20,85],[0,51]]),e.style=new OG.geometry.Style({"stroke-width":.8,fill:"#ffffff","fill-opacity":1}),t.push(e),this.geom=new OG.geometry.GeometryCollection(t),this.geom)})},computed:{defaultStyle(){return{}},style_(){if("org.uengine.uml.model.Aggregation"==this.value._type){var e={"arrow-end":"01".indexOf(this.value.sourceMultiplicity)>-1?"none":"diamond","arrow-start":"01".indexOf(this.value.targetMultiplicity)>-1?"none":"diamond"};return-1=="01".indexOf(this.value.sourceMultiplicity)&&(e.marker||(e.marker={}),e.marker.end={id:"OG.marker.AggregationMarker",size:[10,8]}),-1=="01".indexOf(this.value.targetMultiplicity)&&(e.marker||(e.marker={}),e.marker.start={id:"OG.marker.AggregationMarker",size:[10,8]}),e}if("org.uengine.uml.model.Generalization"==this.value._type)return{"arrow-end":"none",marker:{start:{id:"OG.marker.GeneralizationMarker",size:[8,8]}}}},type(){return"org.uengine.uml.model.Aggregation"},createNew(e,t,n){return{_type:this.type(),sourceClassName:e.name,targetClassName:t.name,from:e.elementView.id,to:t.elementView.id,selected:!1,relationView:{style:JSON.stringify({"arrow-start":"none","arrow-end":"none"}),value:n,from:e.elementView.id,to:t.elementView.id,needReconnect:!0},sourceMultiplicity:1,targetMultiplicity:1}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{value:{deep:!0,handler:function(){this.createAssociationFields(),this.$emit("input",this.value)}}},mounted:function(){},methods:{createAssociationFields(){var e=this;if("org.uengine.uml.model.Aggregation"==this.value._type&&this.definition.classDefinitions){var t={};if(this.definition.classDefinitions[1].forEach(function(n){n.name==e.value.sourceClassName?t["source"]=n:n.name==e.value.targetClassName&&(t["target"]=n)}),!t["source"]||!t["target"])return;var n={};["source","target"].forEach(function(a){var i=t[a];i.fieldDescriptors||(i.fieldDescriptors=[]);var o=e[a+"Name"],r="source"==a?"target":"source",l=t[r].name;o||(o=l.substring(0,1).toLowerCase()+l.substring(1));var s=null,c="One",u="One";-1=="1 or 0".indexOf(e.value[r+"Multiplicity"])&&(l="List<"+l+">",o+="List",s=l,c="Many"),-1=="1 or 0".indexOf(e.value[a+"Multiplicity"])&&(u="Many");for(var d=null,m=0;m<i.fieldDescriptors.length;m++){var p=i.fieldDescriptors[m];if(p.name==o||e.relationView&&p._aggregationId==e.relationView.id){d=i.fieldDescriptors[m];break}}d||(d={_aggregationId:e.relationView?e.relationView.id:null},i.fieldDescriptors.push(d)),d.className=l,d.name=o,d.collectionClass=s,d.attributes||(d.attributes={}),d.attributes["relationAnnotation"]=u+"To"+c,n[a]=d}),["source","target"].forEach(function(e){var t=n[e],a="source"==e?"target":"source",i=n[a],o=t.attributes["relationAnnotation"];o.indexOf("Many")==o.length-4&&(t.attributes["relationAnnotation.mappedBy"]=i.name)})}}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"52b4c074",null);t["default"]=c.exports},5757:function(e,t,n){},"57a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead||e.movingElement,resizable:!e.isRead||e.movingElement,deletable:!e.isRead,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},customMoveAction:e.delayedMove,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":.5,r:"1"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Aggregate >>"}}),e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Aggregate",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/aggregate.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"aggregate-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context and Must has a name.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return 0===Object.keys(e.value.boundedContext).length||""==e.namePanel},namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Aggregate"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namePlural:"",namePascalCase:"",nameCamelCase:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},boundedContext:{},aggregateRoot:{_type:"org.uengine.modeling.model.AggregateRoot",fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}]},events:[],commands:[]}},computedElement(){return _.cloneDeep(this.value.aggregateRoot.fieldDescriptors)}},data:function(){return{isRead:!1,itemH:200,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},"value.name":function(e,t){var n=this;n.namePanel=e},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){e.isRead=t.isRead}),e.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})},difference(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"09fcd315",null);t["default"]=c.exports},5825:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("image-element",{attrs:{image:e.user_image,"sub-width":"20px","sub-height":"20px","sub-top":"5px","sub-left":"5px"}}),n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("역할")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.activity.role.name,callback:function(t){e.$set(e.activity.role,"name",t)},expression:"activity.role.name"}})],1),n("p",[e._v("파라미터")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.parameters,definition:e.definition,multi:!0}}),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-user-task",props:{},created:function(){this.activity.role||(this.activity.role={name:""})},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.HumanActivity"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},parameters:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{user_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/User.png"}},watch:{drawer:function(e){e&&(this.activity.role.name=this.bpmnVue.getWhereRoleAmIByTracingTag(this.activity.tracingTag))},activity:{handler:function(e){this.definition._changedByLocaleSelector||(this.activity.name.localedTexts||(this.activity.name.localedTexts={_type:"java.util.HashMap"}),this.activity.name.localedTexts[this.definition._selectedLocale]=this.activity.name.text),this.definition._changedByLocaleSelector=!1},deep:!0}},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7b265162",null);t["default"]=c.exports},"589e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#fbc02d",fill:"#fbc02d","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"Pod"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("869a"),l={mixins:[o["default"]],name:"pod",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"Pod"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pod.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",namespaceId:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"v1",kind:"Pod",metadata:{name:"",labels:{name:""}},spec:{containers:[{name:"",image:"",ports:[{containerPort:80}]}]}},outboundVolumes:[]}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}},outboundVolumeNames(){try{var e;return this.value.outboundVolumes.forEach(t=>{e+=t.object.metadata.name+","}),e}catch(t){return""}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}}},data:function(){return{}},created:function(){},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){console.log(t),"addRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolumeClaim"==t.element.targetElement._type&&(console.log("inner"),e.value.outboundVolumes.push(t.element.targetElement)),"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolumeClaim"==t.element.targetElement._type&&e.value.outboundVolumes.splice(e.value.outboundVolumes.indexOf(t.element.targetElement),1),"changeName"==t.state&&(e.namespace=t.element)})},beforeDestroy(){var e=this,t={state:"deleteElement",element:e.value.elementView.id};this.$EventBus.$emit(`${e.value.namespaceId}`,t)},watch:{name(e){this.value.object.metadata.labels.name=e,this.value.object.spec.containers[0].name=e},outboundVolumeNames(e){this.value.object.spec.volumes=[];var t=this,n=0;this.value.outboundVolumes.forEach(e=>{t.value.object.spec.volumes.push({name:"volume"+ ++n,persistenceVolumeClaim:{claimName:e.object.metadata.name}})})}},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"5ab6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("group-element",{attrs:{selectable:"",movable:!e.value.editing,resizable:!e.value.editing,deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,label:e.name,width:e.value.elementView.width,height:e.value.elementView.height,_style:{stroke:"black","vertical-align":"top","font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:label":function(t){e.name=t},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addToGroup:e.onAddToGroup,removeShape:function(t){return e.onRemoveShape(e.value)}}},[n("sub-elements",[n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("4822"),r=n("e097"),l=n("8e15"),s=n("2479"),c=(n("64ae"),n("761a"),{components:{ImageElement:s["default"],GroupElement:l["default"],PropertyPanel:o["default"]},mixins:[r["default"]],name:"namespace",props:{},computed:{defaultStyle(){return{}},className(){return"Namespace"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/ns.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"v1",kind:"Namespace",metadata:{name:""},spec:{finalizers:["kubernetes"]}},innerElement:[]}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}}},data:function(){return{}},created:function(){},watch:{name:_.debounce(function(e){var t=this;this.value.name=e;var n={state:"changeName",element:e};this.value.innerElement.forEach(function(e){t.$EventBus.$emit(e,n)})},300)},mounted:function(){var e=this;e.$EventBus.$on(`${e.value.elementView.id}`,function(t){console.log(t),e.value.innerElement.splice(e.value.innerElement.indexOf(t.element),1)})},methods:{deleteNameSpace(){var e=this;return new Promise(function(t){e.value.aggregates.forEach(function(t){console.log(t.elementView.id);var n={state:"deleteBounded",element:e.value};e.$EventBus.$emit(t.elementView.id,n)}),e.deleteInNameSpace(e.value.name),e.$EventBus.$off(`${e.value.elementView.id}`),e.$emit("update:value",null),t()})},deleteInNameSpace(e){var t=this,n=this.getComponent("kube-modeling-designer");n.value.definition.forEach(function(a,i){null!=a&&a.boundedContext&&a.boundedContext.name==e&&(t.$EventBus.$off(`${a.elementView.id}`),n.value.definition[i]=null)})}}}),u=c,d=n("2877"),m=Object(d["a"])(u,a,i,!1,null,"817fac68",null);t["default"]=m.exports},6:function(e,t){},6034:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"geometry-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e,t=this;if($.isEmptyObject(t.geometrys))return null;{e=new OG.shape.GeomShape;let n=Object.keys(t.geometrys);e.label=t.label,e.SHAPE_ID=t.shapdId,n.length<2?e.createShape=function(){return this.geom?this.geom:(this.geom=t.geometrys[n[0]].createGeometry(),this.geom)}:e.createShape=function(){if(this.geom)return this.geom;var e=[];for(var n in t.geometrys)e.push(t.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(e),this.geom}}return e}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"0a379a78",null);t["default"]=c.exports},"62f8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,height:e.titleH+(e.value.fieldDescriptors?e.value.fieldDescriptors.length*e.itemH:0)},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},dblclick:e.showProperty}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,fill:"#FFFFFF","fill-opacity":0,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH/2,"sub-top":0,"sub-left":0,"sub-style":{"font-weight":"bold"},text:e.value.classReference?e.value.classReference:e.value.name}}),n("edge-element",{attrs:{vertices:[[0,e.titleH-(e.value.classReference?10:0)],["100%",e.titleH-(e.value.classReference?10:0)]],label:"","sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.titleH+a*e.itemH,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.type}}):e._e()})],2)],1),n("modeling-property-panel",{attrs:{titleName:"Event",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=n("b815"),r=(n("9dbb0"),{mixins:[o["default"]],name:"class-definition",props:{},computed:{defaultStyle(){return{}},type(){return"Class"},className(){return"org.uengine.uml.model.ClassDefinition"},createNew(e,t,n,a,i){return{_type:this.className(),name:"Class",fieldDescriptors:[{type:"Long",name:"id",namePascalCase:"Id",id:!0}],elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({})},drawer:!1,selected:!1,inputText:"",code:"",eventToPolicy:"",boundedContext:""}}},data:function(){return{itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference}},created:function(){this.value.fieldDescriptors&&this.value.fieldDescriptors.forEach(function(e){e.attributes||(e.attributes={})})},watch:{referenceClassName:function(){this.updateClassInfo()},"value.fieldDescriptors":function(e){this.value.fieldDescriptors=e}},mounted:function(){},methods:{removeAttribute:function(e){this.value.fieldDescriptors.splice(this.value.fieldDescriptors.indexOf(e),1)},updateClassInfo:function(){if(this.reference){var e,t=this.referenceClassName.split("#"),n=t[0],a=t[1],i=this,o=encodeURI(window.backend.$bind.ref+"/definition/raw/"+n+".ClassDiagram.json"),r=new XMLHttpRequest;i=this;r.open("GET",o,!1),r.setRequestHeader("access_token",localStorage["access_token"]),r.onload=function(){e=JSON.parse(r.responseText);var t=e.definition;for(var n in t.classDefinitions[1]){var o=t.classDefinitions[1][n];if(o.name==a){o.elementView.x=i.value.elementView.x,o.elementView.y=i.value.elementView.y,o.classReference=i.referenceClassName,i.value=o;break}}},r.send()}}}}),l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"d982dc20",null);t["default"]=c.exports},"64be":function(e,t,n){},6579:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("image-element",{attrs:{image:e.service_image,"sub-width":"20px","sub-height":"20px","sub-top":"5px","sub-left":"5px"}}),n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("역할 (추후 레인에서 자동설정)")]),n("md-input",{attrs:{type:"text",readonly:""},model:{value:e.activity.role.name,callback:function(t){e.$set(e.activity.role,"name",t)},expression:"activity.role.name"}})],1),n("md-input-container",[n("label",[e._v("호출 URI 패턴")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}})],1),e.links?n("md-input-container",[n("label",[e._v("호출 서비스 선택")]),n("md-select",{on:{change:e.giveJSONHint},model:{value:e.activity.uriTemplate,callback:function(t){e.$set(e.activity,"uriTemplate",t)},expression:"activity.uriTemplate"}},e._l(e.links,function(t,a){return n("md-option",{attrs:{value:t.href}},[e._v(e._s(a))])}),1)],1):e._e(),n("md-input-container",[n("label",[e._v("호출 메서드")]),n("md-select",{attrs:{type:"text"},model:{value:e.activity.method,callback:function(t){e.$set(e.activity,"method",t)},expression:"activity.method"}},[n("md-option",{attrs:{value:"GET"}},[e._v("GET")]),n("md-option",{attrs:{value:"POST"}},[e._v("POST")]),n("md-option",{attrs:{value:"DELETE"}},[e._v("DELETE")]),n("md-option",{attrs:{value:"PUT"}},[e._v("PUT")]),n("md-option",{attrs:{value:"PATCH"}},[e._v("PATCH")])],1)],1),n("md-input-container",{attrs:{if:"'GET,DELETE'.indexOf(activity.method) == -1"}},[n("label",[e._v("입력 데이터 (JSON template)")]),n("md-textarea",{model:{value:e.activity.inputPayloadTemplate,callback:function(t){e.$set(e.activity,"inputPayloadTemplate",t)},expression:"activity.inputPayloadTemplate"}})],1),n("p",[e._v("결과 데이터 매핑")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.outputMapping,definition:e.definition}}),n("md-checkbox",{model:{value:e.activity.skipIfNotFound,callback:function(t){e.$set(e.activity,"skipIfNotFound",e._n(t))},expression:"activity.skipIfNotFound"}},[e._v("리소스 없을 경우 (404) 오류 처리 하지 않음")]),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-service-task",props:{},created:function(){this.activity.role||(this.activity.role={name:""})},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.bpmn.ServiceTask"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{links:null,service_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/Service.png"}},watch:{drawer:function(e){if(e){this.activity.role.name=this.bpmnVue.getWhereRoleAmIByTracingTag(this.activity.tracingTag);var t=this,n=this.activity.role.name;this.$root.codi("eureka/apps/"+this.activity.role.name).get().then(function(e){var a=e.data.application.instance[0].homePageUrl;a=n.toLowerCase(),t.$root.codi(a).get().then(function(e){e.data._links&&(t.links=e.data._links)})})}}},mounted:function(){},methods:{giveJSONHint:function(){var e=function(e){var t=document.createElement("a");t.href=e,t.path=t.pathname.substr(1);try{t.path=t.path.split("%7")[0]}catch(n){}return t},t=e(this.activity.uriTemplate),n=this;this.$root.codi(t.path).get().then(function(t){if(t.data._links.profile){var a=e(t.data._links.profile.href);n.$root.codi(a.path).get().then(function(e){if(console.log(e.data),e.data.alps.descriptors[0].descriptors){var t={};e.data.alps.descriptors[0].descriptors.forEach(function(e){t[e.name]="<%="+e.name+"%>"}),n.activity.inputPayloadTemplate=JSON.stringify(t,null,2);var a=n.activity;n.activity=null,n.activity=a}})}})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"1bfcd7f0",null);t["default"]=c.exports},"66eb":function(e,t,n){"use strict";const a={install(e,t={}){const a=n("aae7"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),i)e.component(i[o].default.name,i[o].default);e.OGComponents=i,e.OGBus=new e,e.OGLiveComponents={},window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},6821:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},"6ab6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-list-item",e._l(e.trees,function(t){return n("div",{staticClass:"tree-list-style"},[e._v("\n    - "),n("span",{class:{"list-hover":t.name==e.selectedItem},on:{mouseover:function(n){e.selectedItem=t.name},mouseout:function(t){e.selectedItem=""},click:function(n){return e.onClickList(t)}}},[e._v("\n      "+e._s(t.name)+"\n    ")]),n("md-list",{staticClass:"tree-list"},[n("bpmn-tree-list",{attrs:{trees:t.children}})],1)],1)}),0)},i=[],o={name:"bpmn-tree-list",props:{trees:Array,treeWhether:Boolean},data:function(){return{selectedItem:""}},created:function(){},computed:{},methods:{onClickList:function(e){var t=this;t.$router.replace({params:{id:e.id,rootId:e.rootInstId}}),t.$router.go(t.$router.currentRoute)}}},r=o,l=(n("a9f8"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,"6aa208ba",null);t["default"]=s.exports},"6d76":function(e,t,n){},"6e2d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead,connectable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},customMoveAction:e.delayedMove,dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5099F7",fill:"#5099F7","fill-opacity":1,r:"1","z-index":"998"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#5099F7",fill:"#5099F7","fill-opacity":.5,r:"1","z-index":"998"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Command >>"}}),e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Command",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/command.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r=(n("64ae"),n("761a"),n("9dbb0"),{mixins:[o["default"]],name:"command-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.aggregate).length&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context, Must be attached to an Aggregate and Must has a name.":0==Object.keys(e.value.aggregate).length?"Must be attached to an Aggregate.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return 0==Object.keys(e.value.aggregate).length||""==e.namePanel||0==Object.keys(e.value.boundedContext).length},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Command"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namePlural:"",namePascalCase:"",nameCamelCase:"",aggregate:{},boundedContext:{},elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),"z-index":999},isRestRepository:!0,controllerInfo:{apiPath:"",method:"GET"},restRepositoryInfo:{method:"GET"},relationEventInfo:[]}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},"value.name":function(e,t){var n=this;n.namePanel=e},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})}}}),l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4535eefa",null);t["default"]=c.exports},"6eb3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-reader",staticStyle:{"max-width":"300px","text-align":"center","margin-left":"10px","margin-top":"16px"}},[n("label",{attrs:{for:"ex_file"}},[e._v("Upload")]),n("input",{attrs:{id:"ex_file",type:"file"},on:{change:e.loadTextFromFile}})])},i=[],o={name:"text-reader",props:{importType:String,plainText:String,fileName:String},components:{},data(){return{single:""}},beforeDestroy:function(){},mounted(){},watch:{},methods:{loadTextFromFile(e){if("yaml"==this.importType){this.$emit("update:plainText","");const t=e.target.files[0],n=new FileReader;this.$emit("update:fileName",t.name),n.onload=(e=>this.$emit("load",e.target.result)),n.readAsText(t)}else if("json"==this.importType){const t=e.target.files[0];this.$emit("update:fileName",t.name.replace(".json",""));const n=new FileReader;n.onload=(e=>this.$emit("load",JSON.parse(e.target.result))),n.readAsText(t)}}}},r=o,l=(n("c9bd"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,"24f0e208",null);t["a"]=s.exports},"6fed":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:e.relation.sourceRef+"-"+e.relation.targetRef,vertices:e.vertices,from:e.relation.sourceRef,to:e.relation.targetRef,_style:{"stroke-width":"1.3","stroke-dasharray":"- ",marker:{end:{id:"OG.marker.MessageFlowArrowStartMarker",size:[8,6]},start:{id:"OG.marker.MessageFlowArrowEndMarker",size:[6,6]}}},label:e.relation.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.relation,"sourceRef",t)},"update:to":function(t){return e.$set(e.relation,"targetRef",t)},"update:label":function(t){return e.$set(e.relation,"name",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedFlow()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedFlow()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}}),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.relation,otherwise:e.otherwise},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.relation=t},"update:otherwise":function(t){e.otherwise=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Message Flow Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.relation.name,callback:function(t){e.$set(e.relation,"name",t)},expression:"relation.name"}})],1),n("md-switch",{model:{value:e.relation.localCall,callback:function(t){e.$set(e.relation,"localCall",t)},expression:"relation.localCall"}},[e._v("Local Call")])],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-message-flow",props:{},created:function(){OG.marker.MessageFlowArrowStartMarker||(OG.marker.MessageFlowArrowStartMarker=function(){OG.marker.MessageFlowArrowStartMarker.superclass.call(this),this.MARKER_ID="OG.marker.MessageFlowArrowStartMarker"},OG.marker.MessageFlowArrowStartMarker.prototype=new OG.marker.IMarker,OG.marker.MessageFlowArrowStartMarker.superclass=OG.marker.IMarker,OG.marker.MessageFlowArrowStartMarker.prototype.constructor=OG.marker.MessageFlowArrowStartMarker,OG.MessageFlowArrowStartMarker=OG.marker.MessageFlowArrowStartMarker,OG.marker.MessageFlowArrowStartMarker.prototype.createMarker=function(){var e,t=[];return this.geom?this.geom:(e=new OG.geometry.Polygon([[20,15],[50,51],[20,85]]),e.style=new OG.geometry.Style({"stroke-width":.8,fill:"#ffffff","fill-opacity":1}),t.push(e),this.geom=new OG.geometry.GeometryCollection(t),this.geom)}),OG.marker.MessageFlowArrowEndMarker||(OG.marker.MessageFlowArrowEndMarker=function(){OG.marker.MessageFlowArrowEndMarker.superclass.call(this),this.MARKER_ID="OG.marker.MessageFlowArrowEndMarker"},OG.marker.MessageFlowArrowEndMarker.prototype=new OG.marker.IMarker,OG.marker.MessageFlowArrowEndMarker.superclass=OG.marker.IMarker,OG.marker.MessageFlowArrowEndMarker.prototype.constructor=OG.marker.MessageFlowArrowEndMarker,OG.MessageFlowArrowEndMarker=OG.marker.MessageFlowArrowEndMarker,OG.marker.MessageFlowArrowEndMarker.prototype.createMarker=function(){var e,t=[];return this.geom?this.geom:(e=new OG.geometry.Circle([50,50],40),e.style=new OG.geometry.Style({"stroke-width":.8,fill:"#ffffff","fill-opacity":1}),t.push(e),this.geom=new OG.geometry.GeometryCollection(t),this.geom)})},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{selected:!1,sourceRef:e,_type:"org.uengine.kernel.bpmn.MessageFlow",targetRef:t,relationView:{style:JSON.stringify({}),value:n}}},vertices:{get:function(){try{return JSON.parse(this.relation.relationView.value)}catch(e){return null}},set:function(e){this.relation.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"61db83b9",null);t["default"]=c.exports},7:function(e,t){},"700f":function(e,t,n){var a={"./Element.vue":"b815","./ModelingDesigner.vue":"279b","./ModelingPropertyPanel.vue":"1c71","./ModelingRelation.vue":"cacc","./ParticipantListsPanel.vue":"b255","./StormingSubController.vue":"d4c4","./UMLDesigner.vue":"a742","./UMLPropertyPanel.vue":"417b","./ViewModelingDesigner.vue":"9ee1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="700f"},"71de":function(e,t,n){"use strict";var a=n("75eb9"),i=n.n(a);i.a},7291:function(e,t){throw new Error("Module parse failed: Unexpected character '#' (2:2)\nYou may need an appropriate loader to handle this file type.\n| steps:\n>   ### Test\n|   #  - id: 'test'\n|   #    name: 'gcr.io/cloud-builders/mvn'")},"72ea":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modeling-designer",{ref:"designer",staticStyle:{height:"100%",width:"100%"},attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"event-designer",props:{},data(){return{value:{},url:"",elementTypes:[{icon:"bpmn-icon-start-event-none",component:"domain-event-definition",label:"Event",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/event.png`},{icon:"bpmn-icon-start-event-none",component:"command-definition",label:"Command",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/command.png`},{icon:"bpmn-icon-start-event-none",component:"policy-definition",label:"Policy",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/policy.png`},{icon:"bpmn-icon-start-event-none",component:"aggregate-definition",label:"Aggregate",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/aggregate.png`},{icon:"bpmn-icon-start-event-none",component:"external-definition",label:"External",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/external.png`},{icon:"bpmn-icon-start-event-none",component:"view-definition",label:"View",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/view.png`},{icon:"bpmn-icon-start-event-none",component:"bounded-context-definition",label:"Bounded Context",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/bounded2.png`},{icon:"bpmn-icon-start-actor-none",component:"actor-definition",label:"Actor",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/event/actor.png`}]}},created:function(){},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},7312:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o={name:"sub-elements",props:{},computed:{opengraphRole:function(){return"sub-elements"}},created(){},data:function(){return{}},watch:{},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"695c3520",null);t["default"]=s.exports},"75eb9":function(e,t,n){},"76e0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-beziercurve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.BezierCurve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"17b7b182",null);t["default"]=c.exports},"775c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("md-input-container",{staticStyle:{width:"25%",float:"left","margin-right":"20px"}},[n("label",[e._v("Process Data")]),n("md-select",{attrs:{name:"input",id:"input"},on:{change:e.onChanged},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}},[e._l(e.definition.processVariableDescriptors,function(t){return n("md-option",{key:t.name,attrs:{value:t.name}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),n("md-subheader",[e._v("Roles")]),e._l(e.definition.roles,function(t){return n("md-option",{key:t.name,attrs:{value:"[roles]."+t.name}},[e._v("\n        "+e._s(t.name)+"\n      ")])})],2)],1),e.keys.length>0?n("md-input-container",{staticStyle:{width:"25%",float:"left"}},[n("label",[e._v("Property")]),n("md-select",e._l(e.keys,function(t){return n("md-option",{attrs:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])}),1)],1):e._e()],1)},i=[],o={name:"bpmn-variable-selector",created:function(){this.value||(this.value={name:""}),null!=this.value&&this.metaDataResolver()},props:{value:Object,definition:Object},data:function(){return{keys:[]}},watch:{value:{function(){console.log("hihi")},handler:function(){this.$emit("input",this.value)},deep:!0}},methods:{onChanged(){this.$emit("input",this.value)},metaDataResolver(){console.log("meta!");for(var e=this,t=0;t<e.definition.processVariableDescriptors.length;t++){var n=e.definition.processVariableDescriptors[t];if(n.name==e.value.name&&n.typeClassName.indexOf("#")){var a,i=n.typeClassName.split("#"),o=i[0],r=i[1],l=encodeURI(window.backend.$bind.ref+"/definition/raw/"+o+".ClassDiagram.json");console.log("try to get class diagram: "+l);var s=new XMLHttpRequest;s.open("GET",l,!1),s.setRequestHeader("access_token",localStorage["access_token"]),s.onload=function(){a=JSON.parse(s.responseText)},s.send();for(var c=0;c<a.definition.classDefinitions[1].length;c++)if(r==a.definition.classDefinitions[1][c].name)for(var u=0;u<a.definition.classDefinitions[1][c].fieldDescriptors.length;u++)e.keys.push(a.definition.classDefinitions[1][c].fieldDescriptors[u].name)}}}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},"78a4":function(e,t,n){var a={"./Kube-Element.vue":"e097","./KubeCodeViewer.vue":"14b3","./KubeModeler.vue":"f47d","./KubeModelingDesigner.vue":"903f","./element/Deployment.vue":"a4ac","./element/DeploymentPropertyPanel.vue":"1f3d","./element/Ingress.vue":"0658","./element/IngressPropertyPanel.vue":"a551","./element/KubeRelation.vue":"3640","./element/Namespace.vue":"5ab6","./element/NamespacePropertyPanel.vue":"4822","./element/PersistenceVolume.vue":"2af0","./element/PersistenceVolumeClaim.vue":"98e9","./element/PersistenceVolumeClaimPropertyPanel.vue":"8b8b","./element/PersistenceVolumePropertyPanel.vue":"3e15","./element/Pod.vue":"589e","./element/PodPropertyPanel.vue":"869a","./element/ReplicaSet.vue":"37da","./element/ReplicaSetPropertyPanel.vue":"d42e","./element/Service.vue":"8af5","./element/ServicePropertyPanel.vue":"3e54","./element/YamlEditor.vue":"e5f2"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="78a4"},7926:function(e,t,n){"use strict";var a=n("dd3b"),i=n.n(a);i.a},"7a78":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"edge-element",props:{_style:Object},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return e.vertices&&e.vertices.length>1?new OG.shape.EdgeShape(e.vertices[0],e.vertices[e.vertices.length-1],e.label):new OG.shape.EdgeShape(null,null,e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7f4254f3",null);t["default"]=c.exports},"7a8a":function(e,t,n){"use strict";var a=n("decb"),i=n.n(a);i.a},"7b12":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.parameterContexts,function(t){return n("div",{staticStyle:{height:"80px"}},[n("div",{staticStyle:{width:"15%",float:"left"}},[e.forSubProcess?n("md-input-container",[n("label",[e._v("피호출측 변수")]),e.calleeDefinition?n("md-select",{attrs:{name:"input",id:"input"},model:{value:t.argument.text,callback:function(n){e.$set(t.argument,"text",n)},expression:"parameterContext.argument.text"}},e._l(e.calleeDefinition.processVariableDescriptors,function(t){return n("md-option",{key:t.name,attrs:{value:t.name}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1):n("md-input",{attrs:{name:"input",id:"input"},model:{value:t.argument.text,callback:function(n){e.$set(t.argument,"text",n)},expression:"parameterContext.argument.text"}})],1):n("md-input-container",[n("label",[e._v(e._s(e.labelForArgument?e.labelForArgument:"아규먼트"))]),n("md-input",{attrs:{name:"input",id:"input"},model:{value:t.argument.text,callback:function(n){e.$set(t.argument,"text",n)},expression:"parameterContext.argument.text"}})],1)],1),n("div",{staticStyle:{width:"15%",float:"left"}},[t.transformerMapping?n("md-input-container",[n("label",[e._v("변환")]),n("md-select",{staticStyle:{"min-width":"20px"},model:{value:t.transformerMapping.transformer,callback:function(n){e.$set(t.transformerMapping,"transformer",n)},expression:"parameterContext.transformerMapping.transformer"}},[n("md-subheader",[e._v("형태소 추출")]),n("md-option",{attrs:{value:{_type:"org.uengine.five.kernel.SemanticTransformer",entityType:"SN"}}},[e._v("숫자 ")]),n("md-option",{attrs:{value:{_type:"org.uengine.five.kernel.SemanticTransformer",entityType:"NNP"}}},[e._v("이름 ")]),n("md-option",{attrs:{value:{_type:"org.uengine.five.kernel.SemanticTransformer",entityType:"NNG"}}},[e._v("직업 ")])],1)],1):e._e(),n("md-input-container",[n("label",[e._v("연결방향")]),n("md-select",{staticStyle:{"min-width":"20px"},on:{change:function(n){return e.directionChanged(t)}},model:{value:t.direction,callback:function(n){e.$set(t,"direction",n)},expression:"parameterContext.direction"}},[n("md-button",{staticClass:"md-icon-button",attrs:{slot:"icon","md-menu-trigger":""},slot:"icon"},[n("md-icon",[e._v(e._s(e.iconForDirection(t.direction)))])],1),n("md-option",{attrs:{value:"IN-OUT"}},[n("md-icon",[e._v(e._s(e.iconForDirection("IN-OUT")))])],1),n("md-option",{attrs:{value:"IN"}},[n("md-icon",[e._v(e._s(e.iconForDirection("IN")))])],1),n("md-option",{attrs:{value:"OUT"}},[n("md-icon",[e._v(e._s(e.iconForDirection("OUT")))])],1),n("md-option",{attrs:{value:"OUT "}},[n("md-icon",[e._v("all_inclusive")]),n("md-icon",[e._v(e._s(e.iconForDirection("OUT")))])],1)],1)],1)],1),n("div",[n("bpmn-variable-selector",{attrs:{definition:e.definition},model:{value:t.variable,callback:function(n){e.$set(t,"variable",n)},expression:"parameterContext.variable"}})],1),n("md-layout",{staticStyle:{width:"10%",float:"left"}},[e.forSubProcess?n("md-checkbox",{model:{value:t.split,callback:function(n){e.$set(t,"split",n)},expression:"parameterContext.split"}},[e._v("Split")]):e._e(),e.multi?n("md-checkbox",{model:{value:t.multipleInput,callback:function(n){e.$set(t,"multipleInput",n)},expression:"parameterContext.multipleInput"}},[e._v("Multi")]):e._e()],1),n("div",{staticStyle:{width:"10%",float:"left","margin-top":"20px","margin-left":"10px"}},[n("md-icon",{staticClass:"md-primary",staticStyle:{cursor:"pointer"},nativeOn:{click:function(n){return e.remove(t)}}},[e._v("delete\n        ")])],1)],1)}),n("md-button",{nativeOn:{click:function(t){return e.add(t)}}},[e._v("매핑 추가")])],2)},i=[],o={name:"bpmn-parameter-contexts",props:{parameterContexts:Array,definition:Object,calleeDefinitionId:String,forSubProcess:Boolean,forCallActivity:Boolean,multi:Boolean,labelForArgument:String},data:function(){return{data:{parameterContexts:this.parameterContexts},calleeDefinition:null}},watch:{data:{handler:function(e,t){this.$emit("update:parameterContexts",e)},deep:!0},calleeDefinitionId:function(e){this.refreshCalleeDefinition()}},methods:{iconForDirection:function(e){return"IN"==e?"arrow_back":"OUT"==e||"OUT "==e?"arrow_forward":"settings_ethernet"},refreshCalleeDefinition:function(){if(this.forSubProcess)if(this.forCallActivity){var e=this;this.$root.codi("definition/"+this.calleeDefinitionId+".json").get().then(function(t){e.calleeDefinition=t.data.definition})}else e.calleeDefinition=this.definition},add:function(){this.parameterContexts.push({direction:"IN-OUT",variable:{name:"name"},argument:{text:"arg"}})},remove:function(e){var t=this.parameterContexts.indexOf(e);this.parameterContexts.splice(t,1)},directionChanged:function(e){"OUT "==e.direction?(e.direction="OUT",e.transformerMapping={_type:"org.uengine.processdesigner.mapper.TransformerMapping",transformer:{_type:"org.uengine.five.kernel.SemanticTransformer",entityType:"SSP"}}):e.transformerMapping=null}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},"7b2f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.2,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("image-element",{attrs:{image:e.message_blank_image,"sub-width":"20px","sub-height":"20px","sub-top":"5px","sub-left":"5px"}}),n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("입력 데이터 (JSON/XML)")]),n("md-textarea",{model:{value:e.activity.inputPayloadTemplate,callback:function(t){e.$set(e.activity,"inputPayloadTemplate",t)},expression:"activity.inputPayloadTemplate"}})],1),n("md-input-container",[n("label",[e._v("결과 입력 변수")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.dataInput.name,callback:function(t){e.$set(e.activity.dataInput,"name",t)},expression:"activity.dataInput.name"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-send-task",props:{},created:function(){this.activity.role||(this.activity.role={name:""})},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.bpmn.SendTask"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},dataInput:{name:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{links:null,message_blank_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/message_blank.png"}},watch:{drawer:function(e){if(e){this.activity.role.name=this.bpmnVue.getWhereRoleAmIByTracingTag(this.activity.tracingTag);var t=this,n=this.activity.role.name;this.$root.codi("eureka/apps/"+this.activity.role.name).get().then(function(e){var a=e.data.application.instance[0].homePageUrl;a=n.toLowerCase(),t.$root.codi(a).get().then(function(e){e.data._links&&(t.links=e.data._links)})})}}},mounted:function(){},methods:{giveJSONHint:function(){var e=function(e){var t=document.createElement("a");t.href=e,t.path=t.pathname.substr(1);try{t.path=t.path.split("%7")[0]}catch(n){}return t},t=e(this.activity.uriTemplate),n=this;this.$root.codi(t.path).get().then(function(t){if(t.data._links.profile){var a=e(t.data._links.profile.href);n.$root.codi(a.path).get().then(function(e){if(console.log(e.data),e.data.alps.descriptors[0].descriptors){var t={};e.data.alps.descriptors[0].descriptors.forEach(function(e){t[e.name]="<%="+e.name+"%>"}),n.activity.inputPayloadTemplate=JSON.stringify(t,null,2);var a=n.activity;n.activity=null,n.activity=a}})}})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"69a8140e",null);t["default"]=c.exports},"7c87":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-rect",props:{upperLeft:{default:function(){return[0,0]},type:Array},width:{default:function(){return 100},type:Number},height:{default:function(){return 100},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Rectangle(this.upperLeft,this.width,this.height),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"51d5d3c6",null);t["default"]=c.exports},"7cf0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px",disabled:e.isRead}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.createRules.length?n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventLists,"item-text":"name","return-object":"",prefix:"CREATE WHEN",dense:""},model:{value:e.createItem.when,callback:function(t){e.$set(e.createItem,"when",t)},expression:"createItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("SET")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.createItem.fieldMapping,function(t,a){return n("tr",[a!=e.createItem.fieldMapping.length-1||e.saveBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.createItem.fieldMapping.length-1||e.saveBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.createItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.createItem.fieldMapping,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"30px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.test()}}},[e.saveBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.createItem.fieldMapping)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewCreate",props:{value:Object,createItem:Object,index:Number,isRead:Boolean},data:function(){return{saveBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.createItem.when).length>0&&-1!=this.eventLists.findIndex(e=>e.elementView.id===this.createItem.when.elementView.id)?this.eventLists[this.eventLists.findIndex(e=>e.elementView.id===this.createItem.when.elementView.id)].fieldDescriptors:[]},eventLists:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},created(){},methods:{test(){this.saveBtn?this.saveBtn=!1:this.saveBtn=!0},removeMainRow(e){var t=this;t.value.createRules[e]=null,t.value.createRules=t.value.createRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),v=n("132d"),h=n("5d23"),f=n("0fd9"),g=n("1f4f"),y=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=y.exports;c()(y,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:v["a"],VListItemSubtitle:h["b"],VRow:f["a"],VSimpleTable:g["a"]})},"7e07":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-point",props:{coordinate:{default:function(){return[20,5]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Point(this.coordinate),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"9fbe743c",null);t["default"]=c.exports},8:function(e,t){},"805d":function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},"809c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"circle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.CircleShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"3e947b43",null);t["default"]=c.exports},"81a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.relation.sourceRef+"-"+e.relation.targetRef,vertices:e.vertices,from:e.relation.sourceRef,to:e.relation.targetRef,_style:e.style,label:e.relation.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.relation,"sourceRef",t)},"update:to":function(t){return e.$set(e.relation,"targetRef",t)},"update:_style":function(t){e.style=t},"update:label":function(t){return e.$set(e.relation,"name",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedFlow()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedFlow()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}}),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.relation,otherwise:e.otherwise},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.relation=t},"update:otherwise":function(t){e.otherwise=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Sequence Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.relation.name,callback:function(t){e.$set(e.relation,"name",t)},expression:"relation.name"}})],1),n("md-layout",{attrs:{"md-flex":"20"}},[n("md-checkbox",{model:{value:e.otherwise,callback:function(t){e.otherwise=t},expression:"otherwise"}},[e._v("Otherwise Condition")])],1),n("md-input-container",[n("label",[e._v("Priority")]),n("md-input",{attrs:{type:"number"},model:{value:e.relation.priority,callback:function(t){e.$set(e.relation,"priority",t)},expression:"relation.priority"}})],1),n("md-checkbox",{model:{value:e.complexCondition,callback:function(t){e.complexCondition=t},expression:"complexCondition"}},[e._v("Complex Rule")]),e.complexCondition?n("div",[n("org-uengine-kernel-Or",{attrs:{definition:e.definition},model:{value:e.relation.condition,callback:function(t){e.$set(e.relation,"condition",t)},expression:"relation.condition"}})],1):n("org-uengine-kernel-Evaluate",{attrs:{definition:e.definition},model:{value:e.relation.condition,callback:function(t){e.$set(e.relation,"condition",t)},expression:"relation.condition"}})],1),n("template",{slot:"additional-tabs"},[n("md-tab",{attrs:{id:"mapper"+e._uid,"md-label":"Data Mapping"}},[e.drawer?n("bpmn-mapper",{attrs:{definition:e.definition}}):e._e()],1)],1)],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-relation",props:{},created:function(){console.log("xxx"),this.relation.condition&&(this.relation.condition._type.indexOf("Or")>-1||this.relation.condition._type.indexOf("And")>-1)&&(this.complexCondition=!0)},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{selected:!1,sourceRef:e,targetRef:t,priority:1,relationView:{style:JSON.stringify({}),value:n},condition:{_type:"org.uengine.kernel.Evaluate",pv:{_type:"org.uengine.kernel.ProcessVariable",name:""},condition:"==",val:""}}},vertices:{get:function(){try{return JSON.parse(this.relation.relationView.value)}catch(e){return null}},set:function(e){this.relation.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1,complexCondition:!1,thisConditionType:"org.uengine.kernel.Or"}},watch:{drawer:function(e){e&&("org.uengine.kernel.Otherwise"==this.relation.condition._type?this.otherwise=!0:this.otherwise=!1)},otherwise:function(e){var t=this,n={};e?n._type="org.uengine.kernel.Otherwise":this.condition={_type:"org.uengine.kernel.Evaluate",pv:{_type:"org.uengine.kernel.ProcessVariable",name:""},condition:"==",val:""},t.relation.condition=n},complexCondition:function(e){if(e){if(this.relation.condition&&(this.relation.condition._type.indexOf("Or")>-1||this.relation.condition._type.indexOf("And")>-1))return;this.relation.condition;this.relation.condition.conditionsVt=[],this.relation.condition._type="org.uengine.kernel.Or"}else this.relation.condition&&(this.relation.condition._type.indexOf("Or")>-1||this.relation.condition._type.indexOf("And")>-1)&&(this.complexCondition=!0)}},mounted:function(){},methods:{setDefinition:function(e){this.def=e},setData:function(e){this.data=e}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"6afdea02",null);t["default"]=c.exports},"823d":function(e,t,n){},"82a6":function(e,t,n){"use strict";const a={install(e,t={}){const a=n("700f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default);e.modelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},"84db":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead,connectable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},customMoveAction:e.delayedMove,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:function(t){return e.showProperty()},rotateShape:e.onRotateShape,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F1A746",fill:"#F1A746","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":0,stroke:"#F1A746",fill:"#F1A746","fill-opacity":.5,r:"1"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e(),n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Event >>"}})],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Event",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r=(n("2ef0"),n("64ae"),n("761a"),n("9dbb0"),{mixins:[o["default"]],name:"domain-event-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.aggregate).length&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context, Must be attached to an Aggregate and Must has a name.":0==Object.keys(e.value.aggregate).length?"Must be attached to an Aggregate.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return 0==Object.keys(e.value.aggregate).length||""==e.namePanel||0==Object.keys(e.value.boundedContext).length},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Event"},createNew(e,t,n,a,i,o){return{_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",aggregate:{},boundedContext:{},fieldDescriptors:[{_type:"org.uengine.model.FieldDescriptor",name:"id",className:"Long",nameCamelCase:"id",namePascalCase:"Id",isKey:!0}],elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0},alertURL:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",checkAlert:!0,relationPolicyInfo:[],relationCommandInfo:[],trigger:"@PrePersist"}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},"value.name":function(e,t){var n=this;n.namePanel=e},"value.aggregate":{deep:!0,handler:function(e,t){var n=this;0==Object.keys(e).length||e.id==t.id||(this.isValueChanged=!0,n.refreshImg())}},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead}),e.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){var n=JSON.parse(t.element);e.movingElement=!0,e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))})},methods:{refreshImg(){var e=this;this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}}),l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"a2de288a",null);t["default"]=c.exports},"869a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-text-field",{attrs:{label:"Image"},model:{value:e.value.object.spec.containers[0].image,callback:function(t){e.$set(e.value.object.spec.containers[0],"image",t)},expression:"value.object.spec.containers[0].image"}}),n("v-text-field",{attrs:{label:"Port",type:"number"},model:{value:e.value.object.spec.containers[0].ports[0].containerPort,callback:function(t){e.$set(e.value.object.spec.containers[0].ports[0],"containerPort",t)},expression:"value.object.spec.containers[0].ports[0].containerPort"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"Pod"}},data:function(){return{}},watch:{},methods:{}},l=r,s=(n("dbbc"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},"884a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",deletable:"",connectable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.setHeight,angle:e.value.elementView.angle,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){e.setHeight=t},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,labelChanged:e.onLabelChanged}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#000000","fill-opacity":1,r:"1"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.itemH+10,"sub-style":{"font-weight":"bold"},text:"Class"}}),n("edge-element",{attrs:{vertices:[[0,e.titleH-(e.value.classReference?10:0)],["100%",e.titleH-(e.value.classReference?10:0)]],"sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.titleH+13*a,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.className}}):e._e()}),n("edge-element",{attrs:{vertices:[[0,e.setHeight/2+10],["100%",e.setHeight/2+10]],"sub-style":{"arrow-start":"none","stroke-width":"0.5","arrow-end":"none"}}}),e._l(e.value.fieldDescriptors,function(t,a){return e.value.fieldDescriptors.length>0?n("text-element",{attrs:{"sub-width":"90%","sub-height":"30%","sub-top":e.setHeight/1.5+13*a,"sub-style":{"text-anchor":"start","font-size":15},text:"+"+t.name+": "+t.className}}):e._e()})],2)],1),e.openPanel?n("uml-property-panel",{attrs:{titleName:"UML-class",img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/event.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"uml-class-definition",props:{},computed:{namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.uml.model.Class"},createNew(e,t,n,a,i,o){return{_type:this.className(),name:"Class",namePascalCase:"",fieldDescriptors:[],elementView:{_type:this.className(),id:e,x:t,y:n,width:200,height:150,style:JSON.stringify({}),angle:0},drawer:!1,selected:!1}}},data:function(){return{itemH:10,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,setHeight:100}},created:function(){},watch:{"value.fieldDescriptors":function(){var e=20*this.value.fieldDescriptors.length;this.setHeight=100+e,this.value.elementView.x=this.value.elementView.x+1,this.$nextTick(function(){this.value.elementView.x=this.value.elementView.x-1})}},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"33a34e08",null);t["default"]=c.exports},"888d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-dialog-confirm",{ref:"deleteDialog",attrs:{"md-title":e.dc.title,"md-content-html":e.dc.contentHtml,"md-ok-text":e.dc.ok,"md-cancel-text":e.dc.cancel},on:{open:e.onOpen,close:e.onClose}}),n("md-table-card",[e.options_&&e.options_.toolbar?n("v-toolbar",[n("div",{staticClass:"title"},[e._v(e._s(e.metadata.displayName))]),n("v-btn",{staticClass:"md-icon-button"},[n("v-icon",[e._v("filter_list")])],1),n("v-btn",{staticClass:"md-icon-button"},[n("v-icon",[e._v("search")])],1)],1):e._e(),n("md-table-alternate-header",{attrs:{"md-selected-label":"selected"}},[n("v-btn",{staticClass:"md-icon-button",nativeOn:{click:function(t){return e.openDialog("deleteDialog")}}},[n("v-icon",[e._v("delete")])],1)],1),n("md-table",{attrs:{"md-sort":"dessert","md-sort-type":"desc"},on:{select:e.onSelect,sort:e.onSort}},[e.primitiveType?n("md-table-header",[n("md-table-row",[n("md-table-head",[e._v("\n                            "+e._s(e.dataLabel?e.dataLabel:e.metadata.displayName)+"\n                        ")])],1)],1):n("md-table-header",[n("md-table-row",e._l(e.columns,function(t){return n("md-table-head",{attrs:{"md-sort-by":t.name}},[e._v("\n                            "+e._s(e._f("capitalize")(t.displayName))+"\n                        ")])}),1)],1),e.primitiveType?n("md-table-body",e._l(e.value,function(t,a){return n("md-table-row",{key:a,attrs:{"md-item":t,"md-selection":""}},[n("md-table-cell",[e.options_.editable?e._e():n("span",[e._v(e._s(e.value[a]))]),e.options_.editable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value[a],expression:"value[rowIndex]"}],domProps:{value:e.value[a]},on:{input:function(t){t.target.composing||e.$set(e.value,a,t.target.value)}}}):e._e()])],1)}),1):n("md-table-body",[e._l(e.value,function(t,a){return n("md-table-row",{key:a,attrs:{"md-item":t,"md-selection":""},nativeOn:{dblclick:function(n){return e.onEdit(t,a)}}},e._l(e.columns,function(i){return n("md-table-cell",[e.options_.editable?e._e():n("span",[e._v(e._s(e.showValue(i,t)))]),e.options_.editable&&i.component?n(i.component,{tag:"component",attrs:{"v-model":e.value[a][i.name],java:i.elemClassName,"full-fledged":!0,options:e.options[i.name]}}):e._e(),e.options_.editable&&!i.component?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value[a][i.name],expression:"value[rowIndex][key.name]"}],domProps:{value:e.value[a][i.name]},on:{input:function(t){t.target.composing||e.$set(e.value[a],i.name,t.target.value)}}}):e._e()],1)}),1)}),n("md-dialog",{ref:"updateDialog",attrs:{"md-open-from":"#fab","md-close-to":"#fab"}},[n("md-dialog-title",[e._v("Edit")]),n("md-dialog-content",[e.updateDialogEnabled?n("object-form",{ref:"object-form",attrs:{java:e.java,backend:e.backend,metadataResolver:e.metadataResolver,online:e.online},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}):e._e()],1),n("md-dialog-actions",[n("v-btn",{staticClass:"md-primary",nativeOn:{click:function(t){return e.$refs["updateDialog"].close()}}},[e._v("Close\n                            ")])],1)],1)],2)],1),e.options_&&e.options_.pagination?n("md-table-pagination",{attrs:{"md-size":"5","md-total":"1000","md-page":"1","md-label":"Rows","md-separator":"of","md-page-options":[5,10,25,50]},on:{pagination:e.onPagination}}):e._e()],1),e.fullFledged?n("div",[n("v-btn",{staticClass:"md-primary",nativeOn:{click:function(t){return e.newForm(t)}}},[n("v-icon",[e._v("add")]),e._v("\n                Add\n            ")],1),n("v-dialog",{ref:"newDialog",attrs:{"md-open-from":"#fab","md-close-to":"#fab"}},[n("v-card",[n("v-card-title",[e._v("New")]),n("v-card-text",[n("v-container",[e.addDialogEnabled?n("object-form",{ref:"object-form",attrs:{java:e.java,backend:e.backend,metadataResolver:e.metadataResolver,online:e.online},on:{added:e.onAdded},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}):e._e()],1)],1),n("v-card-actions",[n("v-btn",{staticClass:"md-primary",nativeOn:{click:function(t){e.addObject(e.$refs["object-form"].value),e.$refs["newDialog"].close()}}},[e._v(" enter\n                    ")]),n("v-btn",{staticClass:"md-primary",nativeOn:{click:function(t){return e.$refs["newDialog"].close()}}},[e._v(" Close")])],1)],1)],1)],1):e._e()],1)},i=[],o={props:{value:Array,filterKey:String,java:String,columnChanger:Object,fullFledged:Boolean,online:Boolean,options:Object,dataLabel:String,backend:Object,metadataResolver:Function},data:function(){let e=this.initGrid();return e.formData={},e.selectedIndex=0,e.updateDialogEnabled=!1,e.addDialogEnabled=!1,e},watch:{java:function(){var e=this.initGrid();this.columns=e.columns,this.metadata=e.metadata},value:{handler:function(){this.$emit("input",this.value)},deep:!0}},created:function(){this.options&&(this.online=this.options.online),this.value||(this.value=[],this.$emit("input",this.value)),this.dc={title:"데이터 삭제",contentHtml:"해당 데이터를 삭제 하시겠습니까?",cancel:"No",ok:"Yes"},this.loadData()},computed:{filteredData:function(){return this.rowData},primitiveType:function(){return!(!this.java||0!=this.java.indexOf("java.lang."))}},filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},methods:{initGrid:function(){var e,t=new XMLHttpRequest,n=[],a=this,i=this.options;i||(i={}),this.metadataResolver?e=this.metadataResolver(this.java,this):(t.open("GET",this.backend.$bind.ref+"/classdefinition?className="+this.java,!1),t.setRequestHeader("access_token",localStorage["access_token"]),t.onload=function(){e=JSON.parse(t.responseText)},t.send()),n=e.fieldDescriptors;for(var o=0;o<n.length;o++){var r=n[o];if(r.displayName||(r.displayName=r.name),r.options&&r.values){for(var l in r.optionMap={},r.options){var s=r.options[l];r.optionMap[s]=r.values[l]}i[r.name]=r.optionMap}else i[r.name]={};r.attributes&&r.attributes["hidden"]?(n.splice(o,1),o--):r.optionMap&&r.optionMap["vue-component"]&&Vue.options.components[r.optionMap["vue-component"]]?r.component=r.optionMap["vue-component"]:"long"==r.className||"java.lang.Long"==r.className||"java.lang.Integer"==r.className?r.type="number":"java.util.Date"==r.className||"java.util.Calendar"==r.className?r.type="date":0==r.className.indexOf("[L")&&r.className.indexOf(";")>1?(r.component="object-grid",r.elemClassName=r.className.substring(2,r.className.length-1),i[r.name]["editable"]=!0):r.collectionClass&&(r.component="object-grid",r.elemClassName=r.collectionClass,i[r.name]["editable"]=!0)}return a.columnChanger&&a.columnChanger(n),console.log(n),{columns:n,metadata:e,options_:i||{},pagination:{page:1,size:20},sort:null,selected:null,selectedLength:null,selectedClass:null}},onPagination:function(e){this.pagination=e,this.loadData()},onSort:function(e){this.sort=e,this.loadData()},loadData:function(){if(this.online){var e=this.pagination.page,t=this.pagination.size,n=this.java.split("."),a=n[n.length-1].toLowerCase(),i=new XMLHttpRequest,o=this;i.open("GET",this.backend.$bind.ref+"/"+a+"?page="+(e-1)+"&size="+t+(this.sort?"&sort="+this.sort.name+","+this.sort.type:""),!1),i.setRequestHeader("access_token",localStorage["access_token"]),i.onload=function(){var e=JSON.parse(i.responseText);for(var t in o.value=e._embedded[a],o.value){var n=o.value[t];if(n&&n._links&&n._links.tenantProperties){var r=n._links.tenantProperties.href,l=new XMLHttpRequest;l.open("GET",r,!0),l.setRequestHeader("access_token",localStorage["access_token"]),l.setRequestHeader("Content-Type","application/json; charset=UTF-8"),l.onload=function(){if(l.responseText&&l.responseText.trim().length>0){var e=JSON.parse(l.responseText);if(e.json&&(e=e.json),e&&o.metadata)for(var t in o.metadata.fieldDescriptors){var a=o.metadata.fieldDescriptors[t];a.attributes&&a.attributes.extended&&Vue.set(n,a.name,e[a.name])}}},l.send()}}},i.send()}},sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]},showValue:function(e,t){return e.computed?e.computed(t):t[e.name]},onAdded:function(e){this.addObject(e)},addObject:function(e){this.primitiveType&&(e=e.value),"{}"==JSON.stringify(this.value)&&(this.value=[]),this.value.push(e),this.$emit("input",this.value)},submit_for_delete:function(e,t){var n=new XMLHttpRequest;n.open("DELETE",e,!1),n.setRequestHeader("access_token",localStorage["access_token"]),n.onload=function(){console.log(n)},n.send()},changeObject:function(e){this.$emit("input",this.value)},openDialog:function(e){this.$refs[e].open()},closeDialog:function(e){this.$refs[e].close()},onOpen:function(){console.log("Opened")},onClose:function(e){"ok"==e&&this.online?this.deleteSubmit():this.deleteSelectedRows(),console.log("Closed",e)},onSelect:function(e){this.selected=e},onEdit:function(e,t){this.formData=this.value[t],this.updateDialogEnabled=!0,this.$refs["updateDialog"].open()},deleteSubmit:function(){for(var e in this.selected)this.submit_for_delete(this.selected[e]._links.self.href);this.loadData()},deleteSelectedRows:function(){var e=0;for(var t in this.selected){var n=this.value.indexOf(this.selected[t]);this.value.splice(n-e,1),e++}this.loadData()},newForm:function(){var e=this;e.addDialogEnabled=!0,e.$nextTick(function(){e.formData={typeClassName:"java.lang.String"},e.$refs["newDialog"].open()})}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),d=n("b0af"),m=n("99d9"),p=n("a523"),v=n("169a"),h=n("132d"),f=n("71d9"),g=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=g.exports;c()(g,{VBtn:u["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:p["a"],VDialog:v["a"],VIcon:h["a"],VToolbar:f["a"]})},8950:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1.1}}}),n("geometry-circle",{attrs:{center:[50,50],radius:28,_style:{"stroke-width":.5,fill:"#FFFF00"}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-line",{attrs:{from:[58,28],to:[48,52]}}),n("geometry-line",{attrs:{from:[68.1,53],to:[48,52]}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("Schedule Type")]),n("md-select",{model:{value:e.activity.scheduleType,callback:function(t){e.$set(e.activity,"scheduleType",t)},expression:"activity.scheduleType"}},[n("md-option",{attrs:{value:"cron"}},[e._v("Cron Expression")]),n("md-option",{attrs:{value:"sec"}},[e._v("Interval in second")]),n("br"),n("md-subheader",[e._v("Available in Enterprise Edition")]),n("md-option",{attrs:{value:"min"}},[e._v("Interval in minute")]),n("md-option",{attrs:{value:"hour"}},[e._v("Interval in hour")]),n("md-option",{attrs:{value:"milisec"}},[e._v("Interval in mili-second")])],1)],1),"cron"==e.activity.scheduleType?n("md-input-container",[n("label",[e._v("Quartz Cron Expression")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.expression,callback:function(t){e.$set(e.activity,"expression",t)},expression:"activity.expression"}}),n("a",{attrs:{href:"http://www.cronmaker.com/",target:"_blank"}},[e._v("Cron Maker")])],1):e._e(),"sec"==e.activity.scheduleType?n("md-input-container",[n("label",[e._v("Interval in Second")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.expression,callback:function(t){e.$set(e.activity,"expression",t)},expression:"activity.expression"}})],1):e._e(),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1),n("md-input-container",[n("label",[e._v("부착 액티비티 ID")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.attachedToRef,callback:function(t){e.$set(e.activity,"attachedToRef",t)},expression:"activity.attachedToRef"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-timer-intermediate-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.TimerIntermediateEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,scheduleType:"sec",expression:"10",elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7c855972",null);t["default"]=c.exports},"8a68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead&&e.movingElement,connectable:"",angle:e.value.elementView.angle,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},customMoveAction:e.delayedMove,dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#BB94BF",fill:"#BB94BF","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#BB94BF",fill:"#BB94BF","fill-opacity":.5,r:"1"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"},on:{"{on}":function(e){}}}):e._e(),n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< Policy >>"}})],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Policy",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/policy.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r=(n("64ae"),n("761a"),n("9dbb0"),{mixins:[o["default"]],name:"policy-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context and Must has a name.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return 0==Object.keys(e.value.boundedContext).length||""==e.namePanel},namePascalCase(){var e=this;return e.name.charAt(0).toUpperCase()+e.name.slice(1)},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Policy"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",boundedContext:{},elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})},relationEventInfo:[]}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},"value.name":function(e,t){this.namePanel=e},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}if("editUserPanelOpen"==t.state||"editUserSelectOn"==t.state){var a=t.uid,i=e.newEditUserImg.findIndex(e=>user.uid==a);-1==i?e.newEditUserImg.push(t):e.newEditUserImg[i]=t}else if(("editUserPanelClose"==t.state||"editUserSelectOff"==t.state)&&e.newEditUserImg.length>0){a=t.uid,i=e.newEditUserImg.findIndex(e=>e.uid==a);-1!=i&&(e.newEditUserImg[i]=null,e.newEditUserImg=e.newEditUserImg.filter(e=>e))}})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})}}}),l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"2fde8566",null);t["default"]=c.exports},"8af5":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#2196f3",fill:"#2196f3","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"Service"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("3e54"),l={mixins:[o["default"]],name:"service",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"Service"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/svc.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"apps/v1",kind:"Service",metadata:{name:"",labels:{app:""}},spec:{ports:[{port:"80",targetPort:"80"}],selector:{app:""}}},outboundDeployment:null,outboundPod:null,outboundReplicaSet:null,connectableType:["Deployment","Pod","ReplicaSet"]}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},outboundDeploymentName(){try{return this.value.outboundDeployment.object.metadata.name}catch(e){return""}},outboundPodName(){try{return this.value.outboundPod.object.metadata.name}catch(e){return""}},outboundReplicaSetName(){try{return this.value.outboundReplicaSet.object.metadata.name}catch(e){return""}}},data:function(){return{}},created:function(){},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"addRelation"==t.state&&t.element&&t.element.targetElement&&"Deployment"==t.element.targetElement._type?e.value.outboundDeployment=t.element.targetElement:"addRelation"==t.state&&t.element&&t.element.targetElement&&"Pod"==t.element.targetElement._type?e.value.outboundPod=t.element.targetElement:"addRelation"==t.state&&t.element&&t.element.targetElement&&"ReplicaSet"==t.element.targetElement._type&&(e.value.outboundReplicaSet=t.element.targetElement),"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"Deployment"==t.element.targetElement._type?e.value.outboundDeployment=null:"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"Pod"==t.element.targetElement._type?e.value.outboundPod=null:"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"ReplicaSet"==t.element.targetElement._type&&(e.value.outboundReplicaSet=null)})},watch:{name(e){this.value.object.metadata.labels.app=e},outboundDeploymentName:function(e){this.value.object.spec.selector.app=e},outboundPodName:function(e){this.value.object.spec.selector.app=e},outboundReplicaSetName:function(e){this.value.object.spec.selector.app=e}},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"8b8b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-select",{attrs:{label:"AccessModes",items:e.accessModeList},model:{value:e.value.object.spec.accessModes,callback:function(t){e.$set(e.value.object.spec,"accessModes",t)},expression:"value.object.spec.accessModes"}}),n("v-text-field",{attrs:{label:"Storage",type:"number"},model:{value:e.value.object.spec.resources.requests.storage,callback:function(t){e.$set(e.value.object.spec.resources.requests,"storage",t)},expression:"value.object.spec.resources.requests.storage"}}),n("v-text-field",{attrs:{label:"VolumeMode"},model:{value:e.value.object.spec.volumeMode,callback:function(t){e.$set(e.value.object.spec,"volumeMode",t)},expression:"value.object.spec.volumeMode"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"PersistenceVolumeClaim"}},data:function(){return{accessModeList:[["ReadWriteOnce"],["ReadOnlyMany"],["ReadWriteMany"]]}},watch:{},methods:{}},l=r,s=(n("dc33"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("b974"),k=n("8654"),C=n("3a2f"),S=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=S.exports;u()(S,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VSelect:x["a"],VTextField:k["a"],VTooltip:C["a"]})},"8d12":function(e,t,n){},"8d8b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableTo:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("v-container",[e._v("\n        액티비티 명\n        "),n("v-text-field",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("v-container",[n("label",[e._v("retryDelay")]),n("v-text-field",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-start-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"StartEvent"},className(){return"org.uengine.kernel.bpmn.StartEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=n("6544"),u=n.n(c),d=n("a523"),m=n("8654"),p=Object(s["a"])(l,a,i,!1,null,"c0bc9c88",null);t["default"]=p.exports;u()(p,{VContainer:d["a"],VTextField:m["a"]})},"8e0f":function(e,t,n){var a={"./BpmnComponentChanger.vue":"5380","./BpmnComponentFinder.vue":"3d87","./BpmnLoopType.vue":"b832","./BpmnPropertyPanel.vue":"1aff","./BpmnStateAnimation.vue":"1603","./BpmnSubController.vue":"5508","./BpmnTreeList.vue":"6ab6","./BpmnVue.vue":"d0da","./BpmnVueFinder.vue":"d693","./IBpmn.vue":"9f99","./event/end/CompensationEndEvent.vue":"dc7f","./event/end/EndEvent.vue":"3931","./event/end/ErrorEndEvent.vue":"12be","./event/end/EscalationEndEvent.vue":"c5ae","./event/end/SignalEndEvent.vue":"03d4","./event/end/TerminateEndEvent.vue":"a01a","./event/intermediate/CatchErrorEvent.vue":"2ad2","./event/intermediate/CompensationIntermediateThrowEvent.vue":"ba03","./event/intermediate/ConditionalCatchEvent.vue":"0922","./event/intermediate/EscalationIntermediateCatchEvent.vue":"ab6e","./event/intermediate/EscalationIntermediateThrowEvent.vue":"b38e","./event/intermediate/IntermediateEvent.vue":"de81","./event/intermediate/LinkIntermediateCatchEvent.vue":"a0b8","./event/intermediate/LinkIntermediateThrowEvent.vue":"bb36","./event/intermediate/MessageIntermediateCatchEvent.vue":"1d2b1","./event/intermediate/MessageIntermediateThrowEvent.vue":"4f37","./event/intermediate/SignalIntermediateCatchEvent.vue":"9491","./event/intermediate/SignalIntermediateThrowEvent.vue":"2e72","./event/intermediate/TimerIntermediateEvent.vue":"8950","./event/start/ConditionalStartEvent.vue":"3827","./event/start/MessageStartEvent.vue":"b236","./event/start/SignalStartEvent.vue":"9527","./event/start/StartEvent.vue":"8d8b","./event/start/TimerStartEvent.vue":"db5c","./gateway/EventBasedGateway.vue":"1c25","./gateway/ExclusiveGateway.vue":"4b7b","./gateway/Gateway.vue":"e6f2","./gateway/InclusiveGateway.vue":"2601","./gateway/ParallelGateway.vue":"bab0","./mapper/Mapper.vue":"54b1","./relation/ConditionEditorRelation.vue":"81a7","./relation/MessageFlow.vue":"6fed","./relation/OrgUengineKernelAnd.vue":"3d28","./relation/OrgUengineKernelEvaluate.vue":"1777","./relation/OrgUengineKernelOr.vue":"9bf5","./relation/Relation.vue":"2a7c","./role/BpmnRoleParameterContexts.vue":"a706","./role/Role.vue":"154b","./subprocess/SubProcess.vue":"8e7e","./task/CallActivity.vue":"b483","./task/ReceiveTask.vue":"6579","./task/ScriptTask.vue":"1b05","./task/SendTask.vue":"7b2f","./task/ServiceTask.vue":"047a","./task/Task.vue":"29a7","./task/UserTask.vue":"5825","./variable/BpmnInstanceVariables.vue":"1ec9","./variable/BpmnParameterContexts.vue":"7b12","./variable/BpmnVariableSelector.vue":"775c"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="8e0f"},"8e15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"group-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=new OG.shape.GroupShape;if(t.label=e.label,t.SHAPE_ID=e.shapdId,!$.isEmptyObject(e.geometrys)){let n=Object.keys(e.geometrys);n.length<2?t.createShape=function(){return this.geom?this.geom:(this.geom=e.geometrys[n[0]].createGeometry(),this.geom)}:t.createShape=function(){if(this.geom)return this.geom;var t=[];for(var n in e.geometrys)t.push(e.geometrys[n].createGeometry());return this.geom=new OG.geometry.GeometryCollection(t),this.geom}}return t}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"673653ce",null);t["default"]=c.exports},"8e4c":function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM python:2.7-slim\n| WORKDIR /app\n| ADD . /app")},"8e7e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("group-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"stroke-width":1.2,r:6,fill:"#FFFFFF","fill-opacity":.7,"vertical-align":"top","text-anchor":"start"}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),e._l(e.activity.childActivities[1],function(t){return e.bpmnVue&&e.activity.childActivities?n("div",[null!=t?n(e.bpmnVue.getComponentByClassName(t._type),{tag:"component",attrs:{activity:t,definition:e.definition},on:{"update:activity":function(e){t=e}}}):e._e()],1):e._e()}),e._l(e.activity.sequenceFlows,function(t){return e.bpmnVue&&e.activity.sequenceFlows?n("div",[null!=t?n("bpmn-relation",{attrs:{relation:t},on:{"update:relation":function(e){t=e}}}):e._e()],1):e._e()}),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Activity Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-subheader",[e._v("Array Variable for multiplicity")]),n("bpmn-variable-selector",{attrs:{definition:e.definition},model:{value:e.activity.forEachVariable,callback:function(t){e.$set(e.activity,"forEachVariable",t)},expression:"activity.forEachVariable"}}),n("md-subheader",[e._v("Variable Mappings")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.variableBindings,definition:e.definition,"for-sub-process":!0}})],1),n("template",{slot:"additional-tabs"})],2)],2)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-subprocess",props:{},computed:{defaultStyle(){return{}},type(){return"SubProcess"},className(){return"org.uengine.kernel.bpmn.SubProcess"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,childActivities:["java.util.ArrayList",[]],sequenceFlows:[],variableBindings:["java.util.ArrayList",[]],elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4662af89",null);t["default"]=c.exports},"903f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!e.isRead,resizable:!0,selectable:!0,connectable:!e.isRead,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definitions,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{ref:t.elementView.id,refInFor:!0,tag:"component",attrs:{value:t},on:{"update:value":function(e){t=e}}})],1)}),e._l(e.value.relations,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{ref:t.relationView.id,refInFor:!0,tag:"component",attrs:{value:t},on:{"update:value":function(e){t=e}}})],1)})],2):e._e(),n("v-flex",{staticStyle:{justify:"end",align:"start"}},[n("v-row",{staticStyle:{"margin-right":"10px"},attrs:{justify:"end",align:"start"}},["anonymous"==e.parmUid?n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e.isRead?e._e():n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.$EventBus.$emit("showLoginDialog")}}},a),[n("v-icon",[e._v(e._s(e.files.save))]),e._v("\n                            SAVE\n                        ")],1)]}}],null,!1,342054191)},[n("v-list")],1):e._e(),"anonymous"!=e.parmUid?n("v-menu",{staticClass:"pa-2",attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e.isRead?e._e():n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},nativeOn:{click:function(t){return e.kuberSaveDialogReady()}}},a),[n("v-icon",[e._v(e._s(e.files.save))]),e._v("\n                            SAVE\n                        ")],1)]}}],null,!1,3121766428)},[n("v-list",e._l(e.saveItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e(),n("v-menu",{staticClass:"pa-2",staticStyle:{"margin-right":"3px"},attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"orange",dark:""},on:{click:function(t){return e.codeModalShow()}}},a),[n("v-icon",[e._v(" "+e._s(e.files.code))]),e._v("\n                            CODE\n                        ")],1)]}}])},[n("v-list",e._l(e.codeItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1),"kuberMine"!=e.parmType||e.isRead?e._e():n("v-menu",{staticClass:"pa-2",attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"5px","margin-top":"15px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.openKuberShareDialog()}}},a),[n("v-icon",[e._v(e._s(e.files.share))]),e._v("\n                            SHARE\n                        ")],1)]}}],null,!1,3456275992)},[n("v-list",e._l(e.shareItems,function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.functionSelect(t.title,a)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1)],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return e.isRead?e._e():n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}],null,!1,1509594269)},[n("span",[e._v(e._s(t.label))])])})],2)],1),n("modal",{attrs:{name:"codeModal",height:"auto",width:"80%",scrollable:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-col",{attrs:{col:8}},[n("span",{staticClass:"headline"},[e._v("Code Preview")])]),n("v-col",{attrs:{col:4}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),n("v-divider"),n("v-card-text",{staticStyle:{width:"auto",height:"auto"}},[n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"overflow-auto",staticStyle:{"margin-right":"15px","border-right":"1px solid black","max-height":"700px","max-width":"400px"},attrs:{id:"scroll-target"}},[n("v-treeview",{attrs:{items:e.treeList,active:e.openCode,activatable:"","item-key":"key","return-object":"","open-all":"",transition:e.treeOpen,"open-on-click":"",transition:"",dense:""},on:{"update:items":function(t){e.treeList=t},"update:active":function(t){e.openCode=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.file?n("v-icon",[e._v("\n                                    "+e._s(e.files[a.file])+"\n                                ")]):n("v-icon",[e._v("\n                                    "+e._s(i?"mdi-folder-open":"mdi-folder")+"\n                                ")])]}}])})],1),n("v-col",[e.codeViewing?n("kube-code-viewer",{model:{value:e.openCode,callback:function(t){e.openCode=t},expression:"openCode"}}):e._e()],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.kuberSaveDialogOpen,callback:function(t){e.kuberSaveDialogOpen=t},expression:"kuberSaveDialogOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Save new version")]),n("v-card-text",[e.duplicateprojectName?n("div",[n("v-icon",{attrs:{small:"",color:"red"}},[e._v("info")]),e._v("\n                    There is a duplicate projectName\n                ")],1):e._e(),n("v-text-field",{attrs:{label:"projectName"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),n("v-textarea",{attrs:{outline:"",name:"input-7-4",label:"comment",counter:255},model:{value:e.kuberSaveProjectComment,callback:function(t){e.kuberSaveProjectComment=t},expression:"kuberSaveProjectComment"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.kuberSaveProjectComplete()}}},[e._v("Save")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.kuberSaveDialogClose()}}},[e._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"600"},model:{value:e.kuberShareDialog,callback:function(t){e.kuberShareDialog=t},expression:"kuberShareDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("share setting")]),n("v-card-text",[n("v-col",[n("v-checkbox",{attrs:{label:"share everyone"},model:{value:e.kuberSharedEveryoneBtn,callback:function(t){e.kuberSharedEveryoneBtn=t},expression:"kuberSharedEveryoneBtn"}})],1),n("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"comment",height:"40px",counter:100},model:{value:e.kuberShareCommnet,callback:function(t){e.kuberShareCommnet=t},expression:"kuberShareCommnet"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.applyKuberShare()}}},[e._v("Apply")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.closeKuberShareDialog()}}},[e._v("Close")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.generateZipDialog,callback:function(t){e.generateZipDialog=t},expression:"generateZipDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Generate Zip Archive")]),n("v-card-text",[n("v-select",{staticClass:"pa-0",attrs:{items:e.templateList,label:"Select Template","hide-details":""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.generateZip()}}},[e._v("Download")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.generateZipDialog=!1}}},[e._v("Cancel")])],1)],1)],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),r=n("21a6"),l=n("8055"),s=n("8f94"),c=(n("651e"),n("8241")),u=n.n(c),d=(n("a7be"),n("7ba3"),n("ced0"),n("bc3a"),n("8aa5")),m=n.n(d),p=(n("3e8f"),n("2ef0")),v=(n("ad23"),n("27ae").Base64,n("651e"),n("21a6")),h=(n("64ae"),n("761a"),n("7c39")),f=n("e811"),g={name:"kube-modeling-designer",components:{TextReader:o["a"],saveAs:r["saveAs"],io:l,codemirror:s["codemirror"]},props:{elementTypes:Array},data(){return{types:"deployment",plainText:"",dashOpen:!1,isMyEdit:!1,isOtherEdit:!1,isShareSave:!1,loadingDialog:!0,codeViewing:!1,saveItems:[{title:"Save to Server"}],codeItems:[{title:"Code Preview"},{title:"Download Archive"}],shareItems:[{title:"Share"}],onlineSaveDialog:!1,onlineSaveComfirmDialog:!1,isLoadVersion:!1,author:"",serverComment:"",shareComment:"",serverDate:"",editing:!0,files:{version:"mdi-server",code:"mdi-code-array",save:"mdi-content-save",open:"mdi-book-open",md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker",png:"mdi-file-image",json:"mdi-json",python:"mdi-language-python",fork:" mdi-silverware-fork",share:"mdi-share-variant"},canvas:null,dragPageMovable:!1,value:{definitions:[],relations:[]},projectName:"",duplicateprojectName:!1,generateZipDialog:!1,undoRedoStorage:100,undoRedoArray:[],undoRedoIndex:0,undoRedoLastIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",pathTmp:[],gitCodeUrl:{},model:[],fullPathList:[],treeList:[],getCodeList:[],openCode:[],template:"",templateList:["Separate File","Single File","Separate File for kind","Helm"],treeOpen:!0,gitUrl:"",gitPath:[],gitCode:[],checkName:!0,drawer:!1,chatUid:"",messageRef:{},versionList:[],version:"",revisionInfo:{},showVersionsDialog:!1,kubernetesToken:"",clusterAddress:"",tokenDialog:!1,projectAuthor:"",parmVersion:"",parmType:"",parmProjectId:"",parmUid:"",newProjectId:"",isRead:!1,forkDialog:!1,isUndoRedo:!1,connetServer:"",roomId:"masez",rtcLogin:!1,webrtcDialog:!1,database:null,isSelfEdit:!0,isLoad:!1,sharedCount:0,kuberSaveDialogOpen:!1,kuberSaveProjectComment:"",completedQueue:!1,completedValue:!1,kuberShareDialog:!1,kuberShareCommnet:"",kuberSharedEveryoneBtn:!1}},beforeDestroy:function(){var e=this;e.database.ref("value").off(),e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(t){"kuberLocal"==e.parmType?(localStorage.setItem("kuberLocalSaveImg",t),localStorage.setItem("kuberLocalSaveProjectName",e.projectName)):"kuberMine"!=e.parmType&&"kuberShare"!=e.parmType&&"kuberEvery"!=e.parmType||(e.completedQueue||e.completedValue)&&e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion+"/versionInfo/").update({projectName:e.projectName,img:t}),e.$EventBus.$emit("updatePic",t)}),localStorage.removeItem("kuberProjectId")},computed:{checkValueRelation(){return p.cloneDeep(this.value)},shareIconTypes(){var e=this;return"ReadOnly"==e.isMultiShareType?"mdi-eye":"mdi-pencil"},id:{get:function(){return this.projectName}}},created:function(){var e=this;e.database=m.a.database(),window.io=l,e.parmUid=this.$route.params.userUid,e.parmType=this.$route.params.projectType,e.parmProjectId=this.$route.params.projectId,e.parmVersion=this.$route.params.projectVersion,e.roomId="msaez_kuber_"+e.parmProjectId;var t={definitions:[],relations:[]};localStorage.getItem("uid");"kuberLocal"==e.parmType?(localStorage.setItem("kuberProjectId",e.parmProjectId),e.projectName=null!=localStorage.getItem("kuberLocalSaveProjectName")?localStorage.getItem("kuberLocalSaveProjectName"):"kuberLocal",e.isRead=!1,null!=localStorage.getItem("kuberLocalLoadData")?e.value=JSON.parse(localStorage.getItem("kuberLocalLoadData")):e.value=t):e.setKuberServerValueSetting()},mounted:function(){var e=this;e.$EventBus.$on("login",function(t){null!=t&&(e.parmUid=localStorage.getItem("uid"))}),e.$EventBus.$on("kuberStorage",function(t){var n=JSON.parse(JSON.stringify(e.value));n.definitions=n.definitions.filter(e=>e),n.relations=n.relations.filter(e=>e),"kuberLocal"==e.parmType&&(localStorage.removeItem("kuberLocalLoadData"),localStorage.removeItem("kuberLocalSaveTime"),localStorage.removeItem("kuberLocalSaveProjectName"),localStorage.setItem("kuberLocalLoadData",JSON.stringify(n)),localStorage.setItem("kuberLocalSaveTime",e.getNowTime()),localStorage.setItem("kuberLocalSaveProjectName",e.projectName))}),e.onKuberRecevieServerValue(),this.$nextTick(function(){let e=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.opengraph.printTimer(e,(new Date).getTime()),$(document).keydown(e=>{67==e.keyCode&&(e.metaKey||e.ctrlKey)||86==e.keyCode&&(e.ctrlKey||e.metaKey)||90==e.keyCode&&(e.metaKey||e.ctrlKey)&&e.shiftKey})})},watch:{checkValueRelation:{deep:!0,handler:function(e,t){var n,a=this;if(0==a.isLoad){if(0==a.isUndoRedo&&(n=f.diff(t,e),void 0!=n))if("kuberLocal"!=a.parmType){if((0==a.sharedCount||a.isPublicProject)&&"kuberMine"==a.parmType&&a.completedValue)if(1==a.isOtherEdit)a.isOtherEdit=!1;else{a.isMyEdit=!0;var i=JSON.parse(JSON.stringify(e));i.definitions=i.definitions.filter(e=>e),i.relations=i.relations.filter(e=>e);var o=a.database.ref("definitions/"+a.parmProjectId+"/versionLists/"+a.parmVersion);o.once("value",function(e){e.exists()&&void 0!=e.val()["versionValue"].queue&&o.child("/versionValue/queue").remove()}).then(function(){o.child("/versionValue").update({value:JSON.stringify(i)}),console.log("save Server")})}}else a.$EventBus.$emit("kuberStorage");a.isUndoRedo=!1}else a.isLoad=!1}},projectName:p.debounce(function(e){this.$EventBus.$emit("kuberStorage")},200),messageRef:function(e){},async template(){var e=this;e.getListSetting(),e.$nextTick(function(){e.treeOpen=!0})}},methods:{applyKuberShare(){var e=this;console.log(e.kuberSharedEveryoneBtn),e.kuberSharedEveryoneBtn?(e.database.ref("userLists/everyone/kuberShare/"+e.parmProjectId).update({projectId:e.parmProjectId}),e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions").child("everyone").update({write:!1})):e.database.ref("userLists/everyone/kuberShare/"+e.parmProjectId).remove(),e.kuberSaveProjectComment="",e.kuberShareDialog=!1},openKuberShareDialog(){var e=this;e.database.ref("definitions/"+e.parmProjectId+"/shareOptions/permissions").once("value",function(t){t.exists()&&"everyone"==Object.keys(t.val())?e.kuberSharedEveryoneBtn=!0:e.kuberSharedEveryoneBtn=!1}),e.kuberShareDialog=!0},closeKuberShareDialog(){var e=this;e.kuberShareDialog=!1},async onKuberRecevieServerValue(){var e=this;await e.setKuberPermission(),await e.onKuberReceiveValue().then(function(){console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>on KuberReceiveValue<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),e.$nextTick(function(){e.completedValue=!0,e.$EventBus.$emit("progressValue",!1)})}),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Done onKuberReceiveValue<<<<<<<<<<<<<<<<<<<<<<<<<<<<")},onKuberReceiveValue(){var e=this;return new Promise(function(t,n){e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion).on("value",function(n){n.exists()&&(e.completedValue?1==e.isMyEdit?e.isMyEdit=!1:(e.isOtherEdit=!0,e.value=JSON.parse(n.val()["versionValue"].value),e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)})):e.value=JSON.parse(n.val()["versionValue"].value),t())})})},async setKuberServerValueSetting(){var e=this;e.getComponent("App");localStorage.setItem("kuberProjectId",e.parmProjectId),e.isLoad=!0,await e.setKuberPermission().then(function(){""==e.projectName&&e.database.ref("definitions/"+e.parmProjectId+"/versionLists/"+e.parmVersion).once("value",function(t){t.exists()&&(console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>set ProejctName<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),"kuberLocal"!=e.parmType&&(e.projectName=t.val()["versionInfo"].projectName),e.$nextTick(function(){e.$EventBus.$emit("progressValue",!1)}))}),e.projectAuthor==localStorage.getItem("uid")&&e.projectAuthor==e.parmUid&&e.database.ref("definitions/"+e.parmProjectId+"/shareOptions").update({isExistAuthor:!0})})},setKuberPermission(){var e=this;return new Promise(function(t){e.database.ref("definitions/"+e.parmProjectId).child("/shareOptions").on("value",function(n){n.exists()&&(e.projectAuthor=n.val()["author"],e.projectAuthorEmail=n.val()["authorEmail"],e.isExistAuthor=n.val()["isExistAuthor"],void 0!=n.val()["type"]&&"es"!=n.val()["type"]||(e.database.ref("definitions/"+e.parmProjectId+"/shareOptions").update({type:"k8s"}),console.log("set Type:k8s")),void 0==e.isExistAuthor&&(e.projectAuthor==localStorage.getItem("uid")&&e.projectAuthor==e.parmUid?e.database.ref("definitions/"+e.parmProjectId+"/shareOptions").update({isExistAuthor:!0}):void 0==e.isExistAuthor&&(e.isExistAuthor=!1)),e.projectAuthor==localStorage.getItem("uid")&&e.projectAuthor==e.parmUid?(e.isRead=!1,void 0==n.val()["permissions"]?e.sharedCount=0:-1==Object.keys(n.val()["permissions"]).indexOf("everyone")?e.sharedCount=Object.keys(n.val().permissions).length:e.isPublicProject=!0):void 0==n.val()["permissions"]?(e.isRead=!0,alert("Wrong Way"),e.$router.push("/")):-1!=Object.keys(n.val()["permissions"]).indexOf("everyone")?(e.isPublicProject=!0,e.sharedCount=-2,e.isRead=!0):(e.sharedCount=Object.keys(n.val().permissions).length,-1!=Object.keys(n.val()["permissions"]).indexOf(localStorage.getItem("uid"))?0==n.val()["permissions"][localStorage.getItem("uid")].write?(e.isRead=!0,e.forkDialog=!0):e.isRead=!1:(e.isRead=!0,e.$router.push("/"),alert("Permission denied"))),console.log("Permission setting Complete"),e.isSetPermission=!0,t())})})},dbuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},saveKuberProjectData(e,t){var n=this,a="",i="",o=n.projectName;null!=localStorage.getItem("uid")?"Fork"==t||"New"==t?(a=n.dbuid(),i=n.database.ref("definitions/").child(a+"/versionLists/").push().key,"Fork"==t&&(o=n.forkProjectName),n.database.ref("definitions/").child(a+"/shareOptions").update({type:"k8s",author:e.author,authorEmail:e.email,lastVersionName:i}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionValue").update({value:e.value}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionInfo").update({saveUser:e.author,saveUserEmail:e.email,saveUserName:e.userName,projectName:o,img:e.img,date:e.date,comment:e.comment}),n.database.ref("userLists/"+e.author).update({uid:e.author,name:e.userName,picture:localStorage.getItem("picture")}),n.database.ref("userLists/"+e.author+"/mine/"+a).update({projectId:a}),"kuberLocal"==n.parmType&&"New"==t&&(localStorage.removeItem("kuberLocalLoadData"),localStorage.removeItem("kuberLocalSaveTime"),localStorage.removeItem("kuberLocalSaveProjectName")),n.kuberSaveDialogOpen=!1,n.$router.push({path:"/"})):"newVersion"==t&&(a=null!=localStorage.getItem("kuberProjectId")?localStorage.getItem("kuberProjectId"):n.parmProjectId,i=n.database.ref("definitions/").child(a+"/versionLists/").push().key,n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionValue").update({value:e.value}),n.database.ref("definitions/").child(a+"/versionLists/"+i+"/versionInfo").update({saveUser:e.author,saveUserEmail:e.email,saveUserName:e.userName,projectName:o,img:e.img,date:e.date,comment:e.comment}),n.database.ref("definitions/").child(a+"/shareOptions").update({lastVersionName:i}),n.kuberSaveDialogOpen=!1):(n.$EventBus.$emit("showLoginDialog"),alert("로그인후에 server 저장이 가능합니다 (현재 로컬에서만 저장이 가능합니다) 참고:로컬은 자동 저장 됩니다."))},getNowTime(){var e=new Date;return e.getFullYear()+"년 "+(e.getMonth()+1)+"월 "+e.getDate()+"일 "+e.getHours()+"시 "+e.getMinutes()+"분 "+e.getSeconds()+"초"},kuberSaveProjectComplete(){var e=this;localStorage.getItem("uid");e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName")),e.$refs["modeler-image-generator"].save(e.id,e.canvas).then(function(t){var n=JSON.parse(JSON.stringify(e.value));n.definitions.filter(e=>e),n.relations.filter(e=>e);var a={value:JSON.stringify(n),author:localStorage.getItem("uid"),userName:localStorage.getItem("userName"),img:t,date:e.getNowTime(),email:localStorage.getItem("email"),projectId:null!=localStorage.getItem("kuberProjectId")?localStorage.getItem("kuberProjectId"):"",projectVersion:null!=localStorage.getItem("projectVersion")?localStorage.getItem("projectVersion"):null,projectName:e.projectName,comment:e.kuberSaveProjectComment};"kuberLocal"==e.parmType?e.saveKuberProjectData(a,"New"):e.saveKuberProjectData(a,"newVersion"),e.kuberSaveProjectComment=""})},kuberSaveDialogReady(){this.kuberSaveDialogOpen=!0},kuberSaveDialogClose(){this.kuberSaveDialogOpen=!1},functionSelect(e){var t=this;"Code Preview"==e?t.codeModalShow():"Download Archive"==e?t.generateZipDialog=!0:"Save to Server"==e?t.kuberSaveDialogReady():"Share"==e&&t.openKuberShareDialog()},async codeModalShow(){var e=this;await e.getListSetting(),e.$modal.show("codeModal"),e.codeViewing=!0},codeModalhide(){this.codeViewing=!1,this.$modal.hide("code-modal")},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definitions.forEach(function(t,n){null!=t&&1==t.selected&&e.tempValue.push(t)}),e.value.relations.forEach(function(t,n){t||1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var c=new Uint8Array(l);i.push(c)}var u=new Blob(i,{type:t});return u},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));e.tempValue.length>0&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definitions.push(JSON.parse(JSON.stringify(t)))})}},download:function(){var e=this;e.projectName.length<1&&(e.projectName=window.prompt("Please input your ProjectName"));var t=e.projectName+".json",n=new File([JSON.stringify(e.value)],t,{type:"text/json;charset=utf-8"});v.saveAs(n)},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop,s=e.canvas._CONFIG.SLIDER[0].innerText/100;r/=s,l/=s,console.log(o.component),console.log(t.$store.getters.getWidth(o.component)),console.log(t.$store.getters.getHeight(o.component)),o={component:o.component,x:r,y:l,width:t.$store.getters.getWidth(o.component),height:t.$store.getters.getHeight(o.component),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i=this;if(e.shape?a=e:(!0,a=e.element),a&&t&&n){var o="["+a.shape.geom.vertices.toString()+"]",r={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:o,isFilled:!0,relationView:{style:JSON.stringify({}),value:o}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,i.canvas.removeShape(a,!0),this.addElement(r)}},modifyRelation(e){return console.log(e),void 0!=e.sourceElement.connectableType?(e.sourceElement.connectableType.indexOf(e.targetElement._type),e):e},addElement:function(e,t){this.enableHistoryAdd=!0;var n,a=this,i=a.getComponentByName(e.component);if("class-relation"==e.component?n=i.computed.createNew(this.uuid(),e.sourceElement.value,e.targetElement.value,e.vertices):(console.log(e),n=i.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height)),"org.uengine.modeling.model.Relation"==n._type)if(void 0!=t){if(t)return console.log("bounded"),n}else a.value.relations.push(n),this.$EventBus.$emit("kuberStorage"),console.log("============== Storage Location Search Test 5-1 (Add Relation) ============= ");else if(void 0!=t){if(t)return console.log("bounded"),n}else a.value.definitions.push(n),this.$EventBus.$emit("kuberStorage"),console.log("============== Storage Location Search Test 5-2 (Add Definition) ============= ")},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.KubeModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t},recursiveDeepCopy(e){var t,n,a=this;if("object"!==typeof e)return e;if(!e)return e;if("[object Array]"===Object.prototype.toString.apply(e)){for(t=[],n=0;n<e.length;n+=1)t[n]=a.recursiveDeepCopy(e[n]);return t}for(n in t={},e)e.hasOwnProperty(n)&&(t[n]=a.recursiveDeepCopy(e[n]));return t},fileType(e){var t;return e.includes(".java")?t="java":e.includes("Dockerfile")?t="docker":e.includes(".xml")?t="xml":e.includes(".yaml")||e.includes(".yml")||e.includes(".properties")||e.includes("mvnw")||e.includes(".groovy")?t="txt":e.includes("md")?t="md":e.includes(".jpg")||e.includes(".png")||e.includes(".jpeg")?t="png":e.includes(".json")?t="json":e.includes(".py")&&(t="python"),t},getListSetting(){var e=this;if(e.treeList=[],e.openCode=[],e.template.length>0)var t=e.template;else t="Separate File";if("Separate File"==t){var n={};e.value.definitions.forEach(function(t){n={key:t.elementView.id,name:t.object.metadata.name+".yaml",code:e.yamlFilter(u.a.stringify(t.object)),file:e.fileType(".yaml")},e.treeList.push(n)})}else if("Single File"==t){if(e.projectName)a=e.projectName;else var a="local";let t="";e.value.definitions.forEach(function(e){t+=u.a.stringify(e.object)});n={key:a,name:a+".yaml",code:t,file:e.fileType(".yaml")};e.treeList.push(n)}else"Separate File for kind"==t&&e.value.definitions.forEach(function(t){var n={key:t.elementView.id,name:t.elementView._type+".yaml",code:u.a.stringify(t.object),file:e.fileType(".yaml")},a=e.treeList.findIndex(function(e){return e.name==n.name&&(e.code+=n.code),e.name==n.name});-1==a&&e.treeList.push(n)})},yamlFilter(e){let t=e.split("\n");t.splice(0,1);for(let n in t)t[n]=t[n].substring(2,t[n].length);return e=t.join("\n"),e=e.replace(/ null/g," "),e},async generateZip(){var e=this;if(e.treeList.length>0){var t=new h;if(e.projectName)n=e.projectName;else var n="local";e.treeList.forEach(function(e){t.folder(n).file(e.name,e.code)}),t.generateAsync({type:"blob"}).then(function(e){Object(r["saveAs"])(e,`${n}.zip`)})}}}},y=g,b=(n("3595"),n("2877")),_=n("6544"),w=n.n(_),x=n("8336"),k=n("b0af"),C=n("99d9"),S=n("ac7c"),E=n("62ad"),V=n("169a"),I=n("ce7e"),O=n("0e8f"),T=n("132d"),P=n("a722"),N=n("8860"),j=n("da13"),D=n("5d23"),L=n("e449"),A=n("0fd9"),R=n("b974"),M=n("2fa4"),B=n("8654"),U=n("a844"),F=n("3a2f"),G=n("eb2a"),K=Object(b["a"])(y,a,i,!1,null,"fa045074",null);t["default"]=K.exports;w()(K,{VBtn:x["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCheckbox:S["a"],VCol:E["a"],VDialog:V["a"],VDivider:I["a"],VFlex:O["a"],VIcon:T["a"],VLayout:P["a"],VList:N["a"],VListItem:j["a"],VListItemTitle:D["c"],VMenu:L["a"],VRow:A["a"],VSelect:R["a"],VSpacer:M["a"],VTextField:B["a"],VTextarea:U["a"],VTooltip:F["a"],VTreeview:G["a"]})},"910c":function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}/config/kafka\n| ---\n| package {{options.package}}.config.kafka;")},"91a3":function(e,t,n){},9241:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["org.uengine.modeling.model.Event"==e.value.sourceElement._type&&"org.uengine.modeling.model.Event"!=e.value.targetElement._type?n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",vertices:e.vertices,from:e.value.from,to:e.value.to,_style:e.style_,label:e.value.name,customMoveActionExist:e.isCustomMoveActionExist},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value,"from",t)},"update:to":function(t){return e.$set(e.value,"to",t)},dblclick:e.showProperty,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,removeShape:function(t){return e.onRemoveShape(e.value)},customRelationMoveAction:e.delayedRelationMove}}):e._e()],1)},i=[],o=n("b815"),r=(n("417b"),{mixins:[o["default"]],name:"class-relation",props:{value:Object},created:function(){this.value&&this.value.relationView&&(this.value.from=this.value.relationView.from,this.value.to=this.value.relationView.to)},computed:{defaultStyle(){return{}},className(){return"org.uengine.modeling.model.Relation"},style_(){var e={};return"org.uengine.modeling.model.Policy"==this.value.targetElement._type?e={"arrow-end":"block","stroke-width":"1.3","stroke-dasharray":"- ","font-size":20}:"org.uengine.modeling.model.Command"==this.value.targetElement._type&&(e={"arrow-end":"block","font-size":20}),e},createNew(e,t,n,a){return{_type:this.className(),name:"",sourceElement:t,targetElement:n,from:t.elementView.id,to:n.elementView.id,relationView:{id:e,style:JSON.stringify({"arrow-start":"none","arrow-end":"none"}),value:a,from:t.elementView.id,to:n.elementView.id,needReconnect:!0},sourceMultiplicity:1,targetMultiplicity:1}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{}},watch:{},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.relationView.id}`,function(t){"relationMove"==t.state&&(e.value.relationView.value=t.element)})}}),l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"1d1ed152",null);t["default"]=c.exports},9252:function(e,t,n){},9484:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"html-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HtmlShape(e.html,e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"1b013ddf",null);t["default"]=c.exports},9491:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[25,66],[73,66]],_style:{"stroke-width":.8}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1),n("md-input-container",[n("label",[e._v("Attached Activity ID")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.attachedToRef,callback:function(t){e.$set(e.activity,"attachedToRef",t)},expression:"activity.attachedToRef"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-signal-intermediate-catch-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.SignalIntermediateCatchEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"398e687a",null);t["default"]=c.exports},"94b6":function(module,__webpack_exports__,__webpack_require__){"use strict";var _LabBase__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("46e1"),_tools_LabToolEventStorming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2ae2"),_tools_LabToolIDE__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("396a"),Minio=__webpack_require__("ad23");__webpack_exports__["a"]={name:"LabLocator",components:{LabToolEventStorming:_tools_LabToolEventStorming__WEBPACK_IMPORTED_MODULE_1__["a"],LabToolIde:_tools_LabToolIDE__WEBPACK_IMPORTED_MODULE_2__["a"]},mixins:[_LabBase__WEBPACK_IMPORTED_MODULE_0__["a"]],props:{},data:()=>({labInfo:null,overlay:!1,tool:{result:null},guideOpened:!0}),computed:{userId(){return this.$route.params.userId?this.$route.params.userId:this.myId}},beforeDestroy(){},async mounted(){await this.loadLabInfo()},methods:{onResultChanged(e){this.testCheckpoints(e)},async loadLabInfo(){this.labInfo=await this.getLabInfo();var e=this,t=await this.getObject(`${e.courseId}/runningClass/${e.classId}/labs/${e.labId}/${e.userId}/toolResult.json`);if(t)this.tool.result=t;else{var n=await this.getObject(`${e.courseId}/planed/${e.labId}/${e.labInfo.startArtifact}`);n&&(this.tool.result=n)}this.tool.__ob__.dep.notify()},testCheckpoints(result){var me=this;this.labInfo.checkPoints.forEach(async function(checkpoint,idx){var result=me.tool.result,passed=!1;if(checkpoint.javascript){if(checkpoint.javascript.endsWith(".js")){var jsPath=`${me.$route.params.courseId}/planed/${me.$route.params.labId}/${checkpoint.javascript}`;checkpoint.javascript=await me.getString(jsPath)}function returnValue(e){passed=e}var javascript=checkpoint.javascript;eval(javascript)}else if(checkpoint.regExp){var expression=new RegExp(checkpoint.regExp);passed=expression.test(me.tool.result)}else if(checkpoint.testShell){var testKey=checkpoint.testShell;passed=me.testCheckpointWithShellInlineTest(result,testKey)}checkpoint.status=passed,checkpoint.__ob__.dep.notify()})},testCheckpointWithShellInlineTest(e,t){const n="####### test ";for(var a=e.split("\n"),i=null,o=null,r=0;r<a.length;r++){var l=a[r];if(l.startsWith(n)){var s=l.split(":");o="test "+s[0].substring(n.length,s[0].length).trim(),i=s[1].trim()}else if(o==t&&i&&l.includes(i))return!0}return!1},closeGuide(){var e=this;this.guideOpened=!1,this.$EventBus.$emit("guideClose"),this.$EventBus.$on("guideOpen",function(){e.guideOpened=!0})},async submitResult(){var e=this;await this.putObject(`${e.courseId}/runningClass/${e.classId}/labs/${e.labId}/${e.userId}/checkpointResults.json`,e.labInfo.checkPoints),await this.putObject(`${e.courseId}/runningClass/${e.classId}/labs/${e.labId}/${e.userId}/toolResult.json`,this.tool.result),alert("제출하였습니다")}}}},9527:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableTo:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[25,66],[73,66]],_style:{"stroke-width":.8}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-signal-start-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"StartEvent"},className(){return"org.uengine.kernel.bpmn.SignalStartEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"2b976469",null);t["default"]=c.exports},"967c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"svg-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this,t=$("<div>").append($(e.$el).find("svg").clone()).html();return new OG.shape.SvgShape(t,e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"593c910d",null);t["default"]=c.exports},"98e9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#cccccc",fill:"#cccccc","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"PVC"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("8b8b"),l={mixins:[o["default"]],name:"persistence-volume-claim",components:{"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"PersistenceVolumeClaim"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pvc.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},object:{apiVersion:"extensions/v1beta1",kind:"PersistentVolumeClaim",metadata:{name:""},spec:{accessModes:[""],resources:{requests:{storage:"1"}},storageClassName:"",volumeMode:"Filesystem",volumeName:""}},connectableType:["PersistentVolume"],outboundVolume:null}},name(){try{return this.value.object.metadata.name}catch(e){return"Untitled"}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},outboundVolumeName(){try{return this.value.outboundVolume.object.metadata.name}catch(e){return""}}},data:function(){return{}},created:function(){},mounted:function(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"addRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolume"==t.element.targetElement._type&&(e.value.outboundVolume=t.element.targetElement),"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolume"==t.element.targetElement._type&&(e.value.outboundVolume=null)})},watch:{outboundVolumeName:function(e){this.value.object.spec.volumeName=e}},methods:{}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"9bf5":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",[n("md-input-container",{staticStyle:{width:"11%"}},[n("md-select",{staticStyle:{"min-width":"1px"},attrs:{"md-elevation":"2"},model:{value:e.value._type,callback:function(t){e.$set(e.value,"_type",t)},expression:"value._type"}},[n("md-option",{attrs:{value:"org.uengine.kernel.And"}},[e._v("And")]),n("md-option",{attrs:{value:"org.uengine.kernel.Or"}},[e._v("Or")])],1),e._v(" (\n      ")],1)],1),n("ul",[e._l(e.value.conditionsVt,function(t,a){return n("table",{attrs:{width:"100%"}},[n("td",{attrs:{width:"90%"}},[n(t._type.split(".").join("-"),{tag:"component",attrs:{definition:e.definition},model:{value:e.value.conditionsVt[a],callback:function(t){e.$set(e.value.conditionsVt,a,t)},expression:"value.conditionsVt[index]"}})],1),n("td",{attrs:{width:"10%"}},[n("md-button",{staticStyle:{"margin-top":"15px",height:"30px",position:"absolute",align:"right"},on:{click:function(t){return e.remove(a)}}},[n("md-icon",[e._v("clear")])],1)],1)])}),n("div",[n("div",{staticStyle:{float:"left"}},[n("md-input-container",[n("md-select",{attrs:{"md-elevation":"2"},model:{value:e.conditionType,callback:function(t){e.conditionType=t},expression:"conditionType"}},[n("md-option",{attrs:{value:"org.uengine.kernel.And"}},[e._v("And")]),n("md-option",{attrs:{value:"org.uengine.kernel.Or"}},[e._v("Or")]),n("md-option",{attrs:{value:"org.uengine.kernel.Evaluate"}},[e._v("Evaluate")]),n("md-option",{attrs:{value:"org.uengine.kernel.LoopCount"}},[e._v("LoopCount")])],1)],1)],1),n("div",[n("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-top":"15px","margin-left":"12px",height:"30px"},on:{click:e.addCondition}},[e._v("Add")])],1)])],2),n("div",{staticStyle:{clear:"both"}},[e._v("\n        )\n      ")])])])},i=[],o={name:"org-uengine-kernel-Or",props:{definition:Object,value:Object},data:function(){return{conditionType:"org.uengine.kernel.Or",myConditionType:"Or"}},watch:{value:{deep:!0,handler:function(){this.$emit("input",this.value)}}},methods:{addCondition:function(){this.value.conditionsVt||(this.value={_type:"org.uengine.kernel.Or",conditionsVt:[]});var e={_type:this.conditionType};"org.uengine.kernel.LoopCount"==this.conditionType&&(e._type="org.uengine.kernel.Evaluate",e.type="loopCount"),this.value.conditionsVt.push(e);var t=this.value;this.value=null,this.value=t,this.$emit("input",this.value)},click:function(){console.log(this.conditionTypeAndOr),console.log(this.value.conditionsVt)},remove:function(e){this.value.conditionsVt.splice(e,1);var t=this.value;this.value=null,this.value=t,this.$emit("input",this.value)}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},"9ea8":function(e,t,n){"use strict";var a=n("da11"),i=n.n(a);i.a},"9ee1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!1,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!1,resizable:!0,selectable:!0,deleteable:!1,connectable:!1,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",attrs:{value:e.value.definition[a]},on:{"update:value":function(t){return e.$set(e.value.definition,a,t)}}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",attrs:{value:e.value.relation[a]},on:{"update:value":function(t){return e.$set(e.value.relation,a,t)}}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-spacer"),n("v-spacer"),n("v-spacer"),n("v-spacer"),n("v-row",{staticStyle:{"margin-top":"10px","margin-right":"5px",width:"30%"},attrs:{justify:"end",align:"start"}},[n("v-text-field",{attrs:{width:300,disabled:"",label:"Project Name"},on:{click:e.unselectedAll},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1)])],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),r=n("ac57"),l=n("21a6"),s=n("94ed"),c=(n("2ef0"),n("761a"),n("df7c"),{name:"view-modeling-designer",components:{TextReader:o["a"],saveAs:l["saveAs"],CodeViewer:r["a"],mdiAbTesting:s["a"]},props:{versionValue:String},data(){return{isShare:!1,onlineSaveDialog:!1,isLoadVersion:!1,author:"",serverComment:"",serverDate:"",editing:!0,canvas:null,dragPageMovable:!1,value:{elements:{},relations:{}},projectName:"",generateZipDialog:!1,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",model:[],fullPathList:[],treeList:[],getCodeList:[],openCode:[],template:"",treeOpen:!0,gitUrl:"",gitPath:[],gitCode:[],checkName:!0}},beforeDestroy:function(){},computed:{id:{get:function(){return this.projectName}}},created:function(){var e=this;e.value=e.versionValue},mounted(){this.$nextTick(function(){let e=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.opengraph.printTimer(e,(new Date).getTime())})},watch:{},methods:{convertArrayToObject(e){var t=this;-1!=Object.keys(e).findIndex(e=>"definition"==e)?(console.log("old Value"),Array.isArray(e.definition)&&(t.convertValueSnackbar=!0,e.definition.length>0&&e.definition.forEach(function(e){t.$set(t.value["elements"],`${e.elementView.id}`,e)}),e.relation.length>0&&e.relation.forEach(function(e){t.$set(t.value["relations"],`${e.relationView.id}`,e)}))):(console.log("new Value"),t.value=e)},unselectedAll:function(e){this.value.definition.forEach(function(e){e.selected=!1}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var c=new Uint8Array(l);i.push(c)}var u=new Blob(i,{type:t});return u},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}}),u=c,d=(n("e9f0"),n("2877")),m=n("6544"),p=n.n(m),v=n("b0af"),h=n("a722"),f=n("0fd9"),g=n("2fa4"),y=n("8654"),b=n("3a2f"),_=Object(d["a"])(u,a,i,!1,null,"62e5a29c",null);t["default"]=_.exports;p()(_,{VCard:v["a"],VLayout:h["a"],VRow:f["a"],VSpacer:g["a"],VTextField:y["a"],VTooltip:b["a"]})},"9f99":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("d693"),r={mixins:[o["default"]],name:"bpmn-base",props:{activity:Object,definition:Object,role:Object,relation:Object,status:String,loopType:String},created:function(){},data:function(){return{_id:null,drawer:!1}},computed:{type(){return""},bpmnRole:function(){return"bpmn-component"},style:{get:function(){var e;if(this.activity?e=this.activity.elementView.style:this.role?e=this.role.elementView.style:this.relation&&(e=this.relation.relationView.style),e){var t=JSON.parse(e);return $.isEmptyObject(t)?this.defaultStyle:t}return this.defaultStyle},set:function(e){this.activity?this.activity.elementView.style=JSON.stringify(e):this.role?this.role.elementView.style=JSON.stringify(e):this.relation&&(this.relation.relationView.style=JSON.stringify(e))}}},watch:{},mounted:function(){},methods:{selectedActivity:function(){this.activity&&(this.activity._selected=!0)},deSelectedActivity:function(){this.activity&&(this.activity._selected=!1)},selectedFlow:function(){this.relation.selected=!0},deSelectedFlow:function(){this.relation.selected=!1},closeComponentChanger:function(){console.log("closeComponentChanger"),this.bpmnVue.componentChangerData={}},openComponentChanger:function(e,t){var n=this;console.log(e,t),this.bpmnVue.componentChangerData={bpmnComponent:n,top:e,left:t}},showProperty:function(e,t){this.drawer=!0},onAddedToGroup:function(e,t,n){console.log("onAddedToGroup!!");var a=this;a.activity&&(a.bpmnVue.preventEvent=!0,a.$nextTick(function(){a.bpmnVue.preventEvent=!1,a.bpmnVue.enableHistoryAdd=!0;var t=a.activity.tracingTag,n=a.bpmnVue.getActAndRelByOpengraphId(e.id),i=a.bpmnVue.getParentActByOpengraphId(t);if(n){if(i&&n.tracingTag==i.tracingTag)return void console.log("currentSubProcess == newSubProcess",n.tracingTag);"org.uengine.kernel.bpmn.SubProcess"==n._type?a.bpmnVue.moveActivity(t,n.tracingTag):a.bpmnVue.moveActivity(t,null)}else i&&a.bpmnVue.moveActivity(t,null)}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"23918ee1",null);t["default"]=c.exports},a01a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("geometry-circle",{attrs:{center:[50,50],radius:30,_style:{fill:"black","fill-opacity":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("End Status Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-terminate-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.TerminateEndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"7e07a559",null);t["default"]=c.exports},a0b8:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("rectangle-element",{attrs:{"sub-width":"33%","sub-height":"20%","sub-top":"40%","sub-left":"27%","sub-style":{"stroke-width":.8}}}),n("rectangle-element",{attrs:{"sub-width":"10%","sub-height":"19.5%","sub-top":"40.2%","sub-left":"55%","sub-style":{"stroke-width":0,fill:"#f9f9f9","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[60,33],[60,67],[77,50]],_style:{"stroke-width":.8}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-link-intermediate-catch-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.LinkIntermediateCatchEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"5f422ef6",null);t["default"]=c.exports},a125:function(e,t,n){"use strict";var a=n("8d12"),i=n.n(a);i.a},a329:function(e,t,n){},a4ac:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:e.editMode,resizable:e.editMode,connectable:"",deletable:e.editMode,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,label:e.name,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.name=t}}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#ffeb3b",fill:"#ffeb3b","fill-opacity":1,r:"1","z-index":"998"}}}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":30,"sub-top":0,"sub-left":0,text:"Deployment"}}),n("image-element",{attrs:{image:e.imgSrc,"sub-bottom":5,"sub-left":5,"sub-width":24,"sub-height":24}})],1)],1),e.openPanel?n("property-panel",{attrs:{img:e.imgSrc},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("e097"),r=n("1f3d"),l=n("2479"),s={mixins:[o["default"]],name:"deployment",components:{ImageElement:l["default"],"property-panel":r["default"]},props:{},computed:{defaultStyle(){return{}},className(){return"Deployment"},imgSrc(){return`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/deploy.svg`},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namespace:"",elementView:{_type:this.className(),id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({}),angle:0},outboundVolumes:[],object:{apiVersion:"apps/v1",kind:"Deployment",metadata:{name:"",labels:{app:""}},spec:{selector:{matchLabels:{app:""}},replicas:"1",template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:"",ports:[{containerPort:"80"}]}]}}}},connectableType:["ReplicaSet"]}},namespace:{get:function(){return this.value.object.metadata.namespace},set:function(e){this.value.object.metadata.namespace=e}},name(){try{return this.value.object.metadata.name}catch(e){return""}},outboundVolumeNames(){try{var e="";return this.value.outboundVolumes.forEach(t=>{e+=t.object.metadata.name+","}),e}catch(t){return""}}},data:function(){return{}},created:function(){},mounted(){var e=this;this.$EventBus.$on(`${e.value.elementView.id}`,function(t){"addRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolumeClaim"==t.element.targetElement._type&&e.value.outboundVolumes.push(t.element.targetElement),"deleteRelation"==t.state&&t.element&&t.element.targetElement&&"PersistenceVolumeClaim"==t.element.targetElement._type&&(e.value.outboundVolumes.splice(e.value.outboundVolumes.indexOf(t.element.targetElement),1),console.log(e.value.outboundVolumes))})},watch:{name(e){this.value.object.metadata.labels.app=e,this.value.object.spec.selector.matchLabels.app=e,this.value.object.spec.template.metadata.labels.app=e,this.value.object.spec.template.spec.containers[0].name=e},outboundVolumeNames(e){console.log(e),this.value.object.spec.volumes=[];var t=this,n=0;this.value.outboundVolumes.forEach(e=>{t.value.object.spec.volumes.push({name:"volume"+ ++n,persistenceVolumeClaim:{claimName:e.object.metadata.name}})})}},methods:{}},c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=d.exports},a551:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"ingress-property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"Ingress"}},data:function(){return{}},watch:{},methods:{}},l=r,s=(n("d402"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},a59b:function(e,t,n){"use strict";var a=n("2148"),i=n.n(a);i.a},a706:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.data.parameterContexts,function(t){return n("md-layout",[n("md-layout",{attrs:{"md-flex":"30"}},[n("md-input-container",[n("label",[e._v("Callee Roles")]),e.calleeDefinition.loaded?n("md-select",{attrs:{name:"input",id:"input"},model:{value:t.argument,callback:function(n){e.$set(t,"argument",n)},expression:"parameterContext.argument"}},e._l(e.calleeDefinition.roles,function(t){return n("md-option",{key:t.name,attrs:{value:t.name}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1):n("md-input",{model:{value:t.argument,callback:function(n){e.$set(t,"argument",n)},expression:"parameterContext.argument"}})],1)],1),n("md-layout",{attrs:{"md-flex":"30"}},[n("md-input-container",[n("label",[e._v("Caller Roles")]),n("md-select",{model:{value:t.role.name,callback:function(n){e.$set(t.role,"name",n)},expression:"parameterContext.role.name"}},e._l(e.definition.roles,function(t){return n("md-option",{key:t.name,attrs:{value:t.name}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)],1),n("md-layout",{attrs:{"md-flex":"30"}},[n("md-input-container",[n("label",[e._v("연결 방향")]),n("md-select",{model:{value:t.direction,callback:function(n){e.$set(t,"direction",n)},expression:"parameterContext.direction"}},[n("md-option",{attrs:{value:"in-out"}},[e._v("IN-OUT")]),n("md-option",{attrs:{value:"in"}},[e._v("IN")]),n("md-option",{attrs:{value:"out"}},[e._v("OUT")])],1)],1)],1),n("md-layout",{attrs:{"md-flex":"20"}},[n("md-checkbox",{model:{value:t.multipleInput,callback:function(n){e.$set(t,"multipleInput",n)},expression:"parameterContext.multipleInput"}},[e._v("Multi")])],1),n("md-layout",{attrs:{"md-flex":"20"}},[n("md-icon",{staticClass:"md-primary",staticStyle:{cursor:"pointer"},nativeOn:{click:function(n){return e.remove(t)}}},[e._v("delete\n        ")])],1)],1)}),n("md-button",{nativeOn:{click:function(t){return e.add(t)}}},[e._v("매핑 추가")])],2)},i=[],o={name:"bpmn-role-parameter-contexts",props:{parameterContexts:Array,definition:Object,calleeDefinitionId:String},data:function(){return{data:{parameterContexts:this.parameterContexts},calleeDefinition:{loaded:!1,roles:[{name:"-- not loaded -- "}]}}},watch:{calleeDefinitionId:function(){console.log("calleeDefinitionId changed!!")},data:{handler:function(e,t){this.$emit("update:parameterContexts",e)},deep:!0},calleeDefinitionId:function(e){console.log("========>"+e),this.refreshCalleeDefinition()}},created:function(){this.data&&this.data.parameterContexts.forEach(function(e){e.role||(e.role={})})},methods:{refreshCalleeDefinition:function(){},add:function(){this.data.parameterContexts.push({direction:"IN-OUT",role:{name:""},argument:""})},remove:function(e){this.parameterContexts.splice(this.parameterContexts.indexOf(e),1)}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},a742:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",{attrs:{right:""}},[e.value?n("opengraph",{ref:"opengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",labelEditable:!0,dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,enableHotkeyCtrlZ:!1,enableHotkeyCtrlD:!1,enableHotkeyCtrlG:!1,slider:!0,movable:!0,resizable:!0,selectable:!0,connectable:!0,autoSliderUpdate:!0,imageBase:e.imageBase},on:{canvasReady:e.bindEvents,connectShape:e.onConnectShape}},[e._l(e.value.definition,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.definition[a],callback:function(t){e.$set(e.value.definition,a,t)},expression:"value.definition[index]"}})],1)}),e._l(e.value.relation,function(t,a){return n("div",[n(e.getComponentByClassName(t._type),{tag:"component",model:{value:e.value.relation[a],callback:function(t){e.$set(e.value.relation,a,t)},expression:"value.relation[index]"}})],1)})],2):e._e(),n("v-layout",{attrs:{right:""}},[n("v-divider"),n("text-reader",{staticStyle:{display:"inline-block"},attrs:{importType:"json",fileName:e.projectName},on:{load:function(t){e.value=t},"update:fileName":function(t){e.projectName=t},"update:file-name":function(t){e.projectName=t}}}),n("v-btn",{staticStyle:{"margin-top":"16px","margin-left":"5px","margin-right":"10px"},attrs:{color:"info"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("SAVE\n            ")])],1),n("v-card",{staticClass:"tools",staticStyle:{top:"100px","text-align":"center"}},[n("span",{staticClass:"bpmn-icon-hand-tool",class:{icons:!e.dragPageMovable,hands:e.dragPageMovable},attrs:{_width:"30",_height:"30"},on:{click:e.toggleGrip}},[n("v-tooltip",{attrs:{"md-direction":"right"}},[e._v("Hands")])],1),e._l(e.elementTypes,function(t,a){return n("v-tooltip",{key:a,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",{staticClass:"icons draggable",attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},[n("img",e._g({attrs:{height:"30px",width:"30px",src:t.src}},i))])]}}])},[n("span",[e._v(e._s(t.label))])])})],2)],1),n("modeler-image-generator",{ref:"modeler-image-generator"})],1)},i=[],o=n("6eb3"),r=n("ac57"),l=n("11c1"),s=n("782e"),c=n.n(s),u=n("21a6"),d=n("21a6"),m=n("7c39"),p={name:"uml-designer",components:{TextReader:o["a"],saveAs:u["saveAs"],Pusher:c.a,CodeViewer:r["a"]},props:{elementTypes:Array},data(){return{files:{md:"mdi-markdown",txt:"mdi-file-document-outline",java:"mdi-language-java",xml:"mdi-xml",shell:"mdi-powershell",docker:"mdi-docker"},code:"",active:[],canvas:null,dragPageMovable:!1,relationVueComponentName:"modeling-relation",value:{definition:[],relation:[]},items:[],enableHistoryAdd:!1,undoing:!1,undoed:!1,tmpValue:[],projectName:"",noPushUndo:!1,undoRedoArray:[],undoRedoIndex:0,currentIndex:0,undoIndex:0,imageBase:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/symbol/",userId:"",snackbar:!1,color:"error",mode:"multi-line",timeout:6e3,text:"수정중입니다.",pusher:{},connectCount:0,connectInfo:[],show:!1,channel:{},members:[],valueTmp:{},pathTmp:[],maxWidth:0,maxHeight:0}},beforeDestroy:function(){this.canvas.removeSlider()},computed:{definitionSet(){return this.inputValue(this.active)},drawer:{get:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(e.value.definition));return n.length>0&&n.some(function(e,n){e.drawer&&(t=!0)}),t}},id:{get:function(){return this.projectName}}},created:function(){},mounted(){var e=this;this.userId=Object(l["v4"])(),e.$ModelingBus.$on("MoveEvent",function(){e.$nextTick(function(){e.undoRedoArray.push(JSON.parse(JSON.stringify(e.value))),e.currentIndex=e.currentIndex+1,e.undoRedoIndex=e.currentIndex,e.value.definition.forEach(function(e){null!=e&&e.selected})})}),e.$ModelingBus.$on("umlDiagram",function(){e.umlModalShow(),e.$nextTick(function(){})}),this.$nextTick(function(){let t=(new Date).getTime();this.canvas._CONFIG.FAST_LOADING=!1,e.undoRedoArray.push({definition:[],relation:[]}),this.$refs.opengraph.printTimer(t,(new Date).getTime()),$(document).keydown(t=>{67==t.keyCode&&(t.metaKey||t.ctrlKey)?this.copy():86==t.keyCode&&(t.ctrlKey||t.metaKey)?this.paste():46==t.keyCode||8==t.keyCode?this.deleteActivity():90==t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?e.redo():e.undo())})})},watch:{open(e){}},methods:{inputValue(e){var t=[e];return t},codeModalShow(){this.$modal.show("code-modal")},umlModalShow(){this.$modal.show("uml-modal")},generateZip(){var e=this;e.codeList.forEach(function(t){t.file?e.pathTmp.push({path:t.name,code:t.code}):e.reverse(t.children,t.name)});var t=new m,n=[];e.pathTmp.forEach(function(e){e.path.includes("/")&&n.push(e.path.split("/")[0]),t.file(e.path,e.code)}),n.forEach(function(e){t.folder(e).forEach(function(e,t){})}),t.generateAsync({type:"blob"}).then(function(e){Object(u["saveAs"])(e,"archive.zip")})},reverse(e,t){var n=this;e.forEach(function(e){if(e.children){var a=t+"/"+e.name;n.reverse(e.children,a)}else e.code&&n.pathTmp.push({path:t+"/"+e.name,code:e.code})})},codeModalhide(){this.$modal.hide("code-modal")},unselectedAll:function(){this.value.definition.forEach(function(e){null!=e&&(e.selected=!1)}),this.value.relation.forEach(function(e){e.selected=!1})},ajax:function(e,t,n,a){var i=new XMLHttpRequest;i.open(t,e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i.responseText)},i.send(JSON.stringify(n))},connectshow:function(){var e=this;1==e.show?e.show=!1:e.show=!0},restApiPush:function(){var e=this;e.$http.post(`http://localhost:8080/event/${e.projectName}`,e.value,{responseType:"arraybuffer",headers:{"Content-Type":"application/zip;"}}).then(function(t){var n=new Blob([t.data],{type:"application/zip"}),a=e.projectName+".zip";Object(u["saveAs"])(n,a)})},syncOthers(e){let t=this.userId,n=e;const a={newVal:n,userId:t};fetch("http://localhost:4000/paint",{method:"post",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(()=>console.log("throw"))},copy:function(){var e=this;e.drawer||(e.tempValue=[],e.value.definition.forEach(function(t,n){null!=t&&1==t.selected&&e.tempValue.push(t)}),e.value.relation.forEach(function(t,n){1==t.selected&&e.tempValue.push(t)}))},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var a=atob(e),i=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r.charCodeAt(s);var c=new Uint8Array(l);i.push(c)}var u=new Blob(i,{type:t});return u},paste:function(){var e=this;if(!e.drawer){var t=JSON.parse(JSON.stringify(e.tempValue));null!=e.tempValue&&t.forEach(function(t,n){t.elementView.id=e.uuid(),t.elementView.x=t.elementView.x+10,t.elementView.y=t.elementView.y+10,e.value.definition.push(t)})}},download:function(){var e=this,t=JSON.stringify(e.value),n=this.projectName+".json",a=new File([t],n,{type:"text/json;charset=utf-8"});d.saveAs(a)},deleteBoundary(e,t){e.forEach(function(e,n){t.boundedContext==e.inputText&&"org.uengine.uml.model.bounded"==e._type&&e.dataList.forEach(function(n,a){n.inputText==t.inputText&&n._type==t._type&&(e.dataList[a]=null,e.dataList=e.dataList.filter(e=>e))})})},deleteActivity:function(){var e=this;if(!e.drawer){let t=[],n=JSON.parse(JSON.stringify(e.value.definition)),a=JSON.parse(JSON.stringify(e.value.relation));n.forEach(function(a,i){a.selected&&(a.boundedContext&&e.deleteBoundary(n,a),t.push(a.elementView.id),n[i]=null)}),n=n.filter(e=>e),t.forEach(function(e,t){a.forEach(function(t,n){t.to!=e&&t.from!=e||(a[n]=null)})}),a=a.filter(e=>e),a.forEach(function(e,t){e.selected&&(a[t]=null)}),a=a.filter(e=>e),e.value.definition=n,e.value.relation=a}},toggleGrip:function(){this.dragPageMovable=!this.dragPageMovable,this.dragPageMovable?(this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):(this.cursorStyle=null,this.handsStyle=null)},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&(this.canvas=e.canvas,$(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},t.addElement(o)}a.removeData("DRAG_SHAPE")}}))},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},onConnectShape:function(e,t,n){var a,i,o=this,r=!1;if(e.shape?a=e:(r=!0,a=e.element),a&&t&&n){var l="["+a.shape.geom.vertices.toString()+"]",s={component:"class-relation",sourceElement:t.$parent,targetElement:n.$parent,vertices:l,isFilled:!0,relationView:{style:JSON.stringify({}),value:l}};t.$parent.value.elementView.id=t.id,n.$parent.value.elementView.id=n.id,r?(o.canvas.removeShape(a,!0),this.addElement(s,null,JSON.parse(JSON.stringify(i)))):(o.canvas.removeShape(a,!0),this.addElement(s))}},undoRedo:function(e){var t=this;t.drawer||("redo"==e?t.undoRedoIndex<t.undoRedoArray.length-1?(t.undoRedoIndex=t.undoRedoIndex+1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.undoRedoIndex]))):(t.text="Last element",t.snackbar=!0,t.timeout=500):"undo"==e&&(t.undoRedoIndex>0?(t.undoRedoIndex=t.undoRedoIndex-1,t.value=JSON.parse(JSON.stringify(t.undoRedoArray[t.undoRedoIndex]))):(t.text="Last Element",t.snackbar=!0,t.timeout=500)))},addElement:function(e,t,n){this.enableHistoryAdd=!0;var a,i=this,o=i.getComponentByName(e.component);a="class-relation"==e.component?o.computed.createNew(e.sourceElement.value,e.targetElement.value,e.vertices):o.computed.createNew(this.uuid(),e.x,e.y,e.width,e.height),null==i.value&&(i.value={definition:[],relation:[]}),"org.uengine.uml.model.relation"==a._type?i.value["relation"].push(a):i.value["definition"].push(a),i.undoRedoIndex!=i.currentIndex?(i.undoRedoArray.splice(i.undoRedoIndex+1,i.currentIndex-i.undoRedoIndex),i.undoRedoIndex=i.undoRedoIndex+1,i.currentIndex=i.undoRedoIndex):i.undoRedoIndex=i.undoRedoIndex+1,i.undoRedoArray.push(JSON.parse(JSON.stringify(i.value))),i.currentIndex=i.undoRedoArray.length-1},getComponentByName:function(e){var t;return $.each(window.Vue._components,function(n,a){a.name==e&&(t=a)}),t},getComponentByClassName:function(e){var t;return $.each(window.Vue.classModelingComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t}}},v=p,h=(n("4bd1"),n("2877")),f=n("6544"),g=n.n(f),y=n("8336"),b=n("b0af"),_=n("ce7e"),w=n("a722"),x=n("3a2f"),k=Object(h["a"])(v,a,i,!1,null,"3c32fbe8",null);t["default"]=k.exports;g()(k,{VBtn:y["a"],VCard:b["a"],VDivider:_["a"],VLayout:w["a"],VTooltip:x["a"]})},a791:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},a7bd:function(e,t){throw new Error("Module parse failed: Unexpected token (2:51)\nYou may need an appropriate loader to handle this file type.\n| forEach: RelationCommandInfo\n> fileName: {{commandValue.aggregate.namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}/external\n| ---")},a97f:function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},a9f8:function(e,t,n){"use strict";var a=n("f81f"),i=n.n(a);i.a},aa33:function(module,__webpack_exports__,__webpack_require__){"use strict";var _LogViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("451e"),Minio=__webpack_require__("ad23");__webpack_exports__["a"]={name:"UserNavigator",components:{LogViewer:_LogViewer__WEBPACK_IMPORTED_MODULE_0__["a"]},props:{value:Object},data(){return{renderComponent:!0,email:""}},mounted(){this.email=localStorage.getItem("email")},computed:{isAdmin(){return!!this.email.includes("uengine.org")}},watch:{"value.userInfo.labsData.checkPoints":{immediate:!0,deep:!0,handler(){var e=this;e.forceRerender()}},"value.userInfo.logs":{immediate:!0,handler(e){var t=this;"theia"==t.value.userInfo.tool&&(e?this.value.userInfo.labsData.checkPoints.forEach(function(n,a){var i=t.checkingCheckPoint(n,e);n["status"]=i,t.forceRerender()}):this.value.userInfo.labsData.checkPoints.forEach(function(e){e["status"]=!1}))}}},methods:{closeNavi(){this.value.drawer=!1,this.$emit("update:value",this.value)},checkingCheckPoint(checkPoint,log){var testLog=log.replace(/[\n\r]/g,"");return testLog=testLog.replace(/'/gi,"\\'"),testLog=testLog.replace(/"/gi,'\\"'),eval(checkPoint.regExp+'.test("'+testLog+'")')},forceRerender(){this.renderComponent=!1,this.$nextTick(()=>{this.renderComponent=!0})},getInstruction(e){var t=this;return new Promise(function(n){var a=`${t.$route.params.course}/planed/${e}/instruction.md`;t.$minioClient.getObject("labs",a,function(e,t){t.on("data",function(e){var t=new TextDecoder("utf-8").decode(e);n(t)})})})},async startLab(e,t){var n=this,a=n.$route.params.labName;if("theia"==e.tool)n.startIDE(e,a,e.templateFlie,t);else if("event-storming"==e.tool){var i=await n.getInstruction(a),o={labName:e.labName,instruction:i,checkPoints:e.checkPoints,hints:e.hints,lab:a,email:t};n.$EventBus.$emit("storming-start",o),n.$router.push(`/courses/${this.$route.params.course}/${this.$route.params.clazzName}/${a}/eventstorming`),n.$nextTick(function(){n.$EventBus.$emit("progressValue",!1)})}else e.tool},ideExistCheck(e){var t=this;return new Promise(function(n){t.$http.get(`http://34.69.232.192/api/v1/namespaces/default/pods/${e}/status`).then(function(e){n(!0)}).catch(function(e){n(!1)})})},async startIDE(e,t,n){var a=this,i=window.localStorage.getItem("email"),o=this.$route.params.labName.replace(/\s/g,"_");console.log(o);var r=a.$route.params.course,l=a.$route.params.clazzName,s=r+"/runningClass/"+l+"/"+o+"/"+i,c="labs-"+a.hashCode(s),u=await this.ideExistCheck(c);if(console.log(`/home/project/${s}/${t}`),u){var d=a.$route.params.labName,m=await a.getInstruction(d),p={labData:e,ideURL:`http://${c}.msastudy.io`,instruction:m,checkPoints:e.checkPoints,hints:e.hints,email:i};a.$EventBus.$emit("ide-open",p)}console.log(c),a.$http.post("http://34.69.232.192/api/v1/namespaces/default/pods",{apiVersion:"v1",kind:"Pod",metadata:{name:`${c}`,labels:{environment:"labs",app:`${c}`}},spec:{initContainers:[{name:"mkdir",image:"busybox",command:["mkdir","-p",`/home/project/${s}/${e.templateFlie}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"labs"}]},{name:"unzip",image:"busybox",command:["unzip","-n",`/home/project/${r}/planed/${o}/${e.templateFlie}`,"-d",`/home/project/${s}/${e.templateFlie}`],volumeMounts:[{mountPath:"/home/project",name:"test-storage",subPath:"labs"}]}],containers:[{name:`${c}`,image:"sanghoon01/theia-labs",securityContext:{privileged:!0},env:[{name:"COURSE",value:`${r}`},{name:"LABS",value:`${o}`},{name:"CLAZZ",value:`${l}`},{name:"EMAIL",value:`${i}`}],resources:{requests:{memory:"2Gi"}},volumeMounts:[{mountPath:"/var/run/docker.sock",name:"dockersock"},{mountPath:"/home/project",name:"test-storage",subPath:`labs/${s}/${e.templateFlie}`}]}],volumes:[{name:"dockersock",hostPath:{path:"/var/run/docker.sock",type:"File"}},{name:"test-storage",persistentVolumeClaim:{claimName:"nfs"}}]}}).then(function(){a.$http.post("http://34.69.232.192/api/v1/namespaces/default/services",{apiVersion:"v1",kind:"Service",metadata:{labels:{environment:"labs",app:`${c}`},name:`${c}`,namespace:"default"},spec:{ports:[{port:3e3,protocol:"TCP",targetPort:3e3}],selector:{app:`${c}`},sessionAffinity:"None",type:"ClusterIP"},status:{loadBalancer:{}}}).then(function(){setTimeout(async function(){var t=a.$route.params.labName,n=await a.getInstruction(t),o={labData:e,ideURL:`http://${c}.msastudy.io`,instruction:n,checkPoints:e.checkPoints,hints:e.hints,email:i};a.$EventBus.$emit("ide-open",o)},3e4);var t={email:i,status:"start",startTime:new Date,result:!1};a.$minioClient.putObject("labs",`${s}/User_Lab_Metadata.json`,JSON.stringify(t))})})},hashCode(e){return e.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0)}}}},aae7:function(e,t,n){var a={"./Opengraph.vue":"0f68","./geometry/BezierCurve.vue":"76e0","./geometry/Circle.vue":"ce2d","./geometry/Curve.vue":"dbf9","./geometry/Ellipse.vue":"50c8","./geometry/Geometry.vue":"b5db","./geometry/Line.vue":"b020","./geometry/Point.vue":"7e07","./geometry/PolyLine.vue":"bef4","./geometry/Polygon.vue":"3a94","./geometry/Rectangle.vue":"7c87","./shape/CircleElement.vue":"809c","./shape/EdgeElement.vue":"7a78","./shape/EllipseElement.vue":"0233","./shape/GeometryElement.vue":"6034","./shape/GroupElement.vue":"8e15","./shape/HorizontalLaneElement.vue":"bca5","./shape/HorizontalPoolElement.vue":"c49b","./shape/HtmlElement.vue":"9484","./shape/ImageElement.vue":"2479","./shape/OpengraphElement.vue":"d57a","./shape/RectangleElement.vue":"d4bc","./shape/SubController.vue":"0af2","./shape/SubElements.vue":"7312","./shape/SvgElement.vue":"967c","./shape/TextElement.vue":"ba54","./shape/VerticalLaneElement.vue":"e2fb","./shape/VerticalPoolElement.vue":"2fa1"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="aae7"},ab6e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[72,72],[50,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[28,72],[50,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("Attached Activity Id")]),n("md-input",{model:{value:e.activity.attachedToRef,callback:function(t){e.$set(e.activity,"attachedToRef",t)},expression:"activity.attachedToRef"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-escalation-intermediate-catch-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.EscalationIntermediateCatchEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4b90bf24",null);t["default"]=c.exports},ac57:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.value[0]?n("v-card",[e.value[0]?n("v-card-title",[e._v("\n            "+e._s(e.value[0].name)+"\n        ")]):e._e(),e.value[0].name.includes(".png")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):e.value[0].name.includes(".jpg")?n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.cmOption,"aspect-ratio":"1","max-width":"500","max-height":"300"}})],1):n("v-card-text",{staticClass:"overflow-auto",staticStyle:{"max-height":"600px"},attrs:{id:"scroll-target"}},[e.value[0]?n("codemirror",{ref:"codemirror",attrs:{value:e.value[0].code,options:e.cmOption,height:"700"},on:{ready:e.onCmReady,Focus:e.onCmFocus,input:e.onCmCodeChange}}):e._e()],1)],1):e._e()],1)},i=[],o=(n("ced0"),n("47ac"),n("959b"),n("dc5b"),n("02f0"),n("d5e0"),n("db91"),n("a7be"),n("7ba3"),n("4ba6"),{props:{value:Array},data(){return{}},computed:{cmOption(){if(this.value.length>0){if(this.value[0].name.includes(".java"))var e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-java",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:!0,scrollbarStyle:null,lineWiseCopyCut:!0};else if(this.value[0].name.includes(".yml")||this.value[0].name.includes(".yaml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-yaml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".md"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-markdown",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".properties"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-properties",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("mvnw"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-sh",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".xml"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/xml",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes("Dockerfile"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-dockerfile",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".json"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"application/json",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".py"))e={autoCloseBrackets:!0,tabSize:4,lineNumbers:!0,line:!0,mode:"text/x-python",theme:"darcula",lineWrapping:!0,matchBrackets:!0,scroll:!0,readOnly:"nocursor"};else if(this.value[0].name.includes(".png")||this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/png;base64,${this.value[0].code}`;else if(this.value[0].name.includes(".jpg")||this.value[0].name.includes(".jpeg"))e=`data:image/jpg;base64,${this.value[0].code}`;return e}}},watch:{},methods:{onScroll(e){},onCmReady(e){},onCmFocus(e){},onCmCodeChange(e){}},mounted(){},beforeDestroy(){console.log("aaa")}}),r=o,l=(n("b7f0"),n("2877")),s=n("6544"),c=n.n(s),u=n("b0af"),d=n("99d9"),m=n("a523"),p=n("adda"),v=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=v.exports;c()(v,{VCard:u["a"],VCardText:d["b"],VCardTitle:d["c"],VContainer:m["a"],VImg:p["a"]})},ac66:function(e,t){throw new Error("Module parse failed: Unexpected token (9:10)\nYou may need an appropriate loader to handle this file type.\n| spec:\n|   ports:\n>     - port: 8080\n|       targetPort: 8080\n|   selector:")},ac99:function(e,t,n){},af69:function(e,t,n){},b020:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-line",props:{from:{default:function(){return[20,5]},type:Array},to:{default:function(){return[30,15]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Line(this.from,this.to),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"2b051ce0",null);t["default"]=c.exports},b063:function(e,t,n){},b236:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableTo:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("rectangle-element",{attrs:{"sub-width":"65%","sub-height":"40%","sub-align":"center","sub-top":"29%"}}),n("geometry-line",{attrs:{from:[17.4,29.2],to:[50,50]}}),n("geometry-line",{attrs:{from:[82.4,29.2],to:[50,50]}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("Service Path")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.servicePath,callback:function(t){e.$set(e.activity,"servicePath",t)},expression:"activity.servicePath"}})],1),n("md-input-container",[n("label",[e._v("Correlation Key")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.correlationKey,callback:function(t){e.$set(e.activity,"correlationKey",t)},expression:"activity.correlationKey"}})],1),n("md-input-container",[n("label",[e._v("Data for Output")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.dataOutput.name,callback:function(t){e.$set(e.activity.dataOutput,"name",t)},expression:"activity.dataOutput.name"}})],1),n("p",[e._v("데이터 속성 별 매핑")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.dataOutputMapping,definition:e.definition,"label-for-argument":"속성"}}),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-message-start-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"StartEvent"},className(){return"org.uengine.kernel.bpmn.MessageStartEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},dataOutput:{name:""},dataOutputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"5fbfd5b2",null);t["default"]=c.exports},b255:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{staticStyle:{width:"300px"},attrs:{absolute:"",permanent:"",right:""}},[n("v-row",{staticStyle:{"margin-left":"5px"},attrs:{align:"center",justify:"start"}},[e._v("\n                ("+e._s(e.lists.length)+")\n                "),e._l(e.lists,function(t,a){return e.lists.length>0?n("div",[e._v("\n                    "+e._s(t.userName)+",\n                ")]):e._e()}),n("v-row",{staticStyle:{"margin-right":"10px"},attrs:{align:"center",justify:"end"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[n("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){return e.participantClosePanel()}}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-close")])],1)]}}])},[n("span",[e._v(" 닫기 ")])])],1)],2),e._l(e.lists,function(t,a){return n("div",[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-avatar",{attrs:{size:"36",color:"grey"}},[n("img",{attrs:{src:t.picture,alt:t.userName}})]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.userName))]),n("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)],1)],1)})],2)],1)},i=[],o={name:"participant-lists-panel",props:{lists:Array},data(){return{chatLists:[]}},methods:{participantClosePanel(){var e=this;e.$EventBus.$emit("participantsListsPanel",!1)}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),d=n("b0af"),m=n("132d"),p=n("a722"),v=n("da13"),h=n("8270"),f=n("5d23"),g=n("f774"),y=n("0fd9"),b=n("3a2f"),_=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=_.exports;c()(_,{VBtn:u["a"],VCard:d["a"],VIcon:m["a"],VLayout:p["a"],VListItem:v["a"],VListItemAvatar:h["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VNavigationDrawer:g["a"],VRow:y["a"],VTooltip:b["a"]})},b38e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[72,72],[50,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[50,22],[28,72],[50,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-escalation-intermediate-throw-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.EscalationIntermediateThrowEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4ce1b8ce",null);t["default"]=c.exports},b483:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":3,fill:"#FFFFFF","fill-opacity":0,r:"10"}}}),n("sub-elements",[n("bpmn-loop-type",{attrs:{loopType:e.loopType}}),n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type,className:e.className,"callee-definition-id":e.activity.definitionId}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("연결 프로세스 정의")]),n("md-autocomplete",{attrs:{list:e.recommendedDefinitionList,"filter-list":e.fetchDefinitionList},model:{value:e.activity.definitionId,callback:function(t){e.$set(e.activity,"definitionId",t)},expression:"activity.definitionId"}})],1),e.activity.definitionId?n("div",[n("p",[e._v("연결 변수 매핑")]),n("bpmn-parameter-contexts",{attrs:{"parameter-contexts":e.activity.variableBindings,definition:e.definition,"callee-definition-id":e.activity.definitionId,"for-sub-process":!0,"for-call-activity":!0}}),n("p",[e._v("연결 역할 매핑")]),n("bpmn-role-parameter-contexts",{attrs:{"parameter-contexts":e.activity.roleBindings,"callee-definition-id":e.activity.definitionId,definition:e.definition}})],1):e._e(),n("md-input-container",[n("label",[e._v("Retry Delay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-call-activity",props:{},computed:{defaultStyle(){return{}},type(){return"Task"},className(){return"org.uengine.kernel.bpmn.CallActivity"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,definitionId:"",variableBindings:[],roleBindings:[],elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{rowData:[],recommendedDefinitionList:[{name:""}]}},created:function(){},watch:{drawer:function(e){console.log("editing mode changed"),e&&this.loadData()}},mounted:function(){this.loadData(),this.fetchDefinitionList()},methods:{loadData:function(){var e=this,t="definitions/all";this.$root.codi(t).get().then(function(t){e.rowData=t.data;var n=[];$.each(t.data,function(e,t){var a=t.length,i=t.lastIndexOf(".")+1,o=t.substring(i,a);"json"==o&&(t=t.replace(".json",""),n.push({name:t}))}),e.rowData=n})},fetchDefinitionList(e,t){var n=t,a=this,i=localStorage["access_token"],o=hybind("http://localhost:8080",{headers:{access_token:i}});a.recommendedDefinitionList=[{name:"-----List-----"}];var r={};return o.$bind("definition/search/findByDefIdContaining?defId="+n,r),r.$load().then(function(e){console.log(e);for(var t=0;t<e.length;t++){var n=e[t].name;a.recommendedDefinitionList.push({name:n})}}),a.recommendedDefinitionList}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"a3bf97aa",null);t["default"]=c.exports},b59a:function(e,t,n){"use strict";var a=n("64be"),i=n.n(a);i.a},b5db:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"geometry",props:{},computed:{},data:function(){return{props:JSON.parse(JSON.stringify(this.$props)),id:this.uuid(),element:null}},watch:{$props:{handler:function(e,t){this.props=JSON.parse(JSON.stringify(e))},deep:!0},props:{handler:function(e,t){var n=!1;for(var a in e)(e[a]||t[a])&&("object"==typeof e[a]?t[a]&&JSON.stringify(e[a])==JSON.stringify(t[a])||(n=!0):e[a]!=t[a]&&(n=!0));n&&this.registToElement()},deep:!0}},mounted:function(){this.registToElement()},destroyed:function(){var e=this;e.element&&e.element.removeGeometry(e.id)},methods:{registToElement:function(){var e=this;if(e.element||(e.element=e.getClosestElement()),!e.element)throw new Error("Not found parent element for geomery.");e.element.addGeometry(this,e.id)},getClosestElement:function(){var e,t=null,n=function(a){e=a.$parent,e&&("opengraph-element"==e.opengraphRole?t=e:n(e))};return n(this),t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"2a0d85a7",null);t["default"]=s.exports},b7f0:function(e,t,n){"use strict";var a=n("dc1b"),i=n.n(a);i.a},b815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("8aa5"),r=n.n(o),l=(n("64ae"),n("761a"),{name:"modeling-element-base",props:{value:Object},created:function(){var e=this;e.messageRef=r.a.database().ref(`/${e.$route.params.author}/${e.$route.params.projectName}`),"org.uengine.modeling.model.BoundedContext"==e.value._type&&(e.namePanel=e.value.name)},data:function(){return{_id:null,rotateMove:!1,tmpWidth:0,tmpHeight:0,messageRef:{},isException:"NO",failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",isUndoRedo:!1,checkValue:!1,selected:!1,openPanel:!1,namePanel:"",movingElement:!0}},computed:{isCustomMoveActionExist(){var e=this,t=e.getComponent("modeling-designer");return"2.0"==t.specVersion},type(){return""},code(){return""},style:{get:function(){var e;if(this.value&&(e=this.value.elementView?this.value.elementView.style:this.value.relationView.style),e){var t=JSON.parse(e);return $.isEmptyObject(t)?this.defaultStyle:t}return this.defaultStyle},set:function(e){this.value&&(this.value.elementView?this.value.elementView.style=JSON.stringify(e):this.value.relationView.style=JSON.stringify(e))}}},watch:{},mounted:function(){var e=this;e.getComponent("modeling-designer");$(document).keydown(t=>{46!=t.keyCode&&8!=t.keyCode||e.selected&&!e.openPanel&&console.log("============== Storage Location Search Test 1-1 (Back Delete) ============= ")}),"org.uengine.modeling.model.Relation"==e.value._type?e.$EventBus.$on(`${e.value.relationView.id}`,function(t){"delete"==t.state&&e.deleteActivity(t)}):e.$EventBus.$on(e.value.elementView.id,function(t){"delete"==t.state&&e.deleteActivity(t)})},beforeDestroy(){this.value.elementView?this.$EventBus.$off(`${this.value.elementView.id}`):this.$EventBus.$off(`${this.value.relationView.id}`)},methods:{delayedRelationMove(e){var t,n=this,a=n.getComponent("modeling-designer"),i=JSON.stringify(n.value.relationView.value),o=[];if(e.forEach(function(e,t){o.push([e.x,e.y])}),t=JSON.stringify(o),"2.0"!=a.specVersion||a.isRead)alert("No Match Condition."),window.location.reload(!0);else{var l=null==localStorage.getItem("projectId")?a.parmProjectId:localStorage.getItem("projectId");r.a.database().ref("definitions/"+l+"/queue").push({state:"relationMove",editUid:localStorage.getItem("uid"),relationId:n.value.relationView.id,before:i,after:t,timeStamp:(new Date).getTime()})}},delayedMove(e,t,n,a,i,o,l,s){var c,u,d,m,p=this,v=p.getComponent("modeling-designer"),h=p.value.elementView.x,f=p.value.elementView.y,g=p.value.elementView.width,y=p.value.elementView.height;if(p.movingElement=!1,null==e&&null==t?(Math.abs(l)<=Math.abs(s)?c=s>=0?h+Math.abs(l+s)/2:h-Math.abs(l+s)/2:Math.abs(l)>Math.abs(s)&&(c=l>=0?h-Math.abs(l+s)/2:h+Math.abs(l+s)/2),Math.abs(o)<=Math.abs(i)?u=i>=0?f-Math.abs(i+o)/2:f+Math.abs(i+o)/2:Math.abs(o)>Math.abs(i)&&(u=o>=0?f+Math.abs(i+o)/2:f-Math.abs(i+o)/2),d=n,m=a):null==n&&null==a?(c=h+e,u=f+t,d=g,m=y):console.log("error Move & Resize"),"2.0"!=v.specVersion||v.isRead)alert("No Match Condition."),window.location.reload(!0);else{var b=null==localStorage.getItem("projectId")?v.parmProjectId:localStorage.getItem("projectId");r.a.database().ref("definitions/"+b+"/queue").push({state:"elementMove",editUid:localStorage.getItem("uid"),elementId:p.value.elementView.id,before:JSON.stringify({x:h,y:f,width:g,height:y}),after:JSON.stringify({x:c,y:u,width:d,height:m}),timeStamp:(new Date).getTime()})}},onDeleteEventPush(e){var t=this,n=t.getComponent("modeling-designer");"local"==n.parmType||"1.0"==n.specVersion?"org.uengine.modeling.model.Relation"==t.value._type?t.$EventBus.$emit(`${t.value.relationView.id}`,e):t.$EventBus.$emit(`${t.value.elementView.id}`,e):"2.0"!=n.specVersion||n.isRead||("org.uengine.modeling.model.Relation"==t.value._type?r.a.database().ref("definitions/"+n.parmProjectId+"/queue").push({state:"relationDelete",editUid:localStorage.getItem("uid"),timeStamp:(new Date).getTime(),item:JSON.stringify(e.element)}):r.a.database().ref("definitions/"+n.parmProjectId+"/queue").push({state:"elementDelete",editUid:localStorage.getItem("uid"),timeStamp:(new Date).getTime(),item:JSON.stringify(e.element)}))},mergeDeep(e,t){if(!t.length)return e;const n=t.shift();if(isObject(e)&&isObject(n))for(const a in n)isObject(n[a])?(e[a]||Object.assign(e,{[a]:{}}),mergeDeep(e[a],n[a])):Object.assign(e,{[a]:n[a]});return this.mergeDeep(e,t)},onDeleted(){},deleteActivity(){var e=this;e.$emit("update:value",null)},difference:_.debounce(function(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},100),onLabelChanged:function(e,t){},onRotateShape:function(e,t){this.value.elementView.angle=t},connected:function(){},selectedActivity:function(){this.value&&(this.selected=!0)},onMoveShape:function(){console.log("onMoveShape")},deSelectedActivity:function(){this.value&&(this.selected=!1,this.openPanel=!1)},showProperty:function(){this.getComponent("modeling-designer");this.openPanel=!0},onAddToGroup:function(e,t,n){},onAddedToGroup:function(e,t,n){if(e.tagName)"org.uengine.modeling.model.BoundedContext"!=t.$parent.value._type&&(t.$parent.value.boundedContext={});else if("org.uengine.modeling.model.BoundedContext"==e.$parent.value._type){var a=e.$parent.value,i={id:a.elementView.id,name:a.name};t.$parent.value.boundedContext=i}},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},refresh(){var e=this;e.value.elementView.x=e.value.elementView.x+1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight,e.rotateMove=!0,e.value.elementView.x=e.value.elementView.x-1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight})})},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},onRemoveShape:function(e){var t=this,n=(t.getComponent("modeling-designer"),{state:"delete",element:e});t.onDeleteEventPush(n),console.log("============== Storage Location Search Test 1-2 (Delete Btn) ============= ")}}}),s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,"79877e05",null);t["default"]=u.exports},b832:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["Standard"==e.loopType?n("image-element",{attrs:{image:e.loop_standard_image,"sub-width":"15px","sub-height":"15px","sub-bottom":"5px","sub-align":"center"}}):e._e(),"MIParallel"==e.loopType?n("geometry-element",{attrs:{"sub-width":"15px","sub-height":"15px","sub-bottom":"5px","sub-align":"center"}},[n("geometry-line",{attrs:{from:[0,30],to:[0,0]}}),n("geometry-line",{attrs:{from:[15,30],to:[15,0]}}),n("geometry-line",{attrs:{from:[30,30],to:[30,0]}})],1):e._e(),"MISequential"==e.loopType?n("geometry-element",{attrs:{"sub-width":"15px","sub-height":"15px","sub-bottom":"5px","sub-align":"center"}},[n("geometry-line",{attrs:{from:[0,30],to:[30,30]}}),n("geometry-line",{attrs:{from:[0,15],to:[30,15]}}),n("geometry-line",{attrs:{from:[0,0],to:[30,0]}})],1):e._e()],1)},i=[],o={name:"bpmn-loop-type",props:{loopType:String},computed:{},data:function(){return{loop_standard_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/loop_standard.png"}},watch:{},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"430f4329",null);t["default"]=s.exports},b84f:function(e,t){throw new Error("Module parse failed: Unexpected token (18:14)\nYou may need an appropriate loader to handle this file type.\n|     spec:\n|       containers:\n>         - name: {{name}}\n|           image: username/{{name}}:latest\n|           ports:")},b850:function(e,t){throw new Error("Module parse failed: Unexpected character '#' (1:0)\nYou may need an appropriate loader to handle this file type.\n> # python")},ba03:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("geometry-polygon",{attrs:{vertices:[[68,35],[68,65],[48,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[48,35],[48,65],[28,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-compensation-intermediate-throw-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.CompensationIntermediateThrowEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"37bc7a00",null);t["default"]=c.exports},ba54:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"text-element",props:{},computed:{},data:function(){return{}},watch:{text:function(e){this.props.text=e}},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.TextShape(e.text)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"309d446e",null);t["default"]=c.exports},ba6d:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n| fileName: {{namePascalCase}}Controller.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},bab0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:e.closeComponentChanger,deSelectShape:e.closeComponentChanger,removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-polygon",{attrs:{vertices:[[0,50],[50,100],[100,50],[50,0]]}}),n("geometry-line",{attrs:{from:[20,50],to:[80,50],_style:{"stroke-width":5}}}),n("geometry-line",{attrs:{from:[50,20],to:[50,80],_style:{"stroke-width":5}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-parallel-gateway",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120}},type(){return"Gateway"},className(){return"org.uengine.kernel.bpmn.ParallelGateway"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"2a454a0c",null);t["default"]=c.exports},bb36:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:40,_style:{"stroke-width":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}}),n("rectangle-element",{attrs:{"sub-width":"33%","sub-height":"20%","sub-top":"40%","sub-left":"28%","sub-style":{"stroke-width":.8,fill:"#000000","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[60,33],[60,67],[77,50]],_style:{"stroke-width":.8,fill:"#000000","fill-opacity":1}}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("Event Name")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-link-intermediate-throw-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.LinkIntermediateThrowEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},role:{name:""},outputMapping:[],tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"bdd13b0a",null);t["default"]=c.exports},bca5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"horizontal-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalLaneShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"38b855d8",null);t["default"]=c.exports},bef4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-polyline",props:{vertices:{default:function(){return[[20,5],[30,15],[40,25],[50,15]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.PolyLine(this.vertices),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"639fddc5",null);t["default"]=c.exports},bf6f:function(e,t){throw new Error("Module parse failed: Unexpected character '#' (1:0)\nYou may need an appropriate loader to handle this file type.\n> # Deploy to Azure Kubernetes Service\n| # Build and push image to Azure Container Registry; Deploy to Azure Kubernetes Service\n| # https://docs.microsoft.com/azure/devops/pipelines/languages/docker")},c0d6:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2b0e"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$http=axios__WEBPACK_IMPORTED_MODULE_2___default.a,vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]),__webpack_exports__["a"]=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{accessToken:null,kubeHost:"",kubeToken:"",username:"",storeAuthorized:!1,deployment:{width:100,height:100},ingress:{width:100,height:100},namespace:{width:100,height:100},persistenceVolume:{width:100,height:100},persistenceVolumeClaim:{width:100,height:100},pod:{width:100,height:100},replicaSet:{width:100,height:100},service:{width:100,height:100}},getters:{getAuth(e){return e.storeAuthorized},getWidth:state=>type=>{return eval("state."+type.charAt(0).toLowerCase()+type.slice(1)+".width")},getHeight:state=>type=>{return eval("state."+type.charAt(0).toLowerCase()+type.slice(1)+".height")}},mutations:{resize(state,data){eval("state."+data.type.charAt(0).toLowerCase()+data.type.slice(1)+".width = "+data.width),eval("state."+data.type.charAt(0).toLowerCase()+data.type.slice(1)+".height = "+data.height)}},actions:{resize({commit:e},t){e("resize",t)}}})},c49b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"horizontal-pool-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.HorizontalPoolShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"60498d48",null);t["default"]=c.exports},c599:function(e,t,n){"use strict";var a=n("823d"),i=n.n(a);i.a},c5ae:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("geometry-polygon",{attrs:{vertices:[[20,80],[50,20],[80,80],[50,50]],_style:{fill:"black","fill-opacity":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-escalation-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom"}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.EscalationEndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"391febf0",null);t["default"]=c.exports},c75d:function(e,t,n){"use strict";var a=n("0d01"),i=n.n(a);i.a},c986:function(e,t,n){},c9bd:function(e,t,n){"use strict";var a=n("5061"),i=n.n(a);i.a},cacc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edge-element",{attrs:{selectable:"",connectable:"",deletable:"",id:null,vertices:e.vertices,from:e.value.sourceElement.elementView.id,to:e.value.targetElement.elementView.id,_style:e.style,label:e.value.name},on:{"update:vertices":function(t){e.vertices=t},"update:from":function(t){return e.$set(e.value.sourceElement.elementView,"id",t)},"update:to":function(t){return e.$set(e.value.targetElement.elementView,"id",t)},"update:_style":function(t){e.style=t},"update:label":function(t){return e.$set(e.value,"name",t)}}})],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"modeling-relation",props:{value:Object},computed:{defaultStyle(){return{}},type(){return"Relation"},createNew(e,t,n){return{sourceElement:e,targetElement:t,selected:!1,relationView:{style:JSON.stringify({}),value:n}}},vertices:{get:function(){try{return JSON.parse(this.value.relationView.value)}catch(e){return null}},set:function(e){this.value.relationView.value=JSON.stringify(e)}}},data:function(){return{otherwise:!1}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"d911706c",null);t["default"]=c.exports},cacf:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> from flask import Flask\n| from redis import Redis, RedisError\n| from kafka import KafkaConsumer")},cc89:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,deletable:!e.isRead,connectable:"",id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,customMoveActionExist:e.isCustomMoveActionExist,label:e.namePanel,image:e.setImg,_style:{"label-angle":e.value.elementView.angle,"font-weight":"bold","font-size":"16"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},customMoveAction:e.delayedMove,selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,rotateShape:e.onRotateShape,labelChanged:e.onLabelChanged,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},"update:label":function(t){e.namePanel=t},"update:image":function(t){e.setImg=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#ED73B6",fill:"#ED73B6","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#ED73B6",fill:"#ED73B6","fill-opacity":.5,r:"1"}}}),e._l(e.newEditUserImg.length,function(t){return n("sub-elements",[n("image-element",{attrs:{image:e.newEditUserImg[t-1].picture,"sub-width":"24px","sub-height":"24px","sub-right":10*(t-1)+"px","sub-bottom":e.value.elementView.height}})],1)}),n("sub-elements",[n("text-element",{attrs:{"sub-width":"100%","sub-height":e.titleH,"sub-top":0,"sub-left":0,text:e.value.classReference?e.value.classReference:"<< External >>"}}),e.alertImage?n("image-element",{attrs:{image:e.failed_image,"sub-width":"24px","sub-height":"24px","sub-right":"5px","sub-bottom":"5px"}}):e._e()],1)],2),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"External",errorMsg:e.errorMsg,img:"https://raw.githubusercontent.com/kimsanghoon1/k8s-UI/master/public/static/image/event/external.png"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r={mixins:[o["default"]],name:"external-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel&&0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context and Must has a name.":0==Object.keys(e.value.boundedContext).length?"Element must be in a Bounded Context.":""==e.namePanel?"Must has a name.":""},alertImage(){var e=this;return""==e.namePanel||0==Object.keys(e.value.boundedContext).length},defaultStyle(){return{}},className(){return"org.uengine.modeling.model.External"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",namePascalCase:"",nameCamelCase:"",namePlural:"",aggregate:{},boundedContext:{},elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:100,style:JSON.stringify({}),angle:0}}}},data:function(){return{isRead:!1,itemH:20,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,failed_image:location.pathname+("/"==location.pathname||location.pathname.lastIndexOf("/")>0?"":"/")+"static/image/symbol/alert-icon.png",isValueChanged:!1,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){null!=this.namePanel&&(this.namePanel=e.value.name),e.isRead=t.isRead})},watch:{movingElement:function(){this.refreshImg()},alertImage:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.$nextTick(function(){0!=e.length?this.setImg=e[e.length-1].picture:this.setImg=""})},openPanel:function(e){var t=this;0==e&&t.isValueChanged&&(t.isValueChanged=!1)},"value.name":function(e,t){this.namePanel=e}},mounted:function(){var e=this,t=e.getComponent("modeling-designer");e.$nextTick(function(){e.isRead=t.isRead}),this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}"editUserPanelOpen"==t.state||"editUserSelectOn"==t.state?-1==e.newEditUserImg.findIndex(e=>e.uid==t.uid)&&e.newEditUserImg.push(t):"editUserPanelClose"!=t.state&&"editUserSelectOff"!=t.state||e.newEditUserImg.length>0&&(e.newEditUserImg.forEach(function(n,a){n.uid==t.uid&&(e.newEditUserImg[a]=null)}),e.newEditUserImg=e.newEditUserImg.filter(e=>e))})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"b4875a46",null);t["default"]=c.exports},ce2d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-circle",props:{center:{default:function(){return[10,10]},type:Array},radius:{default:function(){return 5},type:Number},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Circle(this.center,this.radius),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"42108a06",null);t["default"]=c.exports},d0da:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.data.definition?n("opengraph",{ref:"bpmnOpengraph",attrs:{"focus-canvas-on-select":"",wheelScalable:"",dragPageMovable:e.dragPageMovable,enableContextmenu:!1,enableRootContextmenu:!1,enableHotkeyCtrlC:!1,enableHotkeyCtrlV:!1,enableHotkeyDelete:!1,slider:!1,movable:!e.monitor,resizable:!e.monitor,selectable:!e.monitor,connectable:!e.monitor,width:1500,height:1e3},on:{canvasReady:e.bpmnReady,userAction:e.onUserAction,connectShape:e.onConnectShape,removeShape:e.onRemoveShape,divideLane:e.onDivideLane,beforeDestroyElement:e.onBeforeDestroyElement}},[e._l(e.data.definition.roles,function(t){return n("div",[null!=t?n("bpmn-role",{attrs:{role:t},on:{"update:role":function(e){t=e}}}):e._e()],1)}),e._l(e.data.definition.childActivities[1],function(t){return n("div",[null!=t?n(e.getComponentByClassName(t._type),{tag:"component",attrs:{activity:t,definition:e.data.definition,status:t.status,faultMessage:t.faultMessage},on:{"update:activity":function(e){t=e}}}):e._e()],1)}),e._l(e.data.definition.sequenceFlows,function(t){return n("div",[null!=t?n("bpmn-relation",{attrs:{relation:t,definition:e.data.definition},on:{"update:relation":function(e){t=e}}}):e._e()],1)}),e._l(e.data.definition.messageFlows,function(t){return n("div",[null!=t?n("bpmn-message-flow",{attrs:{relation:t,definition:e.data.definition},on:{"update:relation":function(e){t=e}}}):e._e()],1)})],2):e._e(),e.data.definition?n("bpmn-component-changer",{attrs:{data:e.componentChangerData}}):e._e(),e.data.definition?n("v-dialog",{ref:"processVariables",model:{value:e.processVariablesDialog,callback:function(t){e.processVariablesDialog=t},expression:"processVariablesDialog"}},[n("v-card",[n("v-card-title",[e._v("Process Variables")]),n("v-card-text",[n("v-container",[n("object-grid",{attrs:{java:"org.uengine.kernel.ProcessVariable",online:!1,"full-fledged":!0,backend:e.backend},model:{value:e.processVariables,callback:function(t){e.processVariables=t},expression:"processVariables"}})],1)],1),n("v-card-actions",[n("v-btn",{staticClass:"md-primary",on:{click:e.closeProcessVariables}},[e._v("Close")])],1)],1)],1):e._e(),e.data.definition?n("v-dialog",{ref:"definitionSettings",model:{value:e.definitionSettings,callback:function(t){e.definitionSettings=t},expression:"definitionSettings"}},[n("v-card",[n("v-card-title",[e._v("Definition Settings")]),n("v-card-text",[n("v-form",{attrs:{novalidate:""},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[n("v-container",[e._v("\n                            Description\n                            "),n("v-text-field",{model:{value:e.defintionSettings.shortDescription.text,callback:function(t){e.$set(e.defintionSettings.shortDescription,"text",t)},expression:"defintionSettings.shortDescription.text"}})],1),n("v-container",[e._v("\n                            Instance Name Pattern\n                            "),n("v-text-field",{model:{value:e.data.definition.instanceNamePattern,callback:function(t){e.$set(e.data.definition,"instanceNamePattern",t)},expression:"data.definition.instanceNamePattern"}})],1),n("v-switch",{staticClass:"md-primary",attrs:{id:"my-test1",name:"my-test1",label:"Initiate by event"},model:{value:e.data.definition.initiateByFirstWorkitem,callback:function(t){e.$set(e.data.definition,"initiateByFirstWorkitem",t)},expression:"data.definition.initiateByFirstWorkitem"}},[e._v("\n                            Initiate by event\n                        ")]),n("v-switch",{staticClass:"md-primary",attrs:{id:"my-test1",name:"my-test1",label:" Volatile"},model:{value:e.data.definition.volatile,callback:function(t){e.$set(e.data.definition,"volatile",t)},expression:"data.definition.volatile"}},[e._v("\n                            Volatile\n                        ")])],1)],1),n("v-dialog-actions",[n("v-btn",{staticClass:"md-primary",on:{click:e.closeDefinitionSettings}},[e._v("Close")])],1)],1)],1):e._e()],1)},i=[],o={name:"bpmn-vue",props:{loaded:Boolean,definition:Object,monitor:Boolean,backend:Object,dragPageMovable:Boolean},mounted:function(){var e=(new Date).getTime();this.id=this.uuid(),this.data.definition=this.validateDefinition(this.definition),this.preLocale=this.data.definition._selectedLocale;var t=this.data.definition.shortDescription;t||(t=new Object,t._type="org.uengine.contexts.TextContext",t.text=""),this.data.definition.initiateByFirstWorkitem||(this.data.definition.initiateByFirstWorkitem=!1),this.data.definition.volatile||(this.data.definition.volatile=!1),t.localedTexts&&t.localedTexts[this.preLocale]&&(t.text=t.localedTexts[this.preLocale]),this.defintionSettings={shortDescription:t};var n=this.data.definition.processVariableDescriptors;if(n&&n.length){var a=JSON.parse(JSON.stringify(n)),i=this;$.each(a,function(e,t){t.displayName&&(t.displayName.localedTexts&&t.displayName.localedTexts[i.data.definition._selectedLocale]?t.displayName=t.displayName.localedTexts[i.data.definition._selectedLocale]:t.displayName=t.displayName.text)}),this.processVariables=a}this.history=[JSON.parse(JSON.stringify(this.data.definition))],this.$nextTick(function(){this.canvas._CONFIG.FAST_LOADING=!1,this.$refs.bpmnOpengraph.printTimer(e,(new Date).getTime()),this.$emit("update:loaded",!0)})},data:function(){return{timerMap:{},enableHistoryAdd:!1,processVariables:[],data:{definition:null,trigger:{}},history:[],historyIndex:0,undoing:!1,undoed:!1,id:null,canvas:null,propertyEditing:!1,componentChangerData:null,preventEvent:!1,preLocale:null,defintionSettings:null,definitionSettings:!1,processVariablesDialog:!1}},watch:{defintionSettings:{handler:function(e){this.defintionSettings.shortDescription.localedTexts||(this.defintionSettings.shortDescription.localedTexts={_type:"java.util.HashMap"}),this.defintionSettings.shortDescription.localedTexts[this.data.definition._selectedLocale]=this.defintionSettings.shortDescription.text},deep:!0},processVariables:{handler:function(e,t){if(console.log("processVariables update!!",e),e&&e.length){var n=this,a=n.data.definition.processVariableDescriptors,i=JSON.parse(JSON.stringify(e));$.each(i,function(e,t){var i;$.each(a,function(e,n){t.name==n.name&&(i=n.displayName.localedTexts)}),i||(i={_type:"java.util.HashMap"}),i[n.data.definition._selectedLocale]=t.displayName,t.displayName={text:t.displayName,localedTexts:i}}),this.data.definition.processVariableDescriptors=i}},deep:!0},data:{handler:function(e,t){if(this.$emit("update:definition",e.definition),this.propertyEditing)this.enableHistoryAdd=!1,console.log("definition updated while property panel open.");else{if(!this.enableHistoryAdd){if(this.preLocale!=e.definition._selectedLocale){this.defintionSettings.shortDescription.localedTexts[e.definition._selectedLocale]&&(this.defintionSettings.shortDescription.text=this.defintionSettings.shortDescription.localedTexts[e.definition._selectedLocale]);var n=JSON.parse(JSON.stringify(e.definition.processVariableDescriptors));$.each(n,function(t,n){n.displayName&&(n.displayName.localedTexts&&n.displayName.localedTexts[e.definition._selectedLocale]?n.displayName=n.displayName.localedTexts[e.definition._selectedLocale]:n.displayName=n.displayName.text)}),this.processVariables=n,this.preLocale=e.definition._selectedLocale}return void console.log("definition updated, but not allow add history.")}this.enableHistoryAdd=!1}this.undoing?(console.log("definition updated, but triggered by undo,redo action. will skip add history."),this.undoing=!1):(console.log("definition updated, we will add history.",e.definition),this.undoed&&(this.history.splice(this.historyIndex,this.history.length-this.historyIndex),this.undoed=!1),this.history.push(JSON.parse(JSON.stringify(e.definition))),this.historyIndex=this.history.length-1)},deep:!0}},computed:{canUndo:function(){return this.historyIndex>0},canRedo:function(){return this.history.length-1-this.historyIndex>0},bpmnRole:function(){return"bpmn-vue"}},methods:{openProcessVariables(e){this.processVariablesDialog=!0},closeProcessVariables(e){this.processVariablesDialog=!1},openDefinitionSettings(e){this.definitionSettings=!0},closeDefinitionSettings(e){this.definitionSettings=!1},getRelativeFlowsByOpengraphId:function(e){var t=this,n=[],a=function(t){t&&(t.messageFlows&&t.messageFlows.length&&$.each(t.messageFlows,function(t,a){!a||a.sourceRef!=e&&a.targetRef!=e||n.push(a)}),t.sequenceFlows&&t.sequenceFlows.length&&$.each(t.sequenceFlows,function(t,a){!a||a.sourceRef!=e&&a.targetRef!=e||n.push(a)}),t.childActivities&&t.childActivities[1]&&t.childActivities[1].length&&$.each(t.childActivities[1],function(e,t){a(t)}))};return a(t.data.definition),n},getActAndRelByOpengraphId:function(e){var t,n=this,a=function(n){n&&(n.tracingTag&&n.tracingTag==e&&(t=n),n.sequenceFlows&&n.sequenceFlows.length&&$.each(n.sequenceFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(t=a)}),n.messageFlows&&n.messageFlows.length&&$.each(n.messageFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(t=a)}),t||n.childActivities&&n.childActivities[1]&&n.childActivities[1].length&&$.each(n.childActivities[1],function(e,t){a(t)}))};return a(n.data.definition),t},getWhereRoleAmIByTracingTag:function(e){var t=this,n=null,a=t.canvas.getElementById(e),i=t.canvas.getRenderer().getFrontForBoundary(t.canvas.getBoundary(a));return i&&t.canvas.getRenderer().isLane(i)&&(n=i.shape.label),n},getWherePoolAmIByTracingTag:function(e){var t=this,n=t.canvas.getElementById(e),a=t.canvas.getRenderer().getFrontForBoundary(t.canvas.getBoundary(n));if(!a||!t.canvas.getRenderer().isLane(a))return null;var i=t.canvas.getRenderer().getFrontForBoundary(t.canvas.getBoundary(a));return i&&t.canvas.getRenderer().isLane(i)?i.shape.label:a.shape.label},getParentActByOpengraphId:function(e){var t,n=this,a=function(n,i){n&&(n.tracingTag==e&&(t=i),n.sequenceFlows&&n.sequenceFlows.length&&$.each(n.sequenceFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(t=i)}),n.messageFlows&&n.messageFlows.length&&$.each(n.messageFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(t=i)}),t||n.childActivities&&n.childActivities[1]&&n.childActivities[1].length&&$.each(n.childActivities[1],function(e,t){a(t,n)}))};return a(n.data.definition,null),t._type&&"org.uengine.kernel.ProcessDefinition"==t._type?null:t},onBeforeDestroyElement:function(e,t){var n=e.id,a=this.getActAndRelByOpengraphId(n);a&&(console.log("onBeforeDestroyElement!!",n),t(!1))},addChild:function(e,t,n){n?"org.uengine.kernel.bpmn.MessageFlow"==e._type?this.data.definition.messageFlows.push(e):t?(console.log("parent.tracingTag",t.tracingTag),t.sequenceFlows||(t.sequenceFlows=[]),t.sequenceFlows.push(e)):(console.log("parent is root"),this.data.definition.sequenceFlows.push(e)):t?(console.log("parent.tracingTag",t.tracingTag),t.childActivities||(t.childActivities=["java.util.ArrayList",[]]),t.childActivities[1].push(e)):(console.log("parent is root"),this.data.definition.childActivities[1].push(e))},moveActivity:function(e,t){var n,a=this;t&&(n=a.getActAndRelByOpengraphId(t));var i=a.getActAndRelByOpengraphId(e),o=JSON.parse(JSON.stringify(i));a.removeComponentByOpenGraphComponentId(e),this.addChild(o,n);var r=this.getRelativeFlowsByOpengraphId(e);$.each(r,function(t,i){var o,r=i.sourceRef+"-"+i.targetRef,l=JSON.parse(JSON.stringify(i));o=i.sourceRef==e?a.getParentActByOpengraphId(i.targetRef):a.getParentActByOpengraphId(i.sourceRef),console.log("relativeParent",o),a.removeComponentByOpenGraphComponentId(r);var s=!0;!n&&o?s=!1:n&&!o?s=!1:n&&o&&n.tracingTag!=o.tracingTag&&(s=!1),s?a.addChild(l,null):a.$root.$children[0]&&a.$root.$children[0].snackbar&&a.$root.$children[0].error("동일한 서브프로세스에 위치한 액티비티가 아닐 경우 연결할 수 없습니다.")}),a.data.definition=JSON.parse(JSON.stringify(a.data.definition)),console.log("moved!!",e,t)},validateDefinition:function(e){var t,n,a=this,i=JSON.parse(JSON.stringify(e));i.roles||(i.roles=[]),t=a.getComponentByName("bpmn-role"),$.each(i.roles,function(e,a){for(var i in n=t.default.computed.createNew(),n)a[i]||(a[i]=n[i]);a.elementView.style||(a.elementView.style=JSON.stringify({}))}),i.childActivities||(i.childActivities=["java.util.ArrayList",[]]),i.childActivities[1]||(i.childActivities[1]=[]),i.sequenceFlows||(i.sequenceFlows=[]),i.messageFlows||(i.messageFlows=[]);var o=function(e){if(e){if(e._type&&"org.uengine.kernel.ProcessDefinition"!=e._type){for(var i in t=a.getComponentByClassName(e._type),n=t.computed.createNew(),n)e[i]||(e[i]=n[i]);e.elementView.style||(e.elementView.style=JSON.stringify({}))}e.sequenceFlows&&e.sequenceFlows.length&&$.each(e.sequenceFlows,function(e,i){for(var o in t=a.getComponentByName("bpmn-relation"),n=t.computed.createNew(),n)i[o]||(i[o]=n[o]);i.relationView.style||(i.relationView.style=JSON.stringify({}))}),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&$.each(e.childActivities[1],function(e,t){o(t)})}};return o(i),i.processVariableDescriptors||(i.processVariableDescriptors=[]),i},onRemoveShape:function(e){console.log("remove component by user action",e.id),this.removeComponentByOpenGraphComponentId(e.id)},onDivideLane:function(e){var t=this,n=e.shape.geom.getBoundary(),a=t.getComponentByName("bpmn-role"),i=a.computed.createNew(n.getCentroid().x,n.getCentroid().y,n.getWidth(),n.getHeight());i.elementView.id=e.id,i.elementView.parent=t.canvas.getParent(e).id,t.data.definition.roles.push(i)},onConnectShape:function(e,t,n){var a,i,o=this,r=!1;if(e.shape?a=e:(r=!0,a=e.element,i=this.getActAndRelByOpengraphId(a.id)),a&&t&&n){var l="["+a.shape.geom.vertices.toString()+"]",s={component:"bpmn-relation",from:t.id,to:n.id,vertices:l};r?(o.canvas.removeShape(a,!0),this.removeComponentByOpenGraphComponentId(a.id),this.addComponenet(s,null,JSON.parse(JSON.stringify(i)))):(o.canvas.removeShape(a,!0),this.addComponenet(s))}},onUserAction:function(){this.preventEvent?(this.preventEvent=!1,console.log("** onUserAction fired, but preventEvent!!")):(console.log("** onUserAction fired."),this.enableHistoryAdd=!0,this.data.trigger=JSON.parse(JSON.stringify(this.data.trigger)))},bpmnReady:function(e){this.canvas=e.canvas,this.canvas._CONFIG.FAST_LOADING=!0,console.log("this.canvas._CONFIG.FAST_LOADING"),this.$emit("bpmnReady",e)},addComponenet:function(e,t,n){this.enableHistoryAdd=!0;var a=this,i={};if("bpmn-relation"==e.component){e.from,e.to;var o=this.getParentActByOpengraphId(e.from),r=this.getParentActByOpengraphId(e.to),l=this.getActAndRelByOpengraphId(e.from),s=this.getActAndRelByOpengraphId(e.to),c=this.getWherePoolAmIByTracingTag(l.tracingTag),u=this.getWherePoolAmIByTracingTag(s.tracingTag);console.log({formRole:c,toRole:u});var d=c==u||null==u?"bpmn-relation":"bpmn-message-flow",m=a.getComponentByName(d);if(i=m.default.computed.createNew(e.from,e.to,e.vertices),n)for(var p in n)"sourceRef"!=p&&"targetRef"!=p&&"relationView"!=p&&(i[p]=n[p]);var v=!0;o&&!r&&(v=!1),!o&&r&&(v=!1),o&&r&&o.tracingTag!=r.tracingTag&&(v=!1),v?o&&r&&o.tracingTag==r.tracingTag?this.addChild(i,o,!0):this.addChild(i,null,!0):(a.$root.$children[0]&&a.$root.$children[0].snackbar&&a.$root.$children[0].error("동일한 서브프로세스에 위치한 액티비티가 아닐 경우 연결할 수 없습니다."),console.log("Can not create relation between other subprocess.",e.from,e.to))}else if("bpmn-role"==e.component){m=a.getComponentByName("bpmn-role");i=m.default.computed.createNew(e.x,e.y,e.width,e.height),a.data.definition.roles.push(i)}else{m=a.getComponentByName(e.component);t||(t=a.createNewTracingTag()),console.log("newTracingTag",t),i=m.default.computed.createNew(t,e.x,e.y,e.width,e.height);var h=new OG.geometry.Envelope([e.x-e.width/2,e.y-e.height/2],e.width,e.height),f=a.canvas.getRenderer().getFrontForBoundary(h);if(f){var g=this.getActAndRelByOpengraphId(f.id);this.addChild(i,g)}else this.addChild(i,null)}},getComponentByClassName:function(e){var t;return $.each(window.Vue.bpmnComponents,function(n,a){a.default.computed&&a.default.computed.className&&a.default.computed.className()==e&&(t=a.default)}),t},getComponentByName:function(e){var t;return $.each(window.Vue.bpmnComponents,function(n,a){a.default.name==e&&(t=a)}),t},undo:function(){this.canUndo&&(this.canvas._CONFIG.FAST_LOADING=!0,this.historyIndex-=1,this.undoing=!0,this.undoed=!0,this.data.definition=this.history[this.historyIndex],console.log("length: "+this.history.length," historyIndex : ",this.historyIndex,this.data.definition),this.$nextTick(function(){this.canvas._CONFIG.FAST_LOADING=!1,this.canvas.updateSlider()}))},redo:function(){this.canRedo&&(this.canvas._CONFIG.FAST_LOADING=!0,this.historyIndex+=1,this.undoing=!0,this.undoed=!0,this.data.definition=this.history[this.historyIndex],console.log("length: "+this.history.length," historyIndex : ",this.historyIndex,this.data.definition),this.$nextTick(function(){this.canvas._CONFIG.FAST_LOADING=!1,this.canvas.updateSlider()}))},createNewTracingTag:function(e){var t=this,n=0,a=function(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))},i=(t=this,function(e){e&&(a(e.tracingTag)&&e.tracingTag>n&&(n=parseInt(e.tracingTag)),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&$.each(e.childActivities[1],function(e,t){i(t)}))});return t.history&&t.history.length&&$.each(t.history,function(e,t){i(t)}),e&&i(e),n+1+""},checkExistTracingTag:function(e){var t=this,n=!1,a=function(t){t&&(t&&t.tracingTag==e&&(n=!0),t.childActivities&&t.childActivities[1]&&t.childActivities[1].length&&$.each(t.childActivities[1],function(e,t){a(t)}))};return t.data.definition&&a(t.data.definition),n},removeComponentByOpenGraphComponentId:function(e){var t=this,n=function(t){t&&(t.messageFlows&&t.messageFlows.length&&$.each(t.messageFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(console.log("** remove sequenceFlow",e),t.messageFlows[n]=void 0)}),t.sequenceFlows&&t.sequenceFlows.length&&$.each(t.sequenceFlows,function(n,a){a&&a.sourceRef+"-"+a.targetRef==e&&(console.log("** remove sequenceFlow",e),t.sequenceFlows[n]=void 0)}),t.childActivities&&t.childActivities[1]&&t.childActivities[1].length&&$.each(t.childActivities[1],function(a,i){console.log("toRemove",i,e),i&&i.elementView&&i.elementView.id==e?t.childActivities[1][a]=void 0:n(i)}))};$.each(t.data.definition.roles,function(n,a){a&&a.elementView&&a.elementView.id==e&&(console.log("** remove role",e),t.data.definition.roles[n]=void 0)}),n(t.data.definition)},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),d=n("b0af"),m=n("99d9"),p=n("a523"),v=n("169a"),h=n("4bd4"),f=n("b73d"),g=n("8654"),y=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:p["a"],VDialog:v["a"],VForm:h["a"],VSwitch:f["a"],VTextField:g["a"]})},d358:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-panel"},[n("v-layout",[n("v-row",[e.id&&e.id.indexOf("@")>-1?n("v-layout",[e.isProduction?n("div",[n("v-btn",{staticClass:"md-primary"},[e._v("this is production (rev. "+e._s(e.id.substring(e.id.indexOf("@")+1))+")")])],1):n("v-btn",{staticClass:"md-raised md-accent",on:{click:e.markProduction}},[e._v("\n            Mark Production (rev\n            "+e._s(e.id.substring(e.id.indexOf("@")+1))+")\n          ")])],1):e._e(),e.versions?n("v-layout",[n("v-btn",{staticClass:"md-primary",on:{click:e.loadVersions}},[e._v("latest version")])],1):e._e(),e.monitor?n("v-list",{staticClass:"tree-list"},[n("bpmn-tree-list",{attrs:{trees:e.trees}})],1):e._e()],1),n("v-layout",{nativeOn:{contextmenu:function(t){return e.openMenu(t)},mousedown:function(t){return e.closeMenu(t)}}},[e.definition?n("bpmn-vue",{ref:"bpmn-vue",style:e.cursorStyle,attrs:{definition:e.definition,monitor:e.monitor,backend:e.backend,dragPageMovable:e.dragPageMovable,loaded:e.loaded},on:{"update:definition":function(t){e.definition=t},bpmnReady:e.bindEvents,"update:loaded":function(t){e.loaded=t}}}):e._e(),e.monitor?e._e():n("v-card",{staticClass:"tools",staticStyle:{top:"100px"}},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("span",e._g({staticClass:"bpmn-icon-hand-tool hands",style:e.handsStyle,attrs:{_width:"30",_height:"30"},on:{click:e.changeMultiple}},a))]}}],null,!1,960570545)},[n("span",[e._v("Drag On/Off")])]),e._l(e.dragItems,function(t){return n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({staticClass:"icons draggable",class:t.icon,attrs:{align:"center",_component:t.component,_width:t.width,_height:t.height}},i))]}}],null,!1,13370671)},[n("span",[e._v(e._s(t.label))])])})],2),e.monitor?e._e():n("v-card",{staticClass:"tools",staticStyle:{top:"600px"}},[n("v-row",[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"icons fa fa-undo",staticStyle:{"margin-left":"7px"},attrs:{small:""},nativeOn:{click:function(t){return e.undo(t)}}},a),[n("v-icon",[e._v("mdi-undo")])],1)]}}],null,!1,708252558)},[n("span",[e._v("Undo")])]),n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"icons fa fa-repeat",staticStyle:{"margin-left":"7px"},attrs:{small:""},nativeOn:{click:function(t){return e.redo(t)}}},a),[n("v-icon",[e._v("mdi-redo")])],1)]}}],null,!1,804358601)},[n("span",[e._v("Redo")])])],1)],1),n("v-layout",[n("v-layout",[e.monitor?e._e():n("v-row",[n("v-text-field",{attrs:{type:"text",label:"Process Name"},model:{value:e.definitionName,callback:function(t){e.definitionName=t},expression:"definitionName"}}),n("v-btn",{staticClass:"md-primary",staticStyle:{"margin-top":"10px"},on:{click:e.openDefinitionSettings}},[n("v-icon",[e._v("settings")]),e._v("\n                      Settings\n                  ")],1),n("v-btn",{staticClass:"md-primary",staticStyle:{"margin-top":"10px"},attrs:{id:"processVariables"},on:{click:e.openProcessVariables}},[n("v-icon",[e._v("sort_by_alpha")]),e._v("\n                      Vars\n                  ")],1)],1),e.versions?n("v-row",[e._v("\n                  Revision\n                  "),e._l(e.versions.slice().reverse(),function(t){return n("v-select",{attrs:{value:t},on:{change:e.changeVersion},model:{value:e.selectedVersion,callback:function(t){e.selectedVersion=t},expression:"selectedVersion"}},[e.productionVersionId==t.versionId?n("v-chip",[e._v("production")]):e._e()],1)})],2):e._e(),!e.monitor&&e.definition?n("v-row",{staticStyle:{"max-width":"100px","margin-left":"15px"}},[n("v-select",{attrs:{items:e.languageItems,"item-value":"value","item-text":"title",label:"Language"},on:{change:e.changeLocale},model:{value:e.definition._selectedLocale,callback:function(t){e.$set(e.definition,"_selectedLocale",t)},expression:"definition._selectedLocale"}})],1):e._e()],1),e.monitor?e._e():n("v-layout",{staticStyle:{"margin-left":"30px","margin-top":"10px"}},[e.monitor?e._e():n("v-btn",{staticClass:"md-fab md-primary md-mini",on:{click:e.initiateProcess}},[n("v-icon",[e._v("play_arrow")])],1),e.monitor?e._e():n("v-btn",{staticClass:"md-fab md-warn md-mini",on:{click:e.save}},[e.id&&-1==e.id.indexOf("@")?n("v-icon",[e._v("save")]):n("v-icon",[e._v("history")])],1)],1),e.monitor?n("v-layout",[n("v-container",[e._v("\n              Instance Name\n              "),n("v-text-field",{attrs:{type:"text",readonly:""},model:{value:e.instanceName,callback:function(t){e.instanceName=t},expression:"instanceName"}})],1)],1):e._e(),e.monitor?n("v-layout",[n("v-btn",{attrs:{id:"instanceVariables"},on:{click:e.openInstanceVariables}},[e._v("Variables")]),e.definition?n("bpmn-instance-variables",{ref:"instanceVariables",attrs:{id:e.instanceId,definition:e.definition}}):e._e(),n("v-btn",{attrs:{id:"userPicker"},on:{click:e.openUserPicker}},[e._v("Role Mappings")]),e.definition?n("user-picker",{ref:"userPicker",staticStyle:{"min-width":"70%"},attrs:{id:e.instanceId,roles:e.definition.roles}}):e._e()],1):e._e()],1)],1)],1),e._m(0),n("canvas",{ref:"image-gen",staticStyle:{display:"none"}})],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"custom-menu"},[n("li",{attrs:{"data-action":"backToHere"}},[e._v("Back To Here")])])}],o={name:"bpmn-process-designer",props:{monitor:Boolean,backend:Object,id:String,value:{default:function(){return{_type:"org.uengine.kernel.ProcessDefinition",name:{},childActivities:["java.util.ArrayList",[]],sequenceFlows:[],_selectedLocale:"ko",_changedByLocaleSelector:!1}},type:Object},instanceId:String,rootInstanceId:String},data(){return{languageItems:[{title:"Korea",value:"ko"},{title:"English",value:"en"}],loaded:!1,copyActivity:[],beforeTracing:[],afterTracing:[],contextMenuActivated:!1,definition:null,definitionName:null,instanceName:null,processVariables:[],dialog:!1,items:[],active:!1,mode:"editor",shapeMenu:!1,dragPageMovable:!1,cursorStyle:null,handsStyle:null,versions:null,selectedVersion:null,isProduction:!1,productionVersionId:null,dragItems:[{icon:"bpmn-icon-start-event-none",component:"bpmn-start-event",label:"Start Event",width:"30",height:"30"},{icon:"bpmn-icon-intermediate-event-none",component:"bpmn-intermediate-event",label:"Intermediate Event",width:"30",height:"30"},{icon:"bpmn-icon-end-event-none",component:"bpmn-end-event",label:"End Event",width:"30",height:"30"},{icon:"bpmn-icon-gateway-xor",component:"bpmn-exclusive-gateway",label:"Gateway",width:"40",height:"40"},{icon:"bpmn-icon-task",component:"bpmn-task",label:"Task",width:"100",height:"70"},{icon:"bpmn-icon-subprocess-expanded",component:"bpmn-subprocess",label:"subprocess",width:"200",height:"150"},{icon:"bpmn-icon-participant",component:"bpmn-role",label:"Role Lane",width:"400",height:"200"}],trees:[],bthTracingTag:""}},computed:{},mounted(){$(document).keydown(e=>{67==e.keyCode&&(e.metaKey||e.ctrlKey)}),$(document).keydown(e=>{86==e.keyCode&&(e.ctrlKey||e.metaKey)}),$(document).keydown(e=>{46==e.keyCode||e.keyCode});var e=this;e.setMode(),$(".custom-menu li").click(function(){switch($(this).attr("data-action")){case"backToHere":e.onBackToHere();break}$(".custom-menu").hide(0)})},watch:{instanceId:function(e){this.setMode()}},methods:{changeMultiple:function(){0==this.dragPageMovable&&0==this.active?(this.dragPageMovable=!0,this.active=!0,this.cursorStyle='cursor: url("/static/image/symbol/hands.png"), auto;',this.handsStyle=" color: #ffc124;"):1==this.dragPageMovable&&1==this.active&&(this.dragPageMovable=!1,this.active=!1,this.cursorStyle=null,this.handsStyle=null)},openProcessVariables(){this.$refs["bpmn-vue"].openProcessVariables()},openDefinitionSettings(){this.$refs["bpmn-vue"].openDefinitionSettings()},bindEvents:function(e){var t=this,n=t.$el,a=$(e.container);a&&a.length&&($(n).find(".draggable").draggable({start:function(){a.data("DRAG_SHAPE",{component:$(this).attr("_component"),width:$(this).attr("_width"),height:$(this).attr("_height")})},helper:"clone",appendTo:a}),a.droppable({drop:function(n,i){var o=a.data("DRAG_SHAPE");if(o){var r=n.pageX-a.offset().left+a[0].scrollLeft,l=n.pageY-a.offset().top+a[0].scrollTop;r/=e.scale,l/=e.scale,o={component:o.component,x:r,y:l,width:parseInt(o.width,10),height:parseInt(o.height,10),label:""},console.log(o),t.$refs["bpmn-vue"].addComponenet(o)}a.removeData("DRAG_SHAPE")}}))},copy:function(){var e=this;e.copyActivity=[],e.copySquenceFlow=[],this.definition.childActivities[1].forEach(function(t){t&&t._selected&&(e.copyActivity.push(t),e.beforeTracing=e.copyActivity.map(function(e){var t=e.tracingTag;return t}))}),e.copyActivity.length>0?e.$root.$children[0].success("Copied."):e.$root.$children[0].success("Not Selected")},deleteActivity:function(){for(var e=this,t=[],n=e.$children[0].$children[1].$children[3],a=!1,i=0;i<n.$children[0].$children.length;i++)1==n.$children[0].$children[i].drawer&&(a=!0);if(0==a){console.log("Delete Activity");for(var o=0;o<e.definition.childActivities[1].length;o++)null!=e.definition.childActivities[1][o]&&1==e.definition.childActivities[1][o]._selected&&(console.log(e.definition.childActivities[1][o]),t.push(e.definition.childActivities[1][o].tracingTag),e.definition.childActivities[1][o]=null);for(var r=0;r<e.definition.sequenceFlows.length;r++)if(e.definition.sequenceFlows[r])for(var l=0;l<t.length;l++)if(e.definition.sequenceFlows[r].sourceRef==t[l])for(var s=0;s<t.length;s++)e.definition.sequenceFlows[r].targetRef==t[s]&&(e.definition.sequenceFlows[r]=null)}for(s=0;s<e.definition.sequenceFlows.length;s++)null!=e.definition.sequenceFlows[s]&&1==e.definition.sequenceFlows[s].selected&&(e.definition.sequenceFlows[s]=null);for(l=0;l<e.definition.messageFlows.length;l++)null!=e.definition.messageFlows[l]&&1==e.definition.messageFlows[l].selected&&(e.definition.messageFlows[l]=null);var c=e.definition.sequenceFlows;e.definition.sequenceFlows=null,e.definition.sequenceFlows=c},paste:function(){for(var e=this,t=e.$refs["bpmn-vue"],n=!1,a=0;a<t.$children[0].$children.length;a++)1==t.$children[0].$children[a].drawer&&(n=!0);0==n&&(e.afterTracing=[],e.copyActivity.forEach(function(n){var a=JSON.parse(JSON.stringify(n)),i=parseInt(n.elementView.x+20),o=parseInt(n.elementView.y+20);a.tracingTag=t.createNewTracingTag(e.definition),a._selected=!1,a.elementView.x=i,a.elementView.y=o,a.elementView.id=a.tracingTag,e.afterTracing.push(a.tracingTag),e.definition.childActivities[1].push(a)}),e.definition.sequenceFlows.forEach(function(t,n,a){if(t)for(var i=JSON.parse(JSON.stringify(t)),o=0;o<e.beforeTracing.length;o++)if(i.sourceRef==e.beforeTracing[o])for(var r=0;r<e.beforeTracing.length;r++)i.targetRef==e.beforeTracing[r]&&(i.sourceRef=e.afterTracing[o],i.targetRef=e.afterTracing[r],i.relationView.value="",e.definition.sequenceFlows.push(i))}))},undo:function(){this.$refs["bpmn-vue"].undo()},redo:function(){this.$refs["bpmn-vue"].redo()},setMode:function(){var e=this;e.loaded=!1,e.definition=null,e.$nextTick(function(){e.monitor?e.getInstance():e.getDefinition()})},getInstance:function(){var e=this,t={};e.backend.$bind("instance/"+e.instanceId,t),t.$load().then(function(t){e.instanceName=t.name,t.definition.$load().then(function(t){e.definitionName=t.name,t.raw.$load().then(function(t){var n=t.definition;e.loadStatus(n),e.treeStructure()})})})},loadVersions:function(){var e=this,t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(t){e.productionVersionId=t.prodVerId,t.versions&&t.versions.$load().then(function(t){t&&t.length>0&&(e.versions=t,e.selectedVersion=t[t.length-1])})})},changeVersion:function(){window.open("#/definition/"+this.id+"@"+this.selectedVersion.versionId,"_blank")},markProduction:function(){var e=this,t={};e.backend.$bind("version/"+e.id.substring(e.id.indexOf("@")+1),t),t.$load().then(function(){t.makeProduction.$create().then(function(){e.$root.$children[0].success("설정되었습니다."),e.isProduction=!0},function(){e.$root.$children[0].error("저장할 수 없습니다.")})})},treeStructure:function(){var e=this,t={};e.backend.$bind("instances/search/findChild?instId="+e.rootInstanceId,t);var n=[];t.$load().then(function(t){for(var a in t)if(t[a]instanceof Object){var i=t[a].$bind.self,o=i.substring(i.lastIndexOf("/")+1,i.length);n[a]={name:t[a].defName,id:parseInt(o),rootInstId:t[a].rootInstId,mainInstId:t[a].mainInstId,children:null}}e.trees=e.listToTree(n)})},listToTree:function(e){var t,n,a={},i=[];for(n=0;n<e.length;n+=1)a[e[n].id]=n,e[n].children=[];for(n=0;n<e.length;n+=1)t=e[n],0!==n?e[a[t.mainInstId]].children.push(t):i.push(t);return i},loadStatus:function(e){var t=this;t.$root.codi("instance{/id}/variables").get({id:t.instanceId}).then(function(n){for(var a in n.data){var i=a.split(":");if(i&&i.length>1){var o=i[0],r=i[1],l=t.getActivity(o,e);l&&(l._instanceInfo||(l._instanceInfo={}),l._instanceInfo[r]=n.data[a],"_status"==r&&(l.status=n.data[a]))}}t.definition=e,console.log({definitionFilledWithInstanceInfo:t.definition})})},getActivity:function(e,t){var n=this;for(var a in t||(t=n.definition),t.childActivities[1])if(t.childActivities[1][a]["tracingTag"]==e)return t.childActivities[1][a]},updateElementStatus:function(e,t){},getDefinition:function(){var e=this,t=JSON.parse(JSON.stringify(e.value));t._selectedLocale="ko",t._changedByLocaleSelector=!1,e.definition=t,e.definitionName=e.definition.name.text,e.changeLocale()},save:function(e){var t=this,n=JSON.parse(JSON.stringify(t.definition));if(t.definitionName||(t.definitionName=prompt("Specify definition name"),t.definitionName)){t.id||(t.id=t.definitionName),n.name.text=t.definitionName;var a=function(e){return e.filter(function(e){return!!e})};n.roles=a(n.roles);var i=function(e){e&&(e.sequenceFlows&&e.sequenceFlows.length&&(e.sequenceFlows=a(e.sequenceFlows)),e.messageFlows&&e.messageFlows.length&&(e.messageFlows=a(e.messageFlows)),e.childActivities&&e.childActivities[1]&&e.childActivities[1].length&&(e.childActivities[1]=a(e.childActivities[1]),$.each(e.childActivities[1],function(e,n){"org.uengine.kernel.HumanActivity"==n._type&&(n.role.name=t.$refs["bpmn-vue"].getWhereRoleAmIByTracingTag(n.tracingTag),console.log("HumanActivity "+n.name.text+" saved role as "+n.role.name)),i(n)})))};i(n,null),n.shortDescription=this.$refs["bpmn-vue"].defintionSettings.shortDescription;var o={};t.backend.$bind("definition/raw/"+t.id+".json",o),o.definition=n,o.$save().then(function(n){t.$root.$children[0].success("저장되었습니다."),e&&"function"===typeof e&&e(n)},function(e){t.$root.$children[0].error("저장할 수 없습니다.")});var r=t.$refs["bpmn-vue"].canvas._RENDERER.getRootElement(),l=(new XMLSerializer).serializeToString(r),s=t.$refs["image-gen"];c(s,l,function(){console.log(s.toDataURL()),localStorage["svg-"+t.id]=s.toDataURL()})}function c(e,t,n){var a=e.getContext("2d"),i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),o=self.URL||self.webkitURL||self,r=o.createObjectURL(i),l=new Image;l.onload=function(){e.width=600,e.height=300;try{a.drawImage(l,0,0,1e3,500,0,0,600,300),o.revokeObjectURL(r),n(this),$(l).remove()}catch(t){$(l).remove()}},l.src=r}},initiateProcess:function(){var e=this;this.save(function(){var t={};e.backend.$bind("definition/"+e.id+".json",t),t.$load().then(function(e){e.instantiation.$create(null,{simulation:!0}).then(function(e){window.open("#/instance/"+e.instanceId+"/"+e.instanceId,"_blank")})})})},openInstanceVariables(e){this.$refs["instanceVariables"].openInstanceVariables()},openUserPicker(e){this.$refs["userPicker"].openUserPicker()},openMenu(e){var t=this;t.monitor&&t.instanceOpenMenu(e)},instanceOpenMenu(e){e.preventDefault();var t=this,n=t.definition.childActivities[1],a="",i="";for(var o in n)n[o].tracingTag==e.toElement.parentNode.id&&(a=n[o]._type,i=n[o].status,t.bthTracingTag=n[o].tracingTag,n[o].faultMessage&&n[o]._faultMessage);a=a.substring(a.lastIndexOf(".")+1,a.length),"Task"!=a&&"SendTask"!=a&&"ReceiveTask"!=a&&"UserTask"!=a&&"ManualTask"!=a&&"BusinessTask"!=a&&"ServiceTask"!=a&&"ScriptTask"!=a&&"HumanActivity"!=a&&"DefaultActivity"!=a||"Completed"==i&&$(".custom-menu").finish().show(0).css({top:e.offsetY+"px",left:e.offsetX+"px"})},closeMenu(){!$(event.target).parents(".custom-menu").length>0&&$(".custom-menu").hide(0)},onBackToHere(){var e=this,t="instance/"+e.id+"/activity/"+e.bthTracingTag+"/backToHere",n={};e.backend.$bind(t,n),n.$create().then(function(){e.$root.$children[0].success("작업 내역을 선택한 위치로 되돌렸습니다."),setInterval(function(){e.$router.go(e.$router.currentRoute)},1500)})},changeLocale(){var e=this;e.definition._changedByLocaleSelector=!0,e.definition.childActivities&&e.definition.childActivities[1].forEach(function(t){t&&t.name&&t.name.localedTexts&&t.name.localedTexts[e.definition._selectedLocale]&&(t.name.text=t.name.localedTexts[e.definition._selectedLocale])})}}},r=o,l=(n("255a"),n("2877")),s=n("6544"),c=n.n(s),u=n("8336"),d=n("b0af"),m=n("cc20"),p=n("a523"),v=n("132d"),h=n("a722"),f=n("8860"),g=n("0fd9"),y=n("b974"),b=n("8654"),_=n("3a2f"),w=Object(l["a"])(r,a,i,!1,null,"e25cfa52",null);t["a"]=w.exports;c()(w,{VBtn:u["a"],VCard:d["a"],VChip:m["a"],VContainer:p["a"],VIcon:v["a"],VLayout:h["a"],VList:f["a"],VRow:g["a"],VSelect:y["a"],VTextField:b["a"],VTooltip:_["a"]})},d371:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticStyle:{"max-width":"65%"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("codemirror",{ref:"myCm",attrs:{options:{theme:"darcula",lineNumbers:!0,lineWrapping:!0},value:e.yaml_text},on:{focus:function(t){return e.onYamlFocus()}},model:{value:e.yaml_text,callback:function(t){e.yaml_text=t},expression:"yaml_text"}}),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[0==e.importFile?n("v-btn",{attrs:{color:"success",block:""},on:{click:function(t){e.importFile=!0}}},[e._v("\n                                LocalFile\n                            ")]):e._e(),1==e.importFile?n("text-reader",{attrs:{fileName:e.fileName,plainText:e.yaml_text,importType:"yaml"},on:{"update:fileName":function(t){e.fileName=t},"update:file-name":function(t){e.fileName=t},"update:plainText":function(t){e.yaml_text=t},"update:plain-text":function(t){e.yaml_text=t},load:function(t){e.yaml_text=t}}}):e._e()],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"success",block:""},on:{click:e.download}},[e._v("Download")])],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.$EventBus.$emit("deployStart")}}},[e._v("Deploy\n                            ")])],1)],1)],1)],1)],1),n("v-flex",{staticStyle:{width:"35%"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._l(e.ui_list,function(t){return["string"==t.ui_type&&"add"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"list"==t.ui_type&&"add"==e.status?n("v-autocomplete",{attrs:{items:e.depList,label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"==t.ui_type&&"edit"==e.status&&t.ui_name.includes("name")?n("v-text-field",{attrs:{label:t.ui_name,readonly:""},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e(),"string"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?"number"==t.ui_type?n("v-text-field",{attrs:{type:"number",label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):e._e():n("v-text-field",{attrs:{label:t.ui_name},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}),"select"!=t.ui_type||"edit"==e.status||t.ui_name.includes("name")?e._e():n("v-select",{attrs:{items:e.items,label:t.ui_name,label:"Service Type"},on:{focus:function(t){return e.onUiFocus()}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})]})],2)],1)],1)],1)],1)},i=[],o=n("6eb3"),r=n("651e"),l=n.n(r),s=n("8241"),c=n.n(s),u=n("8f94"),d=(n("ced0"),n("7ba3"),n("21a6")),m=n("21a6"),p={name:"EditYaml",props:["plainText","types","status","namespace"],data(){return{fab:!1,temp_text:"",ui_list:[],yaml_text:"",json_data:"",cursor_pos:"",channel:"yaml",auto_edit:!0,importFile:!1,items:["ClusterIP","NodePort","LoadBalancer","ExternalName"],depList:[]}},created:function(){var e=this;if(e.$EventBus.$on("postYAML",function(){e.$emit("update:plainText",e.yaml_text)}),"add"==e.status)if("pod"==e.types)e.createPod();else if("service"==e.types){e.createService();var t=e.namespace;"All"==t&&(t="default"),e.$http.get(`${API_HOST}/kube/v1/`+e.types+"/namespaces/"+t).then(t=>{t.data.forEach(function(t){e.depList.push(t.name)})})}else"deployment"==e.types&&e.createDeployment()},beforeDestroy:function(){this.$EventBus.$off("postYAML")},computed:{codemirror:function(){return this.$refs.myCm.codemirror},activeFab(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}},fileName:{get:function(){var e,t=this;return t.ui_list.some(function(t){if(t.ui_name.includes("name"))return e=t.val}),e},set:function(e){var t=this;t.ui_list.some(function(n){if(n.ui_name.includes("name"))return n.val=e,t.uiToJson()})}}},components:{TextReader:o["a"],yaml:l.a,json2yaml:c.a,codemirror:u["codemirror"],saveAs:d["saveAs"]},methods:{createPod(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,name","spec,containers,0,name"],ui_name:"pod name",ui_type:"string",val:"name"},{key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:"0"},{key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:"image"}],e.yaml_text="apiVersion: v1\nkind: Pod\nmetadata:\n  name: \n  labels:\n    name: \nspec:\n  containers:\n  - name: \n    image: \n    ports:\n    - containerPort: 80"},download(){var e=this,t=e.yaml_text,n=e.fileName+".yaml",a=new File([t],n,{type:"text/yaml;charset=utf-8"});m.saveAs(a)},onYamlFocus(){let e=this;e.channel="yaml"},onUiFocus(){let e=this;e.channel="ui"},modifyJson(e,t,n){let a=this;if(t.length<=0)e=n;else{let i=t.splice(0,1);null==e[i]&&(e[i]={}),e[i]=a.modifyJson(e[i],t,n)}return e},findJson(e,t){let n=this,a=t.splice(0,1);return t.length<=0?e[a]:(null==e[a]&&(e[a]={}),n.findJson(e[a],t))},uiToJson(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,r=i.key_lists;for(let n in r){let a=r[n].split(",");t=e.modifyJson(t,a,o)}}e.json_data=t},getArrVal(e,t){for(let n in e)if(e[n]!=t)return e[n];return t},compareArrVals(e){let t=e.splice(0,1);for(let n in e)if(e[n]!=t)return!1;return!0},jsonToUi(){let e=this,t=JSON.parse(JSON.stringify(e.json_data)),n=e.ui_list;for(let a in n){let i=n[a],o=i.val,r=i.key_lists,l=[];for(let n in r){let a=r[n].split(",");l.push(e.findJson(t,a))}let s=e.getArrVal(l,o);if(e.ui_list[a].val=s,!e.compareArrVals(l)){for(let n in r){let a=r[n].split(",");t=e.modifyJson(t,a,s)}e.json_data=t}}},yamlFilter(e){let t=e.split("\n");t.splice(0,1);for(let n in t)t[n]=t[n].substring(2,t[n].length);return e=t.join("\n"),e=e.replace(/ null/g," "),e},createDeployment(){let e=this;e.ui_list=[{key_lists:[,"metadata,name","metadata,labels,app","spec,selector,matchLabels,app","spec,template,metadata,labels,app","spec,template,spec,containers,0,name"],ui_name:"deployment name",ui_type:"string",val:"name"},{key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:"image_name"},{key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:"1"},{key_lists:["spec,template,spec,containers,0,ports,0,containerPort"],ui_name:"port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  selector:\n    matchLabels:\n      app:  \n  replicas: 1\n  template:\n    metadata:\n      labels: \n          app: \n    spec:\n      containers:\n        - name: \n          image: \n          ports: \n            - containerPort: 80"},createService(){let e=this;e.ui_list=[{key_lists:["metadata,name","metadata,labels,app"],ui_name:"service name",ui_type:"string",val:"name"},{key_lists:["spec,type"],ui_name:"service type",ui_type:"select",val:""},{key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"list",val:"dep"},{key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:"80"},{key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"number",val:"80"}],e.yaml_text="apiVersion: v1\nkind: Service\nmetadata:\n  name: \n  labels:\n    app: \nspec:\n  type:\n  ports:\n    - port: 80\n      targetPort: 80\n  selector:\n    app: "},newLoad(e){let t,n=this;if("object"==e)t=e;else try{t=l.a.load(e)}catch(o){return}let a=t["kind"],i=[{key_lists:["metadata,name"],ui_name:a+" main name",ui_type:"string",val:n.findJson(t,"metadata,name".split(","))}];"service"==a.toLowerCase()?(i.push({key_lists:["spec,selector,app"],ui_name:"deployment name",ui_type:"string",val:n.findJson(t,"spec,selector,app".split(","))}),i.push({key_lists:["spec,ports,0,port"],ui_name:"port",ui_type:"number",val:n.findJson(t,"spec,ports,0,port".split(","))}),i.push({key_lists:["spec,ports,0,targetPort"],ui_name:"target port",ui_type:"string",val:n.findJson(t,"spec,ports,0,targetPort".split(","))}),i.push({key_lists:["spec,type"],ui_name:"type",ui_type:"string",val:n.findJson(t,"spec,type".split(","))})):"deployment"==a.toLowerCase()?(i.push({key_lists:["spec,template,spec,containers,0,image"],ui_name:"image",ui_type:"string",val:n.findJson(t,"spec,template,spec,containers,0,image".split(","))}),i.push({key_lists:["spec,replicas"],ui_name:"replicas",ui_type:"number",val:n.findJson(t,"spec,replicas".split(","))})):"pod"==a.toLowerCase()&&(i.push({key_lists:["spec,containers,0,ports,0,containerPort"],ui_name:"pod port",ui_type:"number",val:n.findJson(t,"spec,containers,0,ports,0,containerPort".split(","))}),i.push({key_lists:["spec,containers,0,image"],ui_name:"pod image",ui_type:"string",val:n.findJson(t,"spec,containers,0,image".split(","))})),n.ui_list=i},templateLoad(){var e=this;"pod"==e.types?e.createPod():"deployment"==e.types?e.createDeployment():"service"==e.types&&e.createService()}},watch:{plainText:{immediate:!0,handler(e,t){var n=this;""!=e&&(n.newLoad(e),void 0==t&&(n.yaml_text=n.yamlFilter(e)),n.json_data=l.a.load(e))}},yaml_text:{handler(e){if(""!=e){var t=this;if(t.auto_edit)try{t.yaml_text!=t.temp_text&&(t.temp_text=t.yaml_text,t.cursor_pos=t.codemirror.getCursor("start"),t.json_data=l.a.load(t.yaml_text)),t.jsonToUi(),this.$nextTick(function(){t.codemirror.setCursor(t.cursor_pos),t.codemirror.refresh()})}catch(n){}}}},ui_list:{handler:function(){let e=this;"ui"==e.channel&&e.uiToJson();for(let n in e.ui_list){let t=e.ui_list[n].val;if("string"==typeof t){let a=t.match(/^0[0-9]+/);a&&(e.ui_list[n].val=parseInt(a))}}let t=c.a.stringify(JSON.parse(JSON.stringify(e.json_data)));e.yaml_text=e.yamlFilter(t)},deep:!0}}},v=p,h=(n("3758"),n("2877")),f=n("6544"),g=n.n(f),y=n("c6a6"),b=n("8336"),_=n("b0af"),w=n("99d9"),x=n("a523"),k=n("0e8f"),C=n("a722"),S=n("b974"),E=n("8654"),$=Object(h["a"])(v,a,i,!1,null,null,null);t["a"]=$.exports;g()($,{VAutocomplete:y["a"],VBtn:b["a"],VCard:_["a"],VCardText:w["b"],VContainer:x["a"],VFlex:k["a"],VLayout:C["a"],VSelect:S["a"],VTextField:E["a"]})},d402:function(e,t,n){"use strict";var a=n("a329"),i=n.n(a);i.a},d42e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{wrap:""}},[n("v-navigation-drawer",{style:{width:800},attrs:{absolute:"",permanent:"",right:""}},[n("v-list",{staticClass:"pa-1"},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.img}})]),n("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.value._type)+"\n                ")]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)]}}])},[n("span",[e._v(e._s(e.descriptionText))])])],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:"",flat:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticStyle:{width:"500px"},attrs:{grow:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("yaml-editor",{model:{value:e.value.object,callback:function(t){e.$set(e.value,"object",t)},expression:"value.object"}})],1)],1)],1),n("v-flex",{staticStyle:{width:"300px"},attrs:{shrink:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.value.object.metadata.name,callback:function(t){e.$set(e.value.object.metadata,"name",t)},expression:"value.object.metadata.name"}}),n("v-text-field",{attrs:{label:"Image"},model:{value:e.value.object.spec.template.spec.containers[0].image,callback:function(t){e.$set(e.value.object.spec.template.spec.containers[0],"image",t)},expression:"value.object.spec.template.spec.containers[0].image"}}),n("v-text-field",{attrs:{label:"Replicas",type:"number"},model:{value:e.value.object.spec.replicas,callback:function(t){e.$set(e.value.object.spec,"replicas",t)},expression:"value.object.spec.replicas"}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(n("651e"),n("e5f2")),r={name:"property-panel",props:{value:Object,img:String},components:{"yaml-editor":o["default"]},computed:{descriptionText(){return"ReplicaSet"}},data:function(){return{}},watch:{},methods:{}},l=r,s=(n("b59a"),n("2877")),c=n("6544"),u=n.n(c),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("0e8f"),h=n("132d"),f=n("a722"),g=n("8860"),y=n("da13"),b=n("8270"),_=n("5d23"),w=n("f774"),x=n("8654"),k=n("3a2f"),C=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:m["a"],VCardText:p["b"],VFlex:v["a"],VIcon:h["a"],VLayout:f["a"],VList:g["a"],VListItem:y["a"],VListItemAvatar:b["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"],VTextField:x["a"],VTooltip:k["a"]})},d4b0:function(e,t,n){"use strict";const a={install(e,t={}){const a=n("446f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default),e._components[i[o].default.name]=i[o].default;e.classModelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},d4bc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"rectangle-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.RectangleShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"5ffc7c32",null);t["default"]=c.exports},d4c4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.clone.ide?n("sub-controller",{attrs:{image:"terminal.png"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.ide()}}}):e._e(),e.clone.clear?n("sub-controller",{attrs:{image:"brush.png"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.clear()}}}):e._e()],1)},i=[],o=n("ad23"),r={name:"storming-sub-controller",props:{type:String,className:String,calleeDefinitionId:String},computed:{},data:function(){return{clone:{gateway:!1,ide:!1,clear:!1},options:[{name:"IDE"}]}},watch:{},mounted:function(){this.clone.ide=!0,this.clone.clear=!0},methods:{end(){},handleClick(e){console.log(e),e.pageY=e.pageY-62,this.$refs.vueSimpleContextMenu.showMenu(e)},optionClicked(e){var t=this;console.log(t.className),console.log(t),"Get Pods"==e.option.name?t.getPods():"IDE"==e.option.name?t.ide():"Serivce"==e.option.name&&t.service()},getPods(){$("iframe").get(0).contentWindow.wt.term.term.send("kubectl get po \r")},ide(){var e=this,t=localStorage.getItem("author").split("@")[0].toLowerCase(),n=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),a=e.getComponent("modeling-designer");console.log(`${t}-${n}-${a.projectName}-${e.$parent.$parent.value.name}`),e.$http.get(`http://localhost:8080/api/v1/namespaces/default/services/ide-for-${t}-${n}-${a.projectName.toLowerCase()}-${e.$parent.$parent.value.name.toLowerCase()}`).then(function(i){window.open(`#/IdeLoadingPage?param=ide-for-${t}-${n}-${a.projectName.toLowerCase()}-${e.$parent.$parent.value.name.toLowerCase()}`,"_blank")}).catch(function(t){t.toString().includes(500)&&e.$EventBus.$emit("deploy",e.$parent.$parent.value.elementView.id)})},service(){var e=this;console.log(e.$parent.$parent.value.elementView.id),e.$EventBus.$once("returnDeployData",function(e){var t,n;e.fullPathList.forEach(function(e){e.fullPath.includes("kubernetes/service")&&(t=e.key)}),e.getCodeList.forEach(function(e){e.key==t&&(n=e.code)}),console.log(n)}),e.$EventBus.$emit("service",e.$parent.$parent.value.elementView.id)},clear(){var e=this,t=[],n=new o.Client({endPoint:"http://35.232.244.51/",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123"}),a=localStorage.getItem("author").split("@")[0].toLowerCase(),i=localStorage.getItem("author").split("@")[1].split(".")[0].toLowerCase(),r=e.getComponent("modeling-designer");console.log(`${i}-${a}-${r.projectName}-${e.$parent.$parent.value.name}`);var l=n.listObjects("eventstorming",`${i}/${a}/${r.projectName}/${e.$parent.$parent.value.name}`,!0);l.on("data",function(e){console.log(e),t.push(e.name)}),l.on("error",function(e){console.log(e)}),l.on("end",function(){n.removeObjects("eventstorming",t,function(t){if(t)return console.log("Unable to remove Objects ",t);r.deleteBounded=e.$parent.$parent.value.name,r.deleteSnackbar=!0})})},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4f64c030",null);t["default"]=c.exports},d57a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"opengraph-element",props:{redraw:{default:function(){return!1},type:Boolean},id:String,parentId:String,x:{default:function(){return 0},type:Number},y:{default:function(){return 0},type:Number},width:{default:function(){return 10},type:Number},height:{default:function(){return 10},type:Number},angle:{default:function(){return 0},type:Number},_style:{default:function(){return{}},type:Object},label:{default:function(){return""},type:String},image:String,vertices:{default:function(){return[]},type:Array},html:String,xml:String,text:String,watchData:Object,from:String,to:String,fromPosition:{default:function(){return[50,50]},type:Array},toPosition:{default:function(){return[50,50]},type:Array},subZIndex:Number,subWidth:{default:function(){return"100%"},type:[String,Number]},subHeight:{default:function(){return"100%"},type:[String,Number]},subTop:{default:function(){return"0px"},type:[String,Number]},subBottom:[String,Number],subLeft:{default:function(){return"0px"},type:[String,Number]},subRight:[String,Number],subAlign:String,subVerticalAlign:String,subStyle:{default:function(){return{}},type:Object},selectable:{default:function(){return!1},type:Boolean},movable:{default:function(){return!1},type:Boolean},resizable:{default:function(){return!1},type:Boolean},resizex:{default:function(){return!0},type:Boolean},resizey:{default:function(){return!0},type:Boolean},connectable:{default:function(){return!1},type:Boolean},enableFrom:{default:function(){return!0},type:Boolean},enableTo:{default:function(){return!0},type:Boolean},selfConnectable:{default:function(){return!1},type:Boolean},connectCloneable:{default:function(){return!1},type:Boolean},connectRequired:{default:function(){return!0},type:Boolean},connectStyleChange:{default:function(){return!0},type:Boolean},deletable:{default:function(){return!1},type:Boolean},labelEditable:{default:function(){return!0},type:Boolean},copyable:{default:function(){return!0},type:Boolean},customMoveActionExist:{default:function(){return!1},type:Boolean}},computed:{opengraphRole:function(){return"opengraph-element"},_id:function(){return this.id?this.id:this.immidiateId}},data:function(){return{innerRedraw:!1,props:JSON.parse(JSON.stringify(this.$props)),elementRole:null,shapdId:"OG.shape."+this.uuShapeId(),immidiateId:this.uuid(),canvasComponent:null,parentElementComponent:null,parentControllerComponent:null,element:null,bindElementEvent:!1,shape:null,geometrys:{},subshapes:{},subcontrollers:{}}},watch:{$props:{handler:function(e,t){"opengraph-element"==this.elementRole&&(this.props=JSON.parse(JSON.stringify(e)))},deep:!0},props:{handler:function(e,t){if("opengraph-element"==this.elementRole)if(this.innerRedraw)this.innerRedraw=!1;else{var n=!1,a=[];if(1==e["redraw"])n=!0,a.push("redraw");else for(var i in e)(e[i]||t[i])&&("object"==typeof e[i]?t[i]&&JSON.stringify(e[i])==JSON.stringify(t[i])||(n=!0,a.push(i)):e[i]!=t[i]&&(n=!0,a.push(i)));n&&(this.element?this.updateShape():this.drawShape())}},deep:!0}},destroyed:function(){var e=this;"opengraph-element"==e.elementRole?e.canvasComponent&&e.canvasComponent.removeElement(e._id):"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.removeSubShapes(e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.removeControllerElement()},mounted:function(){var e=this;this.setElementRole(),"opengraph-element"==this.elementRole?this.drawShape():"sub-elements"==this.elementRole?this.parentElementComponent&&this.parentElementComponent.addSubShapes(this,e._id):"sub-controller"==this.elementRole&&this.parentControllerComponent&&this.parentControllerComponent.addCloneElement(this)},methods:{addGeometry:function(e,t){this.geometrys[t]=e},removeGeometry:function(e){delete this.geometrys[e]},addSubShapes:function(e,t){this.subshapes[t]=e},removeSubShapes:function(e){delete this.subshapes[e]},addSubContollers:function(e,t){this.subcontrollers[t]=e},removeSubContollers:function(e){delete this.subcontrollers[e]},emitElement:function(){this.innerRedraw=!0;var e=this;if(!e.element)return;let t=e.canvasComponent.canvas.getBoundary(e.element);if(t){if(e.$emit("update:redraw",!1),e.element.shape instanceof OG.shape.EdgeShape){let t=JSON.parse("["+e.element.shape.geom.vertices.toString()+"]");this.customMoveActionExist||e.$emit("update:vertices",t);var n,a,i,o,r=$(e.element).attr("_from"),l=$(e.element).attr("_to");r&&(n=r.split("_TERMINAL_")[0],i=r.split("_TERMINAL_")[1].split("_"),i=[parseFloat(i[0]),parseFloat(i[1])]),l&&(a=l.split("_TERMINAL_")[0],o=l.split("_TERMINAL_")[1].split("_"),o=[parseFloat(o[0]),parseFloat(o[1])]),this.customMoveActionExist||(e.$emit("update:from",n),e.$emit("update:to",a),e.$emit("update:fromPosition",i),e.$emit("update:toPosition",o))}else this.customMoveActionExist||(e.$emit("update:id",e._id),e.$emit("update:width",t.getWidth()),e.$emit("update:height",t.getHeight()),e.$emit("update:x",t.getCentroid().x),e.$emit("update:y",t.getCentroid().y));var s=JSON.parse(JSON.stringify(e.element.shape.geom.style.map));e.$emit("update:_style",s);var c,u=e.canvasComponent.canvas.getRenderer().getParent(e.element);c=u?u.id:null,e.$emit("update:parentId",c),this.props=JSON.parse(JSON.stringify(this.props))}},setElementRole:function(){var e,t=this,n=function(a){e=a.$parent,e&&("canvas"==e.opengraphRole?(t.canvasComponent=e,t.elementRole="opengraph-element"):"sub-elements"==e.opengraphRole?(t.elementRole="sub-elements",n(e)):"sub-controller"==e.opengraphRole?(t.elementRole="sub-controller",t.parentControllerComponent=e):"opengraph-element"==e.opengraphRole?t.parentElementComponent=e:n(e))};if(n(this),t.parentElementComponent&&"sub-elements"!=t.elementRole)throw new Error("Child element in element should be in sub-elements.");if(!t.parentElementComponent&&!t.canvasComponent&&!t.parentControllerComponent)throw new Error("Not found canvas for element.");!t.parentElementComponent&&t.canvasComponent&&t.canvasComponent.addElement(this,t._id)},updateShape:function(){var e=this;e._id!=e.element.id&&(e.canvasComponent.canvas._HANDLER.deselectAll(),e.element=e.canvasComponent.canvas.updateId(e.element,e._id)),this.drawShape()},drawShape:function(){var e=this,t=new Date,n=e.generateShape();if(n.clone=function(){return e.generateShape()},n){n.createSubShape=function(){return e.generateSubShapes()},n.createController=function(){return e.generateSubController()},e.bindShapeProperties(n),e.bindShapeEvents(n);var a=JSON.parse(JSON.stringify(e._style));switch(n.TYPE){case OG.Constants.SHAPE_TYPE.GEOM:case OG.Constants.SHAPE_TYPE.GROUP:if(e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId),n instanceof OG.HorizontalLaneShape){var i=e.canvasComponent.canvas.getRenderer().getParent(e.element);if(i&&i.shape instanceof OG.HorizontalLaneShape){var o=null;$.each(i.childNodes,function(e,t){if("g"==t.tagName)return o=t,!1}),i.insertBefore(e.element,o||i.firstChild)}}e.canvasComponent.canvas.getRenderer().redrawConnectedEdge(e.element,[]);break;case OG.Constants.SHAPE_TYPE.EDGE:if(e.vertices&&e.vertices.length>1){var r=new OG.geometry.PolyLine(e.vertices);r.type="PolyLine",n.geom=r}var l,s,c,u,d,m;e.from&&(l=e.canvasComponent.canvas.getElementById(e.from),c=e.from+"_TERMINAL_"+e.fromPosition[0]+"_"+e.fromPosition[1],d=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(c)),e.to&&(s=e.canvasComponent.canvas.getElementById(e.to),u=e.to+"_TERMINAL_"+e.toPosition[0]+"_"+e.toPosition[1],m=e.canvasComponent.canvas.getRenderer()._getPositionFromTerminal(u)),(!e.vertices||e.vertices.length<2)&&l&&s?e.element=e.canvasComponent.canvas.connect(l,s,a,e.label,d,m,!0,e._id):e.element=l&&s?e.canvasComponent.canvas.connect(l,s,a,e.label,d,m,!0,e._id,n):e.canvasComponent.canvas.drawShape(null,n,null,a,e._id,null,!0);break;case OG.Constants.SHAPE_TYPE.HTML:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.IMAGE:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.TEXT:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break;case OG.Constants.SHAPE_TYPE.SVG:e.element=e.canvasComponent.canvas.drawShape([e.x,e.y],n,[e.width,e.height,e.angle],a,e._id,e.parentId);break}this.customMoveActionExist&&(e.element.customMoveAction=function(t,n,a,i,o,r,l,s){e.$emit("customMoveAction",t,n,a,i,o,r,l,s)},e.element.customRelationMoveAction=function(t){e.$emit("customRelationMoveAction",t)}),this.setGroup(),this.bindElementEvents(),this.emitElement(),window.Vue.OGBus.$emit("renderingTime",this.canvasComponent.id,(new Date).getTime()-t)}},setGroup:function(){var e=this;if(e.element&&!e.parentId&&!e.canvasComponent.canvas.getRenderer().isEdge(e.element)&&!e.canvasComponent.canvas.getRenderer().isLane(e.element)){var t=e.canvasComponent.canvas.getRenderer().getFrontForBoundary(e.canvasComponent.canvas.getRenderer().getBoundary(e.element));t&&(e.canvasComponent.canvas.getRenderer().isLane(t)&&(t=e.canvasComponent.canvas.getRenderer().getRootLane(t)),e.canvasComponent.canvas.getRenderer()._CONFIG.GROUP_DROPABLE&&t.shape.GROUP_DROPABLE&&t.id!==e.element.id&&t.appendChild(e.element))}},bindShapeProperties:function(e){e.SELECTABLE=this.selectable,e.MOVABLE=this.movable,e.RESIZABLE=this.resizable,e.RESIZEX=this.resizex,e.RESIZEY=this.resizey,e.CONNECTABLE=this.connectable,e.ENABLE_FROM=this.enableFrom,e.ENABLE_TO=this.enableTo,e.SELF_CONNECTABLE=this.selfConnectable,e.CONNECT_CLONEABLE=this.connectCloneable,e.CONNECT_REQUIRED=this.connectRequired,e.CONNECT_STYLE_CHANGE=this.connectStyleChange,e.DELETABLE=this.deletable,e.LABEL_EDITABLE=this.labelEditable,e.COPYABLE=this.copyable,e.AXIS=this.axis},bindShapeEvents:function(e){var t=this;e.onResize=function(e){t.$emit("resize",t,e)},e.onDrawLabel=function(e){t.$emit("drawLabel",t,e)},e.onLabelChanged=function(e,n){t.$emit("labelChanged",t,e,n)},e.onBeforeRemoveShape=function(){var e;return t.$emit("beforeRemoveShape",t,function(t){e=t}),e},e.onRemoveShape=function(){t.$emit("removeShape",t)},e.onDrawShape=function(){t.$emit("drawShape",t)},e.onBeforeLabelChange=function(e,n){var a;return t.$emit("beforeLabelChange",t,e,n,function(e){a=e}),a},e.onRedrawShape=function(){t.$emit("redrawShape",t)},e.onBeforeConnectShape=function(e,n,a){var i;return t.$emit("beforeConnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a,function(e){i=e}),i},e.onConnectShape=function(e,n,a){t.$emit("connectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onDisconnectShape=function(e,n,a){t.$emit("disconnectShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,t.canvasComponent.getElementById(a.id)||a)},e.onGroup=function(e){t.$emit("group",t.canvasComponent.getElementById(e.id)||e)},e.onUnGroup=function(){t.$emit("unGroup",t)},e.onMoveShape=function(e){t.$emit("moveShape",t,e)},e.onRotateShape=function(e){t.$emit("rotateShape",t,e)},e.onPasteShape=function(e,n){t.$emit("pasteShape",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n)},e.onAddToGroup=function(e,n,a){for(var i=[],o=0;o<n.length;o++)i.push(t.canvasComponent.getElementById(n[o].id)||n[o]);t.$emit("addToGroup",t.canvasComponent.getElementById(e.id)||e,i,a)},e.onAddedToGroup=function(e,n,a){console.log("Added Group"),t.$emit("addedToGroup",t.canvasComponent.getElementById(e.id)||e,t.canvasComponent.getElementById(n.id)||n,a)},e.onSelectShape=function(){t.$emit("selectShape",t)},e.onDeSelectShape=function(){t.$emit("deSelectShape",t)}},bindElementEvents:function(){var e=this;e.bindElementEvent||(e.bindElementEvent=!0,$(e.element).bind("click",function(t){t.stopPropagation(),e.$emit("click",t,e)}),$(e.element).unbind("dblclick"),$(e.element).bind("dblclick",function(t){t.stopPropagation(),e.$emit("dblclick",t,e)}))},generateSubController:function(){var e=this,t=[];if(!e.subcontrollers||$.isEmptyObject(e.subcontrollers))return t;for(var n in e.subcontrollers){var a=e.subcontrollers[n],i=a.cloneable;i?e.addCloneableController(a,t):e.addClickController(a,t)}return t},addClickController:function(e,t){var n=this;t.push({image:e.image,action:function(t,a){e.$emit("click",t,n)}})},addCloneableController:function(e,t){var n=this,a=e.cloneComponent.generateShape();a.onDuplicated=function(t,a,i){e.$emit("clone",n.canvasComponent.getElementById(t.id)||t,n.canvasComponent.getElementById(a.id)||a,n.canvasComponent.getElementById(i.id)||i)},t.push({image:e.image,create:{shape:a,width:e.cloneComponent.width,height:e.cloneComponent.height,style:JSON.parse(JSON.stringify(e.cloneComponent._style))}})},generateSubShapes:function(){var e=this,t=[];if(!e.subshapes||$.isEmptyObject(e.subshapes))return t;for(var n in e.subshapes){let a=e.subshapes[n].generateShape();t.push({shape:a,vertices:e.subshapes[n].vertices,width:e.subshapes[n].subWidth,height:e.subshapes[n].subHeight,top:e.subshapes[n].subTop,bottom:e.subshapes[n].subBottom,left:e.subshapes[n].subLeft,right:e.subshapes[n].subRight,align:e.subshapes[n].subAlign,"vertical-align":e.subshapes[n].subVerticalAlign,"z-index":e.subshapes[n].subZIndex,style:JSON.parse(JSON.stringify(e.subshapes[n].subStyle))})}return t},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},uuShapeId:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"s"+e()+e()+e()+e()+e()+e()+e()+e()}}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"69f16694",null);t["default"]=s.exports},d5bc:function(e,t,n){},d693:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o={name:"bpmn-vue-finder",created:function(){},data:function(){return{bpmnVue:null}},watch:{},mounted:function(){var e,t=null,n=function(a){e=a.$parent,e&&("bpmn-vue"==e.bpmnRole?t=e:n(e))};n(this),this.bpmnVue=t}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,"ecf1d896",null);t["default"]=s.exports},d70c:function(e,t,n){},d77a:function(e,t,n){"use strict";const a={install(e,t={}){const a=n("8e0f"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),i)e.component(i[o].default.name,i[o].default);e.bpmnComponents=i,e.bpmnBus=new e,e.bpmnLiveComponents={},window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},d7b6:function(e,t){throw new Error("Module parse failed: Unexpected token (2:6)\nYou may need an appropriate loader to handle this file type.\n| steps:\n>   - id: 'build'\n|     name: 'gcr.io/cloud-builders/mvn'\n|     args: [")},d82a:function(e,t){throw new Error("Module parse failed: Unexpected token (9:10)\nYou may need an appropriate loader to handle this file type.\n| spec:\n|   ports:\n>     - port: 8080\n|       targetPort: 8080\n|   selector:")},d834:function(e,t){throw new Error("Module parse failed: Unexpected token (1:4)\nYou may need an appropriate loader to handle this file type.\n> MIT License\n| \n| Copyright (c) 2020 msaez-template")},da11:function(e,t,n){},db5c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableTo:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-timer-start-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1.5}},type(){return"StartEvent"},className(){return"org.uengine.kernel.bpmn.TimerStartEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"4a8072d9",null);t["default"]=c.exports},dbbc:function(e,t,n){"use strict";var a=n("4482"),i=n.n(a);i.a},dbf9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("b5db"),r={mixins:[o["default"]],name:"geometry-curve",props:{controlPoints:{default:function(){return[[200,100],[100,300],[-100,-100],[-200,100]]},type:Array},_style:{default:function(){return{}},type:Object}},methods:{createGeometry:function(){return this.geom=new OG.geometry.Curve(this.controlPoints),this.geom.style=new OG.geometry.Style(JSON.parse(JSON.stringify(this._style))),this.geom}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"bf351644",null);t["default"]=c.exports},dc1b:function(e,t,n){},dc33:function(e,t,n){"use strict";var a=n("d5bc"),i=n.n(a);i.a},dc7f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",enableFrom:!1,id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50,_style:{"stroke-width":3}}}),n("geometry-polygon",{attrs:{vertices:[[15,50],[45,70],[45,30]],_style:{fill:"black","fill-opacity":1}}}),n("geometry-polygon",{attrs:{vertices:[[45,50],[75,70],[75,30]],_style:{fill:"black","fill-opacity":1}}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-compensation-end-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom"}},type(){return"EndEvent"},className(){return"org.uengine.kernel.bpmn.CompensationEndEvent"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"214cf367",null);t["default"]=c.exports},dcd5:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",[n("v-divider")],1),n("v-row",[e._l(e.filteredVersionList,function(t,a){return n("v-col",{key:a,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:t.versionImg,"max-width":"400","max-height":"300"}}),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Ver."+e._s(t.versionNum)+"\n                            "),n("div",{staticStyle:{"font-size":"15px",float:"right"}},[e._v(e._s(t.versionEmail))])]),n("v-list-item-subtitle",[e._v("Modified Date : "+e._s(t.versionDate))]),""+t.versionType!="local"?n("v-list-item-subtitle",[e._v("\n                            Comment : "+e._s(t.versionComment)+"\n                        ")]):e._e()],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(n){return e.versionModalShow(t.versionValue)}}},[e._v("\n                        View\n                    ")])],1)],1)],1)}),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",align:"center"}})],1)],2),n("v-layout",[n("modal",{attrs:{name:"view-modeling-designer-modal",height:"80%",width:"80%"}},[n("view-modeling-designer",{attrs:{versionValue:e.versionValue}})],1)],1)],1)},i=[],o=n("8aa5"),r=n.n(o),l={name:"ViewEventStormingVersionPage",props:{},data(){return{versionList:[],name:"",search:"",loginAuthor:"",onLogin:!1,deleteDialog:!1,checkAllVersion:!1,versionValue:null,parmUid:"",parmType:"",parmProjectId:"",parmVersion:""}},created(){var e=this;e.parmUid=this.$route.params.userUid,e.parmType=this.$route.params.projectType,e.parmProjectId=this.$route.params.projectId,e.parmVersion=this.$route.params.projectVersion,e.getVersionList()},computed:{filteredVersionList(){return this.versionList}},mounted:function(){var e=this;e.getVersionList()},methods:{versionModalShow(e){this.versionValue=e,this.$modal.show("view-modeling-designer-modal")},getVersionList(){var e=this,t=1,n=[];e.versionList=[],"local"==e.parmType||r.a.database().ref("/definitions/"+e.parmProjectId+"/versionLists").orderByChild("/versionInfo/date").once("value",function(e){if(e.exists()){var a=Object.keys(e.val());a.forEach(function(i,o){var r=e.val()[i],l={versionNum:t,versionComment:r.versionInfo.comment,versionDate:r.versionInfo.date,versionImg:r.versionInfo.img,versionName:r.versionInfo.projectName,versionEmail:r.versionInfo.saveUserEmail,saveUserName:r.versionInfo.saveUserName,versionValue:r.versionValue.value};t+=1,a.length-1!=o&&n.push(l)})}}),e.versionList=n},toUrl(e,t,n,a){return"storming/"+e+"/"+t+"/"+n+"/"+a},toStormingUrl(e,t,n,a){return"storming/"+e+"/"+t+"/"+n+"/"+a},toKubernetesUrl(e,t,n,a){return"kubernetes/"+e+"/"+t+"/"+n+"/"+a},getUid(){return new Promise(function(e){r.a.auth().onAuthStateChanged(function(t){e(t?t.uid:"everyone")})})}}},s=l,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8336"),p=n("b0af"),v=n("99d9"),h=n("62ad"),f=n("a523"),g=n("ce7e"),y=n("adda"),b=n("a722"),_=n("da13"),w=n("5d23"),x=n("0fd9"),k=Object(c["a"])(s,a,i,!1,null,"2011cd36",null);t["a"]=k.exports;d()(k,{VBtn:m["a"],VCard:p["a"],VCardActions:v["a"],VCol:h["a"],VContainer:f["a"],VDivider:g["a"],VImg:y["a"],VLayout:b["a"],VListItem:_["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VRow:x["a"]})},dd10:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px",disabled:e.isRead}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.updateRules.length?n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventLists,"item-text":"name","return-object":"",prefix:"UPDATE WHEN"},model:{value:e.updateItem.when,callback:function(t){e.$set(e.updateItem,"when",t)},expression:"updateItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("SET")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.updateItem.fieldMapping,function(t,a){return n("tr",[a!=e.updateItem.fieldMapping.length-1||e.saveSetBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.updateItem.fieldMapping.length-1||e.saveSetBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.updateItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.updateItem.fieldMapping,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.saveSetRows()}}},[e.saveSetBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.updateItem.fieldMapping)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"10px"}},[e._v("WHERE")]),n("v-simple-table",{staticStyle:{"margin-left":"30px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.updateItem.where,function(t,a){return n("tr",[a!=e.updateItem.where.length-1||e.saveWhereBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.updateItem.where.length-1||e.saveWhereBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.updateItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.updateItem.where,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.saveWhereRows()}}},[e.saveWhereBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.updateItem.where)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewUpdate",props:{value:Object,updateItem:Object,index:Number,isRead:Boolean},data:function(){return{saveSetBtn:!1,saveWhereBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.updateItem.when).length>0&&-1!=this.eventLists.findIndex(e=>e.elementView.id===this.updateItem.when.elementView.id)?this.eventLists[this.eventLists.findIndex(e=>e.elementView.id===this.updateItem.when.elementView.id)].fieldDescriptors:[]},eventLists:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},methods:{saveSetRows(){this.saveSetBtn?this.saveSetBtn=!1:this.saveSetBtn=!0},saveWhereRows(){this.saveWhereBtn?this.saveWhereBtn=!1:this.saveWhereBtn=!0},removeMainRow(e){var t=this;t.value.updateRules[e]=null,t.value.updateRules=t.value.updateRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},removeConditionRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addConditionRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].conditionViewField).length&&0!==Object.keys(e[e.length-1].conditionEventField).length){var t={conditionViewField:{},conditionEventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),v=n("132d"),h=n("5d23"),f=n("0fd9"),g=n("1f4f"),y=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=y.exports;c()(y,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:v["a"],VListItemSubtitle:h["b"],VRow:f["a"],VSimpleTable:g["a"]})},dd3b:function(e,t,n){},dd53:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (1:15)\nYou may need an appropriate loader to handle this file type.\n> path: {{name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},ddb8:function(e,t,n){"use strict";var a=n("9483");Object(a["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}})},de81:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:function(t){e.closeComponentChanger(),e.selectedActivity()},deSelectShape:function(t){e.closeComponentChanger(),e.deSelectedActivity()},removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-circle",{attrs:{center:[50,50],radius:50}}),n("geometry-circle",{attrs:{center:[50,50],radius:44}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-intermediate-event",props:{},computed:{defaultStyle(){return{"label-position":"bottom","stroke-width":1}},type(){return"IntermediateEvent"},className(){return"org.uengine.kernel.bpmn.Event"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,selected:!1,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"9402e070",null);t["default"]=c.exports},decb:function(e,t,n){},df59:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: Aggregate\n| fileName: {{namePascalCase}}Repository.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},e097:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],o=n("64ae"),r=n("761a"),l={name:"modeling-element-base",props:{value:Object},created:function(){},data:function(){return{_id:null,rotateMove:!1,tmpWidth:0,tmpHeight:0,messageRef:{},isException:"NO",isUndoRedo:!1,checkValue:!1,selected:!1,openPanel:!1,namePanel:"",editUserImg:[]}},computed:{type(){return""},code(){return""},editMode(){return!0},style:{get:function(){var e;if(this.value&&(e=this.value.elementView?this.value.elementView.style:this.value.relationView.style),e){var t=JSON.parse(e);return $.isEmptyObject(t)?this.defaultStyle:t}return this.defaultStyle},set:function(e){this.value&&(this.value.elementView?this.value.elementView.style=JSON.stringify(e):this.value.relationView.style=JSON.stringify(e))}},moveElement(){return _.cloneDeep(this.value.elementView)},valueChangeElement(){return _.cloneDeep(this.value)}},watch:{"value.elementView.width":{handler(e){var t=this,n={type:t.value._type,width:e,height:t.value.elementView.height};t.$store.dispatch("resize",n)}},"value.elementView.height":{handler(e){var t=this,n={type:t.value._type,width:t.value.elementView.width,height:e};t.$store.dispatch("resize",n)}}},mounted:function(){var e=this;$(document).keydown(t=>{if(46==t.keyCode||8==t.keyCode){e.getComponent("kube-modeling-designer");if(e.selected&&!e.openPanel){var n={state:"delete",element:e.value};"org.uengine.modeling.model.Relation"==e.value._type?(console.log(e.value.relationView.id),e.$EventBus.$emit(`${e.value.relationView.id}`,n)):void 0==e.value.boundedContext?(console.log("bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)):void 0==e.value.boundedContext.id?(console.log("out bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)):(console.log("inner bounded"),e.$EventBus.$emit(`${e.value.elementView.id}`,n)),console.log("============== Storage Location Search Test 1-1 (Back Delete) ============= ")}}}),"org.uengine.modeling.model.Relation"!=e.value._type?e.$EventBus.$on(`${e.value.elementView.id}`,function(t){"delete"==t.state&&e.deleteActivity(t)}):"org.uengine.modeling.model.Relation"==e.value._type&&e.$EventBus.$on(`${e.value.relationView.id}`,function(t){"delete"==t.state&&e.deleteActivity(t)})},beforeDestroy(){this.value.elementView?this.$EventBus.$off(`${this.value.elementView.id}`):this.$EventBus.$off(`${this.value.relationView.id}`)},methods:{setNameCase:function(e){var t=this;"org.uengine.modeling.model.View"!=t.value._type&&"org.uengine.modeling.model.Event"!=t.value._type&&"org.uengine.modeling.model.Command"!=t.value._type&&"org.uengine.modeling.model.Policy"!=t.value._type&&"org.uengine.modeling.model.Aggregate"!=t.value._type||(t.value.name=e,t.value.namePascalCase=o.pascalCase(e),t.value.nameCamelCase=o.camelCase(e),t.value.namePlural=o.camelCase(r(e)))},mergeDeep(e,t){if(!t.length)return e;const n=t.shift();if(isObject(e)&&isObject(n))for(const a in n)isObject(n[a])?(e[a]||Object.assign(e,{[a]:{}}),mergeDeep(e[a],n[a])):Object.assign(e,{[a]:n[a]});return this.mergeDeep(e,t)},deleteActivity(e){var t=this,n=this.getComponent("kube-modeling-designer");this.getComponent("opengraph");if(e.element.isUndoRedo){if("org.uengine.modeling.model.Relation"!=t.value._type){var a=n.value.definition.length;n.value.definition.some(function(e,i){if(!e&&t.value.elementView.id===e.elementView.id)return n.value.definition[i]=null,n.value.definition[i]=n.value.definition[a-1],void(n.value.definition[a-1]=null)})}}else t.selected=!1,"org.uengine.modeling.model.Relation"!=t.value._type?n.value.definition.splice(n.value.definition.indexOf(e.element),1):n.value.relation.splice(n.value.relation.indexOf(e.element),1)},difference:_.debounce(function(e,t){function n(e,t){return _.transform(e,function(e,a,i){_.isEqual(a,t[i])||(e[i]=_.isObject(a)&&_.isObject(t[i])?n(a,t[i]):a)})}return n(e,t)},100),onLabelChanged:function(e,t){console.log("onLabelChanged",e,t)},onRotateShape:function(e,t){this.value.elementView.angle=t},connected:function(){},selectedActivity:function(){this.value&&(this.selected=!0)},deSelectedActivity:function(){this.value&&(this.selected&&(this.selected=!1),this.openPanel&&(this.openPanel=!1))},showProperty:function(){var e=this.getComponent("kube-modeling-designer");this.value.editing?e.snackbar=!0:this.openPanel=!0},closeProperty(){this.openPanel&&(this.openPanel=!1)},fireClosed(){this.$emit("close")},onAddToGroup:function(e,t,n){},onAddedToGroup:function(e,t,n){this.getComponent("kube-modeling-designer");if(e.tagName)t.$parent.namespace=void 0;else if("Namespace"==e.$parent.value._type){var a=e.$parent.value.name;e.$parent.value.innerElement.push(t.$parent.value.elementView.id),t.$parent.namespace=a,t.$parent.value.namespaceId=e.$parent.value.elementView.id}},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},refresh(){var e=this;e.value.elementView.x=e.value.elementView.x+1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight,e.rotateMove=!0,e.value.elementView.x=e.value.elementView.x-1,e.$nextTick(function(){e.value.elementView.width=e.tmpWidth,e.value.elementView.height=e.tmpHeight})})},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t},onRemoveShape:function(e){var t=this;console.log(e);var n={state:"delete",element:e};"org.uengine.modeling.model.Relation"==t.value._type?t.$EventBus.$emit(`${t.value.relationView.id}`,n):t.$EventBus.$emit(`${t.value.elementView.id}`,n),console.log("============== Storage Location Search Test 1-2 (Delete Btn) ============= ")}}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,"3f454a7c",null);t["default"]=u.exports},e275:function(e,t){throw new Error("Module parse failed: Unterminated regular expression (3:30)\nYou may need an appropriate loader to handle this file type.\n| forEach: View\n| fileName: {{namePascalCase}}ViewHandler.java\n> path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---\n| package {{options.package}};")},e2e4:function(e,t){throw new Error("Module parse failed: Unexpected token (2:28)\nYou may need an appropriate loader to handle this file type.\n| forEach: Event\n> fileName: {{namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},e2fb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},i=[],o=n("d57a"),r={mixins:[o["default"]],name:"vertical-lane-element",props:{},computed:{},data:function(){return{}},watch:{},mounted:function(){},methods:{generateShape:function(){var e=this;return new OG.shape.VerticalLaneShape(e.label)}}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"43ef5574",null);t["default"]=c.exports},e38b:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM openjdk:8u212-jdk-alpine\n| COPY target/*SNAPSHOT.jar app.jar\n| EXPOSE 8080")},e454:function(e,t){throw new Error("Module parse failed: Unexpected token (2:39)\nYou may need an appropriate loader to handle this file type.\n| forEach: RelationEventInfo\n> fileName: {{eventValue.namePascalCase}}.java\n| path: {{boundedContext.name}}/{{{options.packagePath}}}\n| ---")},e46d:function(e,t,n){"use strict";var a=n("fb83"),i=n.n(a);i.a},e5f2:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("codemirror",{ref:"myCm",attrs:{options:{theme:"darcula",lineNumbers:!0,lineWrapping:!0}},model:{value:e.yamlText,callback:function(t){e.yamlText=t},expression:"yamlText"}})},i=[],o=n("651e"),r=n.n(o),l=n("8241"),s=n.n(l),c=n("8f94"),u={name:"yaml-editor",props:{value:Object},components:{codemirror:c["codemirror"]},computed:{codemirror:function(){return this.$refs.myCm.codemirror}},data:function(){return{yamlText:s.a.stringify(this.value),cursor_pos:"",temp_text:""}},watch:{value:{deep:!0,handler:function(){this.yamlText=s.a.stringify(this.value)}},yamlText:{deep:!0,handler:function(){var e=this;try{e.temp_text=e.yamlText,e.cursor_pos=e.codemirror.getCursor("start"),this.$nextTick(function(){e.codemirror.setCursor(e.cursor_pos),e.codemirror.refresh()})}catch(n){}var t=r.a.load(this.yamlText);this.$emit("input",t)}}},methods:{}},d=u,m=(n("0e53"),n("2877")),p=Object(m["a"])(d,a,i,!1,null,null,null);t["default"]=p.exports},e6f2:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:"",movable:"",resizable:"",connectable:"",deletable:"",id:e.activity.tracingTag,x:e.activity.elementView.x,y:e.activity.elementView.y,width:e.activity.elementView.width,height:e.activity.elementView.height,_style:e.style,parentId:e.activity.elementView.parent,label:e.activity.name.text},on:{"update:id":function(t){return e.$set(e.activity,"tracingTag",t)},"update:x":function(t){return e.$set(e.activity.elementView,"x",t)},"update:y":function(t){return e.$set(e.activity.elementView,"y",t)},"update:width":function(t){return e.$set(e.activity.elementView,"width",t)},"update:height":function(t){return e.$set(e.activity.elementView,"height",t)},"update:_style":function(t){e.style=t},"update:parentId":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:parent-id":function(t){return e.$set(e.activity.elementView,"parent",t)},"update:label":function(t){return e.$set(e.activity.name,"text",t)},dblclick:e.showProperty,selectShape:e.closeComponentChanger,deSelectShape:e.closeComponentChanger,removeShape:e.closeComponentChanger,redrawShape:e.closeComponentChanger,addedToGroup:e.onAddedToGroup}},[n("geometry-polygon",{attrs:{vertices:[[0,50],[50,100],[100,50],[50,0]]}}),n("sub-elements",[n("bpmn-state-animation",{attrs:{status:e.status,type:e.type}})],1),n("bpmn-sub-controller",{attrs:{type:e.type}})],1),n("bpmn-property-panel",{attrs:{drawer:e.drawer,item:e.activity},on:{"update:drawer":function(t){e.drawer=t},"update:item":function(t){e.activity=t}}},[n("template",{slot:"properties-contents"},[n("md-input-container",[n("label",[e._v("액티비티 명")]),n("md-input",{attrs:{type:"text"},model:{value:e.activity.name.text,callback:function(t){e.$set(e.activity.name,"text",t)},expression:"activity.name.text"}})],1),n("md-input-container",[n("label",[e._v("retryDelay")]),n("md-input",{attrs:{type:"number"},model:{value:e.activity.retryDelay,callback:function(t){e.$set(e.activity,"retryDelay",e._n(t))},expression:"activity.retryDelay"}})],1)],1),n("template",{slot:"additional-tabs"})],2)],1)},i=[],o=n("9f99"),r={mixins:[o["default"]],name:"bpmn-gateway",props:{},computed:{defaultStyle(){return{"label-position":"bottom","label-width":120,"stroke-width":1.5}},type(){return"Gateway"},className(){return"org.uengine.kernel.bpmn.Gateway"},createNew(e,t,n,a,i){return{_type:this.className(),name:{text:""},tracingTag:e,elementView:{_type:"org.uengine.kernel.view.DefaultActivityView",id:e,x:t,y:n,width:a,height:i,style:JSON.stringify({})}}}},data:function(){return{}},watch:{},mounted:function(){},methods:{}},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,"b2e7e126",null);t["default"]=c.exports},e7d2:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null==e.projectInfomation||null==e.projectInfomation["img"]||null==e.projectInfomation["projectName"]?n("v-card",{staticClass:"mx-auto",staticStyle:{width:"400px",height:"300px","justify-content":"center"},attrs:{outlined:"",align:"center"}},[n("v-skeleton-loader",{ref:"skeleton",staticClass:"mx-auto",attrs:{type:"card"}})],1):n("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400","max-height":"400"}},[n("v-img",{attrs:{src:e.projectInfomation["img"],"max-width":"400","max-height":"300"}},[n("v-row",{staticStyle:{"margin-right":"1px"},attrs:{justify:"end"}},[e.checkNewChip?n("v-chip",{staticClass:"ma-2",staticStyle:{"margin-right":"10px"},attrs:{color:"red","text-color":"white"}},[e._v("\n                NEW\n            ")]):e._e(),e.projectInfomation["type"].includes("k8s")?n("v-chip",{staticClass:"ma-2",attrs:{color:"blue","text-color":"white"}},[e._v("\n                Kubernetes\n            ")]):e._e(),e.projectInfomation["type"].includes("es")?n("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[e._v("\n                EventStroming\n            ")]):e._e(),"mine"==e.projectInfomation["projectType"]&&e.projectInfomation["permissionCount"]>0?n("v-chip",{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[e._v("\n                shared\n            ")]):e._e()],1)],1),n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v("\n                "+e._s(e.projectInfomation["projectName"])+"\n            ")]),n("v-list-item-subtitle",[e._v("Author : "+e._s(e.projectInfomation["projectAuthorEmail"]))]),n("v-list-item-subtitle",[e._v("Created Date : "+e._s(e.projectInfomation["date"]))]),n("v-list-item-subtitle",[e._v("Comment : "+e._s(e.projectInfomation["comment"]))])],1)],1),n("v-card-actions",[e.projectInfomation["type"].includes("k8s")?n("v-btn",{attrs:{text:"",to:e.toKubernetesUrl(e.projectInfomation["projectAuthor"],e.projectInfomation["projectType"],e.projectInfomation["projectId"],e.projectInfomation["projectVersion"])},nativeOn:{click:function(t){return e.$EventBus.$emit("setProjectName",e.projectInfomation["projectName"])}}},[e._v("\n            Edit\n        ")]):n("v-btn",{attrs:{text:"",to:e.toStormingUrl(e.projectInfomation["projectAuthor"],e.projectInfomation["projectType"],e.projectInfomation["projectId"],e.projectInfomation["projectVersion"])},nativeOn:{click:function(t){return e.$EventBus.$emit("setProjectName",e.projectInfomation["projectName"])}}},[e._v("\n            Edit\n        ")]),"mine"==e.projectInfomation["projectType"]||"kuberMine"==e.projectInfomation["projectType"]?n("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.$EventBus.$emit("deleteProject",e.projectInfomation)}}},[e._v("\n            Delete\n        ")]):e._e()],1)],1)},i=[],o=n("8aa5"),r=n.n(o),l={name:"ProjectCard",props:{projectId:String,projectType:String},data(){return{projectInfomation:{},yesterDayDate:null}},created(){var e=this;r.a.database().ref("definitions/"+e.projectId+"/shareOptions").once("value",function(e){}).then(function(t){r.a.database().ref("definitions/"+e.projectId+"/versionLists/"+t.val()["lastVersionName"]+"/versionInfo").once("value",function(n){if(n.exists()){var a,i=e.projectType,o=void 0==t.val()["type"]?e.projectId.includes("kuber-")?"k8s":"es":t.val()["type"],r=0;if("every"!=e.projectType&&e.projectType&&void 0!=t.val()["permissions"]&&(r=Object.keys(t.val()["permissions"]).length),"k8s"==o&&("mine"==e.projectType?i="kuberMine":"share"==e.projectType?i="kuberShare":"every"==e.projectType&&(i="kuberEvery")),n.val().date.toString().includes("년")){var l=n.val().date.slice(0,12);l=l.replace("년","-").replace("월","-").replace("일",""),l=l.replace(/ /gi,""),a=Date.parse(l)}else a=n.val().date;var s={type:o,projectAuthor:t.val()["author"],projectAuthorEmail:t.val()["authorEmail"],saveUser:n.val().saveUser,saveUserEmail:n.val().saveUserEmail,saveUserName:n.val().saveUserName,projectId:e.projectId,projectVersion:t.val()["lastVersionName"],projectType:i,date:e.convertTimeStampToDate(a),projectName:n.val().projectName,img:n.val().img,comment:n.val().comment,permissionCount:r},c={type:s.type,projectId:s.projectId,projectName:s.projectName};e.$emit("cardProjectName",c),e.projectInfomation=s}})})},computed:{checkNewChip(){var e=this;return e.yesterDayDate,e.projectInfomation.date,!1}},methods:{convertTimeStampToDate(e){var t=new Date(e);return t.getFullYear()+"년 "+(t.getMonth()+1)+"월 "+t.getDate()+"일 "+t.getHours()+"시 "+t.getMinutes()+"분"},toStormingUrl(e,t,n,a){return"storming/"+e+"/"+t+"/"+n+"/"+a},toKubernetesUrl(e,t,n,a){return"kubernetes/"+e+"/"+t+"/"+n+"/"+a}}},s=l,c=n("2877"),u=n("6544"),d=n.n(u),m=n("8336"),p=n("b0af"),v=n("99d9"),h=n("cc20"),f=n("adda"),g=n("da13"),y=n("5d23"),b=n("0fd9"),_=n("3129"),w=Object(c["a"])(s,a,i,!1,null,null,null);t["a"]=w.exports;d()(w,{VBtn:m["a"],VCard:p["a"],VCardActions:v["a"],VChip:h["a"],VImg:f["a"],VListItem:g["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:b["a"],VSkeletonLoader:_["a"]})},e8e5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("geometry-element",{attrs:{selectable:e.movingElement,movable:!e.isRead&&e.movingElement,deletable:!e.isRead&&e.movingElement,resizable:!e.isRead&&e.movingElement,id:e.value.elementView.id,x:e.value.elementView.x,y:e.value.elementView.y,width:e.value.elementView.width,height:e.value.elementView.height,angle:e.value.elementView.angle,customMoveActionExist:e.isCustomMoveActionExist,image:e.setImg,label:e.namePanel,_style:{"label-angle":e.value.elementView.angle,"text-anchor":"center","vertical-align":"top"}},on:{"update:id":function(t){return e.$set(e.value.elementView,"id",t)},"update:x":function(t){return e.$set(e.value.elementView,"x",t)},"update:y":function(t){return e.$set(e.value.elementView,"y",t)},"update:width":function(t){return e.$set(e.value.elementView,"width",t)},"update:height":function(t){return e.$set(e.value.elementView,"height",t)},"update:angle":function(t){return e.$set(e.value.elementView,"angle",t)},selectShape:e.selectedActivity,deSelectShape:e.deSelectedActivity,dblclick:e.showProperty,addedToGroup:e.onAddedToGroup,removeShape:function(t){return e.onRemoveShape(e.value)},customMoveAction:e.delayedMove,"update:image":function(t){e.setImg=t},"update:label":function(t){e.namePanel=t}}},[e.movingElement?n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":1,r:"1"}}}):n("geometry-rect",{attrs:{_style:{"fill-r":1,"fill-cx":.1,"fill-cy":.1,"stroke-width":1.4,stroke:"#F8D454",fill:"#F8D454","fill-opacity":.5,r:"1"}}}),n("sub-elements",[n("circle-element",{attrs:{"sub-align":"center","sub-height":.2*e.value.elementView.height,"sub-width":.2*e.value.elementView.height,"sub-bottom":e.value.elementView.height/1.55}}),n("geometry-line",{attrs:{from:[50,35.5],to:[50,63]}}),n("geometry-line",{attrs:{from:[28,42],to:[72,42]}}),n("geometry-line",{attrs:{from:[50,63],to:[72,80]}}),n("geometry-line",{attrs:{from:[50,63],to:[27,80]}})],1)],1),e.openPanel?n("modeling-property-panel",{attrs:{titleName:"Actor",errorMsg:e.errorMsg},on:{changed:e.onPropertyUpdated},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},i=[],o=n("b815"),r=n("d4bc"),l=n("809c"),s=n("7a78"),c=n("0233"),u=n("b020"),d=n("7312"),m={components:{SubElements:d["default"],GeometryLine:u["default"],EllipseElement:c["default"],EdgeElement:s["default"],CircleElement:l["default"],RectangleElement:r["default"]},mixins:[o["default"]],name:"actor-definition",props:{},computed:{errorMsg(){var e=this;return""==e.namePanel?"Must has a name.":""},defaultStyle(){return{}},type(){return"Actor"},className(){return"org.uengine.modeling.model.Actor"},createNew(e,t,n,a,i){return{_type:this.className(),name:"",innerAggregate:{event:[],command:[],view:[],policy:[],external:[]},elementView:{_type:this.className(),id:e,x:t,y:n,width:100,height:140,style:JSON.stringify({})},boundedContext:""}}},data:function(){return{isRead:!1,itemH:200,titleH:this.value.classReference?60:30,reference:null!=this.value.classReference,referenceClassName:this.value.classReference,newEditUserImg:[],setImg:""}},created:function(){var e=this,t=e.getComponent("modeling-designer");this.$nextTick(function(){this.namePanel=e.value.name,e.isRead=t.isRead})},watch:{"value.elementView.height":function(){this.refreshImg()},movingElement:function(){this.refreshImg()},newEditUserImg:function(e){var t=this;t.refreshImg()},"value.name":function(e,t){this.namePanel=e}},mounted:function(){var e=this;e.getComponent("modeling-designer");this.$EventBus.$on(`${e.value.elementView.id}`,function(t){if("elementMove"==t.state){e.movingElement=!0;var n=JSON.parse(t.element);e.value.elementView.x=n.x,e.value.elementView.y=n.y,e.value.elementView.width=n.width,e.value.elementView.height=n.height}})},methods:{refreshImg(){var e=this;JSON.parse(JSON.stringify(this.setImg));this.setImg="test",e.$nextTick(function(){"test"==this.setImg?this.setImg="":this.setImg="test"})},onPropertyUpdated(){var e=this;console.log("onPropertyUpdated:: ACOTOR"),this.value.name=e.namePanel}}},p=m,v=n("2877"),h=Object(v["a"])(p,a,i,!1,null,"f1181aa2",null);t["default"]=h.exports},e9f0:function(e,t,n){"use strict";var a=n("b063"),i=n.n(a);i.a},ed3c:function(e,t,n){},f47d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("kube-modeling-designer",{ref:"kuberDesigner",attrs:{elementTypes:e.elementTypes,elementListBeanPath:"classDefinitions",relationListBeanPath:"relations",relationVueComponentName:"class-relation"}})},i=[],o={name:"kube-designer",props:{},data(){return{value:{},url:"",elementTypes:[{component:"deployment",label:"Deployment",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/deploy-palette.svg`},{component:"service",label:"Service",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/svc-palette.svg`},{component:"ingress",label:"Ingress",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/ing-palette.svg`},{component:"persistence-volume",label:"Persistence Volume",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pv-palette.svg`},{component:"persistence-volume-claim",label:"Persistence Volume Claim",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pvc-palette.svg`},{component:"pod",label:"Pod",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/pod-palette.svg`},{component:"replicaSet",label:"ReplicaSet",width:"100",height:"100",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/rs-palette.svg`},{component:"namespace",label:"Namespace",width:"400",height:"400",src:`${window.location.protocol+"//"+window.location.host}/static/image/symbol/kubernetes/ns-palette.svg`}]}},created:function(){},mounted:function(){},methods:{}},r=o,l=n("2877"),s=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=s.exports},f52a:function(e,t,n){e.exports=n.p+"img/logochange2.08cb66cb.png"},f5c4:function(e,t){throw new Error("Module parse failed: Invalid regular expression flag (1:7)\nYou may need an appropriate loader to handle this file type.\n> path: /src/main/java/com/example\n| ---\n| package {{options.package}};")},f611:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> from flask import Flask\n| from redis import Redis, RedisError\n| from kafka import KafkaConsumer")},f623:function(e,t){throw new Error("Module parse failed: Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n> FROM openjdk:8u212-jdk-alpine\n| COPY target/*SNAPSHOT.jar app.jar\n| EXPOSE 8080")},f741:function(e,t){throw new Error("Module parse failed: Assigning to rvalue (4:2)\nYou may need an appropriate loader to handle this file type.\n|   port: 8088\n| \n> ---\n| spring:\n|   profiles: default")},f74a:function(e,t,n){"use strict";const a={install(e,t={}){const a=n("78a4"),i={};for(var o in a.keys().forEach(e=>{"./index.js"!==e&&(i[e.replace(/(\.\/|\.vue)/g,"")]=a(e))}),null==e._components&&(e._components={}),i)e.component(i[o].default.name,i[o].default),e._components[i[o].default.name]=i[o].default;e.KubeModelingComponents=i,window&&!window.Vue&&(window.Vue=e)}};t["a"]=a},f81f:function(e,t,n){},fb83:function(e,t,n){},fbc9:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:"","max-width":"500px",disabled:e.isRead}},[n("v-row",{attrs:{align:"center",justify:"end",dense:""}},[1!=e.value.deleteRules.length?n("v-btn",{attrs:{text:""},nativeOn:{click:function(t){return e.removeMainRow(e.index)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1),n("v-list-item-subtitle",[n("v-col",{staticStyle:{padding:"2px"},attrs:{align:"start",justify:"start"}},[n("v-row",{staticStyle:{"margin-left":"10px","margin-right":"5px"},attrs:{align:"start",justify:"start"}},[n("v-autocomplete",{staticStyle:{"font-size":"15px"},attrs:{items:e.eventLists,"item-text":"name","return-object":"",prefix:"DELETE WHEN"},model:{value:e.deleteItem.when,callback:function(t){e.$set(e.deleteItem,"when",t)},expression:"deleteItem.when"}})],1),n("div",{staticStyle:{"font-size":"15px","margin-left":"30px"}},[e._v("WHERE")]),n("v-simple-table",{staticStyle:{"margin-left":"10px"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr")]),n("tbody",e._l(e.deleteItem.where,function(t,a){return n("tr",[a!=e.deleteItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.value.name)+"."+e._s(t.viewField.name))]):n("td",{staticClass:"text-right"},[n("v-autocomplete",{attrs:{items:e.value.fieldDescriptors,"item-text":"name","return-object":"",label:"viewField"},model:{value:t.viewField,callback:function(n){e.$set(t,"viewField",n)},expression:"item.viewField"}})],1),n("td",{staticClass:"text-center"},[e._v(" =")]),a!=e.deleteItem.where.length-1||e.saveBtn?n("td",{staticClass:"text-left"},[e._v(" "+e._s(e.deleteItem.when.name)+"."+e._s(t.eventField.name))]):n("td",{staticClass:"text-left"},[n("v-autocomplete",{attrs:{items:e.syncEventField,"item-text":"name","return-object":"",label:"eventField"},model:{value:t.eventField,callback:function(n){e.$set(t,"eventField",n)},expression:"item.eventField"}})],1),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{small:"",text:""},nativeOn:{click:function(t){return e.removeRow(e.deleteItem.where,a)}}},[n("v-icon",{attrs:{small:""}},[e._v(" delete")])],1)],1)])}),0)]},proxy:!0}])}),n("v-row",{staticStyle:{"margin-left":"10px"},attrs:{align:"center",justify:"end"}},[n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.test()}}},[e.saveBtn?n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil")]):n("v-icon",{attrs:{small:""}},[e._v(" mdi-content-save")])],1),n("v-btn",{attrs:{text:"",small:""},nativeOn:{click:function(t){return e.addRow(e.deleteItem.where)}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-plus")])],1)],1)],1)],1)],1)},i=[],o={name:"ViewDelete",props:{value:Object,deleteItem:Object,index:Number,isRead:Boolean},data:function(){return{saveBtn:!1}},computed:{syncEventField:function(){return Object.keys(this.deleteItem.when).length>0&&-1!=this.eventLists.findIndex(e=>e.elementView.id===this.deleteItem.when.elementView.id)?this.eventLists[this.eventLists.findIndex(e=>e.elementView.id===this.deleteItem.when.elementView.id)].fieldDescriptors:[]},eventLists:function(){var e=this,t=e.getComponent("modeling-designer"),n=[];return t.value.definition.forEach(function(e,t){null!=e&&"org.uengine.modeling.model.Event"==e._type&&n.push(e)}),n=n.filter(e=>e),n}},methods:{test(){this.saveBtn?this.saveBtn=!1:this.saveBtn=!0},removeMainRow(e){var t=this;t.value.deleteRules[e]=null,t.value.deleteRules=t.value.deleteRules.filter(e=>e)},removeRow:function(e,t){e.some(function(n,a){a==t&&a>-1&&e.splice(a,1)})},addRow:function(e){if(0==e.length||0!==Object.keys(e[e.length-1].viewField).length&&0!==Object.keys(e[e.length-1].eventField).length){var t={viewField:{},eventField:{}};e.push(t)}else{var n=this.getComponent("modeling-designer");n.text="TextField input Text",n.snackbar=!0}},getComponent(e){let t=null,n=this.$parent;while(n&&!t)n.$options.name===e&&(t=n),n=n.$parent;return t}}},r=o,l=n("2877"),s=n("6544"),c=n.n(s),u=n("c6a6"),d=n("8336"),m=n("b0af"),p=n("62ad"),v=n("132d"),h=n("5d23"),f=n("0fd9"),g=n("1f4f"),y=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=y.exports;c()(y,{VAutocomplete:u["a"],VBtn:d["a"],VCard:m["a"],VCol:p["a"],VIcon:v["a"],VListItemSubtitle:h["b"],VRow:f["a"],VSimpleTable:g["a"]})}});
//# sourceMappingURL=app.2fdc7b3e.js.map